var ok=Object.defineProperty;var ak=(t,e,n)=>e in t?ok(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var nh=(t,e,n)=>(ak(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function tw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var So={},lk={get exports(){return So},set exports(t){So=t}},Qu={},_={},uk={get exports(){return _},set exports(t){_=t}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=Symbol.for("react.element"),ck=Symbol.for("react.portal"),hk=Symbol.for("react.fragment"),fk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),pk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),gk=Symbol.for("react.forward_ref"),vk=Symbol.for("react.suspense"),yk=Symbol.for("react.memo"),wk=Symbol.for("react.lazy"),qg=Symbol.iterator;function Ek(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rw=Object.assign,iw={};function ws(t,e,n){this.props=t,this.context=e,this.refs=iw,this.updater=n||nw}ws.prototype.isReactComponent={};ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sw(){}sw.prototype=ws.prototype;function fp(t,e,n){this.props=t,this.context=e,this.refs=iw,this.updater=n||nw}var dp=fp.prototype=new sw;dp.constructor=fp;rw(dp,ws.prototype);dp.isPureReactComponent=!0;var Gg=Array.isArray,ow=Object.prototype.hasOwnProperty,pp={current:null},aw={key:!0,ref:!0,__self:!0,__source:!0};function lw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ow.call(e,r)&&!aw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sa,type:t,key:s,ref:o,props:i,_owner:pp.current}}function Sk(t,e){return{$$typeof:sa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===sa}function Tk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qg=/\/+/g;function rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tk(""+t.key):e.toString(36)}function vl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sa:case ck:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rh(o,0):r,Gg(i)?(n="",t!=null&&(n=t.replace(Qg,"$&/")+"/"),vl(i,e,n,"",function(u){return u})):i!=null&&(mp(i)&&(i=Sk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Gg(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+rh(s,a);o+=vl(s,e,n,l,i)}else if(l=Ek(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+rh(s,a++),o+=vl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ja(t,e,n){if(t==null)return t;var r=[],i=0;return vl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},yl={transition:null},Ck={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:pp};J.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=ws;J.Fragment=hk;J.Profiler=dk;J.PureComponent=fp;J.StrictMode=fk;J.Suspense=vk;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ck;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ow.call(e,l)&&!aw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sa,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:mk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pk,_context:t},t.Consumer=t};J.createElement=lw;J.createFactory=function(t){var e=lw.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:gk,render:t}};J.isValidElement=mp;J.lazy=function(t){return{$$typeof:wk,_payload:{_status:-1,_result:t},_init:_k}};J.memo=function(t,e){return{$$typeof:yk,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=yl.transition;yl.transition={};try{t()}finally{yl.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return pt.current.useCallback(t,e)};J.useContext=function(t){return pt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};J.useEffect=function(t,e){return pt.current.useEffect(t,e)};J.useId=function(){return pt.current.useId()};J.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return pt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};J.useRef=function(t){return pt.current.useRef(t)};J.useState=function(t){return pt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return pt.current.useTransition()};J.version="18.2.0";(function(t){t.exports=J})(uk);const Xt=tw(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik=_,kk=Symbol.for("react.element"),xk=Symbol.for("react.fragment"),Ak=Object.prototype.hasOwnProperty,Pk=Ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rk={key:!0,ref:!0,__self:!0,__source:!0};function uw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ak.call(e,r)&&!Rk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kk,type:t,key:s,ref:o,props:i,_owner:Pk.current}}Qu.Fragment=xk;Qu.jsx=uw;Qu.jsxs=uw;(function(t){t.exports=Qu})(lk);const Nk=So.Fragment,D=So.jsx,ue=So.jsxs;var Ef={},Sf={},Dk={get exports(){return Sf},set exports(t){Sf=t}},Ot={},Tf={},Ok={get exports(){return Tf},set exports(t){Tf=t}},cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,j){var K=b.length;b.push(j);e:for(;0<K;){var le=K-1>>>1,ne=b[le];if(0<i(ne,j))b[le]=j,b[K]=ne,K=le;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var j=b[0],K=b.pop();if(K!==j){b[0]=K;e:for(var le=0,ne=b.length,Z=ne>>>1;le<Z;){var O=2*(le+1)-1,$=b[O],ye=O+1,nn=b[ye];if(0>i($,K))ye<ne&&0>i(nn,$)?(b[le]=nn,b[ye]=K,le=ye):(b[le]=$,b[O]=K,le=O);else if(ye<ne&&0>i(nn,K))b[le]=nn,b[ye]=K,le=ye;else break e}}return j}function i(b,j){var K=b.sortIndex-j.sortIndex;return K!==0?K:b.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,p=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=b)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w(b){if(y=!1,v(b),!p)if(n(l)!==null)p=!0,Be(E);else{var j=n(u);j!==null&&Ze(w,j.startTime-b)}}function E(b,j){p=!1,y&&(y=!1,g(T),T=-1),d=!0;var K=f;try{for(v(j),h=n(l);h!==null&&(!(h.expirationTime>j)||b&&!W());){var le=h.callback;if(typeof le=="function"){h.callback=null,f=h.priorityLevel;var ne=le(h.expirationTime<=j);j=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),v(j)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var O=n(u);O!==null&&Ze(w,O.startTime-j),Z=!1}return Z}finally{h=null,f=K,d=!1}}var C=!1,I=null,T=-1,k=5,N=-1;function W(){return!(t.unstable_now()-N<k)}function z(){if(I!==null){var b=t.unstable_now();N=b;var j=!0;try{j=I(!0,b)}finally{j?X():(C=!1,I=null)}}else C=!1}var X;if(typeof m=="function")X=function(){m(z)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,me=oe.port2;oe.port1.onmessage=z,X=function(){me.postMessage(null)}}else X=function(){S(z,0)};function Be(b){I=b,C||(C=!0,X())}function Ze(b,j){T=S(function(){b(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,Be(E))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var K=f;f=j;try{return b()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,j){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=f;f=b;try{return j()}finally{f=K}},t.unstable_scheduleCallback=function(b,j,K){var le=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?le+K:le):K=le,b){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=K+ne,b={id:c++,callback:j,priorityLevel:b,startTime:K,expirationTime:ne,sortIndex:-1},K>le?(b.sortIndex=K,e(u,b),n(l)===null&&b===n(u)&&(y?(g(T),T=-1):y=!0,Ze(w,K-le))):(b.sortIndex=ne,e(l,b),p||d||(p=!0,Be(E))),b},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(b){var j=f;return function(){var K=f;f=j;try{return b.apply(this,arguments)}finally{f=K}}}})(cw);(function(t){t.exports=cw})(Ok);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw=_,Nt=Tf;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fw=new Set,To={};function oi(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(To[t]=e,t=0;t<e.length;t++)fw.add(e[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,bk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Yg={};function Lk(t){return _f.call(Yg,t)?!0:_f.call(Xg,t)?!1:bk.test(t)?Yg[t]=!0:(Xg[t]=!0,!1)}function Mk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vk(t,e,n,r){if(e===null||typeof e>"u"||Mk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gp=/[\-:]([a-z])/g;function vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gp,vp);Qe[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gp,vp);Qe[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gp,vp);Qe[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yp(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vk(e,n,i,r)&&(n=null),r||i===null?Lk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $n=hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Ei=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),dw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),Sp=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),mw=Symbol.for("react.offscreen"),Jg=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=Jg&&t[Jg]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,ih;function Bs(t){if(ih===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ih=e&&e[1]||""}return`
`+ih+t}var sh=!1;function oh(t,e){if(!t||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bs(t):""}function $k(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=oh(t.type,!1),t;case 11:return t=oh(t.type.render,!1),t;case 1:return t=oh(t.type,!0),t;default:return""}}function xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case Ei:return"Portal";case Cf:return"Profiler";case wp:return"StrictMode";case If:return"Suspense";case kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pw:return(t.displayName||"Context")+".Consumer";case dw:return(t._context.displayName||"Context")+".Provider";case Ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sp:return e=t.displayName||null,e!==null?e:xf(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return xf(t(e))}catch{}}return null}function Fk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xf(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uk(t){var e=gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function za(t){t._valueTracker||(t._valueTracker=Uk(t))}function vw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Af(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yw(t,e){e=e.checked,e!=null&&yp(t,"checked",e,!1)}function Pf(t,e){yw(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rf(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ev(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rf(t,e,n){(e!=="number"||jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zs=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(zs(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function ww(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ew(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ew(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,Sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jk=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(t){jk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gs[e]=Gs[t]})});function Tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gs.hasOwnProperty(t)&&Gs[t]?(""+e).trim():e+"px"}function _w(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Bk=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(t,e){if(e){if(Bk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function Tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mf=null,Vi=null,$i=null;function rv(t){if(t=la(t)){if(typeof Mf!="function")throw Error(x(280));var e=t.stateNode;e&&(e=ec(e),Mf(t.stateNode,t.type,e))}}function Cw(t){Vi?$i?$i.push(t):$i=[t]:Vi=t}function Iw(){if(Vi){var t=Vi,e=$i;if($i=Vi=null,rv(t),e)for(t=0;t<e.length;t++)rv(e[t])}}function kw(t,e){return t(e)}function xw(){}var ah=!1;function Aw(t,e,n){if(ah)return t(e,n);ah=!0;try{return kw(t,e,n)}finally{ah=!1,(Vi!==null||$i!==null)&&(xw(),Iw())}}function Co(t,e){var n=t.stateNode;if(n===null)return null;var r=ec(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Vf=!1;if(An)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Vf=!1}function zk(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Qs=!1,Bl=null,zl=!1,$f=null,Hk={onError:function(t){Qs=!0,Bl=t}};function Wk(t,e,n,r,i,s,o,a,l){Qs=!1,Bl=null,zk.apply(Hk,arguments)}function Kk(t,e,n,r,i,s,o,a,l){if(Wk.apply(this,arguments),Qs){if(Qs){var u=Bl;Qs=!1,Bl=null}else throw Error(x(198));zl||(zl=!0,$f=u)}}function ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iv(t){if(ai(t)!==t)throw Error(x(188))}function qk(t){var e=t.alternate;if(!e){if(e=ai(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return iv(i),t;if(s===r)return iv(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function Rw(t){return t=qk(t),t!==null?Nw(t):null}function Nw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nw(t);if(e!==null)return e;t=t.sibling}return null}var Dw=Nt.unstable_scheduleCallback,sv=Nt.unstable_cancelCallback,Gk=Nt.unstable_shouldYield,Qk=Nt.unstable_requestPaint,ke=Nt.unstable_now,Xk=Nt.unstable_getCurrentPriorityLevel,_p=Nt.unstable_ImmediatePriority,Ow=Nt.unstable_UserBlockingPriority,Hl=Nt.unstable_NormalPriority,Yk=Nt.unstable_LowPriority,bw=Nt.unstable_IdlePriority,Xu=null,ln=null;function Jk(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:tx,Zk=Math.log,ex=Math.LN2;function tx(t){return t>>>=0,t===0?32:31-(Zk(t)/ex|0)|0}var Wa=64,Ka=4194304;function Hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Hs(a):(s&=o,s!==0&&(r=Hs(s)))}else o=n&~i,o!==0?r=Hs(o):s!==0&&(r=Hs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yt(e),i=1<<n,r|=t[n],e&=~i;return r}function nx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lw(){var t=Wa;return Wa<<=1,!(Wa&4194240)&&(Wa=64),t}function lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function oa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yt(e),t[e]=n}function ix(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ae=0;function Mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vw,Ip,$w,Fw,Uw,Uf=!1,qa=[],rr=null,ir=null,sr=null,Io=new Map,ko=new Map,Gn=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(e.pointerId)}}function Os(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=la(e),e!==null&&Ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ox(t,e,n,r,i){switch(e){case"focusin":return rr=Os(rr,t,e,n,r,i),!0;case"dragenter":return ir=Os(ir,t,e,n,r,i),!0;case"mouseover":return sr=Os(sr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Io.set(s,Os(Io.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ko.set(s,Os(ko.get(s)||null,t,e,n,r,i)),!0}return!1}function jw(t){var e=br(t.target);if(e!==null){var n=ai(e);if(n!==null){if(e=n.tag,e===13){if(e=Pw(n),e!==null){t.blockedOn=e,Uw(t.priority,function(){$w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lf=r,n.target.dispatchEvent(r),Lf=null}else return e=la(n),e!==null&&Ip(e),t.blockedOn=n,!1;e.shift()}return!0}function av(t,e,n){wl(t)&&n.delete(e)}function ax(){Uf=!1,rr!==null&&wl(rr)&&(rr=null),ir!==null&&wl(ir)&&(ir=null),sr!==null&&wl(sr)&&(sr=null),Io.forEach(av),ko.forEach(av)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Uf||(Uf=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,ax)))}function xo(t){function e(i){return bs(i,t)}if(0<qa.length){bs(qa[0],t);for(var n=1;n<qa.length;n++){var r=qa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rr!==null&&bs(rr,t),ir!==null&&bs(ir,t),sr!==null&&bs(sr,t),Io.forEach(e),ko.forEach(e),n=0;n<Gn.length;n++)r=Gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)jw(n),n.blockedOn===null&&Gn.shift()}var Fi=$n.ReactCurrentBatchConfig,Kl=!0;function lx(t,e,n,r){var i=ae,s=Fi.transition;Fi.transition=null;try{ae=1,kp(t,e,n,r)}finally{ae=i,Fi.transition=s}}function ux(t,e,n,r){var i=ae,s=Fi.transition;Fi.transition=null;try{ae=4,kp(t,e,n,r)}finally{ae=i,Fi.transition=s}}function kp(t,e,n,r){if(Kl){var i=jf(t,e,n,r);if(i===null)yh(t,e,r,ql,n),ov(t,r);else if(ox(i,t,e,n,r))r.stopPropagation();else if(ov(t,r),e&4&&-1<sx.indexOf(t)){for(;i!==null;){var s=la(i);if(s!==null&&Vw(s),s=jf(t,e,n,r),s===null&&yh(t,e,r,ql,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else yh(t,e,r,null,n)}}var ql=null;function jf(t,e,n,r){if(ql=null,t=Tp(r),t=br(t),t!==null)if(e=ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ql=t,null}function Bw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xk()){case _p:return 1;case Ow:return 4;case Hl:case Yk:return 16;case bw:return 536870912;default:return 16}default:return 16}}var Zn=null,xp=null,El=null;function zw(){if(El)return El;var t,e=xp,n=e.length,r,i="value"in Zn?Zn.value:Zn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return El=i.slice(t,1<r?1-r:void 0)}function Sl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ga(){return!0}function lv(){return!1}function bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ga:lv,this.isPropagationStopped=lv,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ga)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ga)},persist:function(){},isPersistent:Ga}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ap=bt(Es),aa=Se({},Es,{view:0,detail:0}),cx=bt(aa),uh,ch,Ls,Yu=Se({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ls&&(Ls&&t.type==="mousemove"?(uh=t.screenX-Ls.screenX,ch=t.screenY-Ls.screenY):ch=uh=0,Ls=t),uh)},movementY:function(t){return"movementY"in t?t.movementY:ch}}),uv=bt(Yu),hx=Se({},Yu,{dataTransfer:0}),fx=bt(hx),dx=Se({},aa,{relatedTarget:0}),hh=bt(dx),px=Se({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=bt(px),gx=Se({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vx=bt(gx),yx=Se({},Es,{data:0}),cv=bt(yx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ex={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Sx[t])?!!e[t]:!1}function Pp(){return Tx}var _x=Se({},aa,{key:function(t){if(t.key){var e=wx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ex[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cx=bt(_x),Ix=Se({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=bt(Ix),kx=Se({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),xx=bt(kx),Ax=Se({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),Px=bt(Ax),Rx=Se({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=bt(Rx),Dx=[9,13,27,32],Rp=An&&"CompositionEvent"in window,Xs=null;An&&"documentMode"in document&&(Xs=document.documentMode);var Ox=An&&"TextEvent"in window&&!Xs,Hw=An&&(!Rp||Xs&&8<Xs&&11>=Xs),fv=String.fromCharCode(32),dv=!1;function Ww(t,e){switch(t){case"keyup":return Dx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function bx(t,e){switch(t){case"compositionend":return Kw(e);case"keypress":return e.which!==32?null:(dv=!0,fv);case"textInput":return t=e.data,t===fv&&dv?null:t;default:return null}}function Lx(t,e){if(Ti)return t==="compositionend"||!Rp&&Ww(t,e)?(t=zw(),El=xp=Zn=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hw&&e.locale!=="ko"?null:e.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Mx[t.type]:e==="textarea"}function qw(t,e,n,r){Cw(r),e=Gl(e,"onChange"),0<e.length&&(n=new Ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ys=null,Ao=null;function Vx(t){iE(t,0)}function Ju(t){var e=Ii(t);if(vw(e))return t}function $x(t,e){if(t==="change")return e}var Gw=!1;if(An){var fh;if(An){var dh="oninput"in document;if(!dh){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),dh=typeof mv.oninput=="function"}fh=dh}else fh=!1;Gw=fh&&(!document.documentMode||9<document.documentMode)}function gv(){Ys&&(Ys.detachEvent("onpropertychange",Qw),Ao=Ys=null)}function Qw(t){if(t.propertyName==="value"&&Ju(Ao)){var e=[];qw(e,Ao,t,Tp(t)),Aw(Vx,e)}}function Fx(t,e,n){t==="focusin"?(gv(),Ys=e,Ao=n,Ys.attachEvent("onpropertychange",Qw)):t==="focusout"&&gv()}function Ux(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Ao)}function jx(t,e){if(t==="click")return Ju(e)}function Bx(t,e){if(t==="input"||t==="change")return Ju(e)}function zx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:zx;function Po(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_f.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yv(t,e){var n=vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vv(n)}}function Xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yw(){for(var t=window,e=jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jl(t.document)}return e}function Np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hx(t){var e=Yw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xw(n.ownerDocument.documentElement,n)){if(r!==null&&Np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=yv(n,s);var o=yv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wx=An&&"documentMode"in document&&11>=document.documentMode,_i=null,Bf=null,Js=null,zf=!1;function wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zf||_i==null||_i!==jl(r)||(r=_i,"selectionStart"in r&&Np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&Po(Js,r)||(Js=r,r=Gl(Bf,"onSelect"),0<r.length&&(e=new Ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_i)))}function Qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ci={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},ph={},Jw={};An&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Zu(t){if(ph[t])return ph[t];if(!Ci[t])return t;var e=Ci[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jw)return ph[t]=e[n];return t}var Zw=Zu("animationend"),eE=Zu("animationiteration"),tE=Zu("animationstart"),nE=Zu("transitionend"),rE=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){rE.set(t,e),oi(e,[t])}for(var mh=0;mh<Ev.length;mh++){var gh=Ev[mh],Kx=gh.toLowerCase(),qx=gh[0].toUpperCase()+gh.slice(1);_r(Kx,"on"+qx)}_r(Zw,"onAnimationEnd");_r(eE,"onAnimationIteration");_r(tE,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(nE,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function Sv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kk(r,e,void 0,t),t.currentTarget=null}function iE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Sv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Sv(i,a,u),s=l}}}if(zl)throw t=$f,zl=!1,$f=null,t}function de(t,e){var n=e[Gf];n===void 0&&(n=e[Gf]=new Set);var r=t+"__bubble";n.has(r)||(sE(e,t,2,!1),n.add(r))}function vh(t,e,n){var r=0;e&&(r|=4),sE(n,t,r,e)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Ro(t){if(!t[Xa]){t[Xa]=!0,fw.forEach(function(n){n!=="selectionchange"&&(Gx.has(n)||vh(n,!1,t),vh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Xa]||(e[Xa]=!0,vh("selectionchange",!1,e))}}function sE(t,e,n,r){switch(Bw(e)){case 1:var i=lx;break;case 4:i=ux;break;default:i=kp}n=i.bind(null,e,n,t),i=void 0,!Vf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=br(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Aw(function(){var u=s,c=Tp(n),h=[];e:{var f=rE.get(t);if(f!==void 0){var d=Ap,p=t;switch(t){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":d=Cx;break;case"focusin":p="focus",d=hh;break;case"focusout":p="blur",d=hh;break;case"beforeblur":case"afterblur":d=hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=xx;break;case Zw:case eE:case tE:d=mx;break;case nE:d=Px;break;case"scroll":d=cx;break;case"wheel":d=Nx;break;case"copy":case"cut":case"paste":d=vx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=hv}var y=(e&4)!==0,S=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,v;m!==null;){v=m;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=Co(m,g),w!=null&&y.push(No(m,w,v)))),S)break;m=m.return}0<y.length&&(f=new d(f,p,null,n,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Lf&&(p=n.relatedTarget||n.fromElement)&&(br(p)||p[Pn]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=u,p=p?br(p):null,p!==null&&(S=ai(p),p!==S||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(y=uv,w="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=hv,w="onPointerLeave",g="onPointerEnter",m="pointer"),S=d==null?f:Ii(d),v=p==null?f:Ii(p),f=new y(w,m+"leave",d,n,c),f.target=S,f.relatedTarget=v,w=null,br(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=v,y.relatedTarget=S,w=y),S=w,d&&p)t:{for(y=d,g=p,m=0,v=y;v;v=pi(v))m++;for(v=0,w=g;w;w=pi(w))v++;for(;0<m-v;)y=pi(y),m--;for(;0<v-m;)g=pi(g),v--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=pi(y),g=pi(g)}y=null}else y=null;d!==null&&Tv(h,f,d,y,!1),p!==null&&S!==null&&Tv(h,S,p,y,!0)}}e:{if(f=u?Ii(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=$x;else if(pv(f))if(Gw)E=Bx;else{E=Ux;var C=Fx}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=jx);if(E&&(E=E(t,u))){qw(h,E,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Rf(f,"number",f.value)}switch(C=u?Ii(u):window,t){case"focusin":(pv(C)||C.contentEditable==="true")&&(_i=C,Bf=u,Js=null);break;case"focusout":Js=Bf=_i=null;break;case"mousedown":zf=!0;break;case"contextmenu":case"mouseup":case"dragend":zf=!1,wv(h,n,c);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":wv(h,n,c)}var I;if(Rp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ti?Ww(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Hw&&n.locale!=="ko"&&(Ti||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ti&&(I=zw()):(Zn=c,xp="value"in Zn?Zn.value:Zn.textContent,Ti=!0)),C=Gl(u,T),0<C.length&&(T=new cv(T,t,null,n,c),h.push({event:T,listeners:C}),I?T.data=I:(I=Kw(n),I!==null&&(T.data=I)))),(I=Ox?bx(t,n):Lx(t,n))&&(u=Gl(u,"onBeforeInput"),0<u.length&&(c=new cv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}iE(h,e)})}function No(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Co(t,n),s!=null&&r.unshift(No(t,s,i)),s=Co(t,e),s!=null&&r.push(No(t,s,i))),t=t.return}return r}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Co(n,s),l!=null&&o.unshift(No(n,l,a))):i||(l=Co(n,s),l!=null&&o.push(No(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Qx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(Qx,`
`).replace(Xx,"")}function Ya(t,e,n){if(e=_v(e),_v(t)!==e&&n)throw Error(x(425))}function Ql(){}var Hf=null,Wf=null;function Kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(Zx)}:qf;function Zx(t){setTimeout(function(){throw t})}function wh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xo(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),an="__reactFiber$"+Ss,Do="__reactProps$"+Ss,Pn="__reactContainer$"+Ss,Gf="__reactEvents$"+Ss,eA="__reactListeners$"+Ss,tA="__reactHandles$"+Ss;function br(t){var e=t[an];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[an]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iv(t);t!==null;){if(n=t[an])return n;t=Iv(t)}return e}t=n,n=t.parentNode}return null}function la(t){return t=t[an]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function ec(t){return t[Do]||null}var Qf=[],ki=-1;function Cr(t){return{current:t}}function pe(t){0>ki||(t.current=Qf[ki],Qf[ki]=null,ki--)}function he(t,e){ki++,Qf[ki]=t.current,t.current=e}var vr={},ot=Cr(vr),Tt=Cr(!1),qr=vr;function Qi(t,e){var n=t.type.contextTypes;if(!n)return vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _t(t){return t=t.childContextTypes,t!=null}function Xl(){pe(Tt),pe(ot)}function kv(t,e,n){if(ot.current!==vr)throw Error(x(168));he(ot,e),he(Tt,n)}function oE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,Fk(t)||"Unknown",i));return Se({},n,r)}function Yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,qr=ot.current,he(ot,t),he(Tt,Tt.current),!0}function xv(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=oE(t,e,qr),r.__reactInternalMemoizedMergedChildContext=t,pe(Tt),pe(ot),he(ot,t)):pe(Tt),he(Tt,n)}var wn=null,tc=!1,Eh=!1;function aE(t){wn===null?wn=[t]:wn.push(t)}function nA(t){tc=!0,aE(t)}function Ir(){if(!Eh&&wn!==null){Eh=!0;var t=0,e=ae;try{var n=wn;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wn=null,tc=!1}catch(i){throw wn!==null&&(wn=wn.slice(t+1)),Dw(_p,Ir),i}finally{ae=e,Eh=!1}}return null}var xi=[],Ai=0,Jl=null,Zl=0,Lt=[],Mt=0,Gr=null,Sn=1,Tn="";function Nr(t,e){xi[Ai++]=Zl,xi[Ai++]=Jl,Jl=t,Zl=e}function lE(t,e,n){Lt[Mt++]=Sn,Lt[Mt++]=Tn,Lt[Mt++]=Gr,Gr=t;var r=Sn;t=Tn;var i=32-Yt(r)-1;r&=~(1<<i),n+=1;var s=32-Yt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sn=1<<32-Yt(e)+i|n<<i|r,Tn=s+t}else Sn=1<<s|n<<i|r,Tn=t}function Dp(t){t.return!==null&&(Nr(t,1),lE(t,1,0))}function Op(t){for(;t===Jl;)Jl=xi[--Ai],xi[Ai]=null,Zl=xi[--Ai],xi[Ai]=null;for(;t===Gr;)Gr=Lt[--Mt],Lt[Mt]=null,Tn=Lt[--Mt],Lt[Mt]=null,Sn=Lt[--Mt],Lt[Mt]=null}var Pt=null,At=null,ge=!1,Qt=null;function uE(t,e){var n=Vt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,At=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:Sn,overflow:Tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,At=null,!0):!1;default:return!1}}function Xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yf(t){if(ge){var e=At;if(e){var n=e;if(!Av(t,e)){if(Xf(t))throw Error(x(418));e=or(n.nextSibling);var r=Pt;e&&Av(t,e)?uE(r,n):(t.flags=t.flags&-4097|2,ge=!1,Pt=t)}}else{if(Xf(t))throw Error(x(418));t.flags=t.flags&-4097|2,ge=!1,Pt=t}}}function Pv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function Ja(t){if(t!==Pt)return!1;if(!ge)return Pv(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kf(t.type,t.memoizedProps)),e&&(e=At)){if(Xf(t))throw cE(),Error(x(418));for(;e;)uE(t,e),e=or(e.nextSibling)}if(Pv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Pt?or(t.stateNode.nextSibling):null;return!0}function cE(){for(var t=At;t;)t=or(t.nextSibling)}function Xi(){At=Pt=null,ge=!1}function bp(t){Qt===null?Qt=[t]:Qt.push(t)}var rA=$n.ReactCurrentBatchConfig;function Kt(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var eu=Cr(null),tu=null,Pi=null,Lp=null;function Mp(){Lp=Pi=tu=null}function Vp(t){var e=eu.current;pe(eu),t._currentValue=e}function Jf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ui(t,e){tu=t,Lp=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Et=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(Lp!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(tu===null)throw Error(x(308));Pi=t,tu.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var Lr=null;function $p(t){Lr===null?Lr=[t]:Lr.push(t)}function hE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,$p(e)):(n.next=i.next,i.next=n),e.interleaved=n,Rn(t,r)}function Rn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function Fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Rn(t,n)}return i=r.interleaved,i===null?(e.next=e,$p(r)):(e.next=i.next,i.next=e),r.interleaved=e,Rn(t,n)}function Tl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cp(t,n)}}function Rv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nu(t,e,n,r){var i=t.updateQueue;Wn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,y=a;switch(f=e,d=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=Se({},h,f);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xr|=o,t.lanes=o,t.memoizedState=h}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var dE=new hw.Component().refs;function Zf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nc={isMounted:function(t){return(t=t._reactInternals)?ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),i=ur(t),s=kn(r,i);s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,i),e!==null&&(Jt(e,t,i,r),Tl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),i=ur(t),s=kn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ar(t,s,i),e!==null&&(Jt(e,t,i,r),Tl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=ur(t),i=kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=ar(t,i,r),e!==null&&(Jt(e,t,r,n),Tl(e,t,r))}};function Dv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Po(n,r)||!Po(i,s):!0}function pE(t,e,n){var r=!1,i=vr,s=e.contextType;return typeof s=="object"&&s!==null?s=Ut(s):(i=_t(e)?qr:ot.current,r=e.contextTypes,s=(r=r!=null)?Qi(t,i):vr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function ed(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=dE,Fp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ut(s):(s=_t(e)?qr:ot.current,i.context=Qi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nc.enqueueReplaceState(i,i.state,null),nu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===dE&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Za(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bv(t){var e=t._init;return e(t._payload)}function mE(t){function e(g,m){if(t){var v=g.deletions;v===null?(g.deletions=[m],g.flags|=16):v.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=cr(g,m),g.index=0,g.sibling=null,g}function s(g,m,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<m?(g.flags|=2,m):v):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,v,w){return m===null||m.tag!==6?(m=xh(v,g.mode,w),m.return=g,m):(m=i(m,v),m.return=g,m)}function l(g,m,v,w){var E=v.type;return E===Si?c(g,m,v.props.children,w,v.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hn&&bv(E)===m.type)?(w=i(m,v.props),w.ref=Ms(g,m,v),w.return=g,w):(w=Al(v.type,v.key,v.props,null,g.mode,w),w.ref=Ms(g,m,v),w.return=g,w)}function u(g,m,v,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=Ah(v,g.mode,w),m.return=g,m):(m=i(m,v.children||[]),m.return=g,m)}function c(g,m,v,w,E){return m===null||m.tag!==7?(m=Hr(v,g.mode,w,E),m.return=g,m):(m=i(m,v),m.return=g,m)}function h(g,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=xh(""+m,g.mode,v),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ba:return v=Al(m.type,m.key,m.props,null,g.mode,v),v.ref=Ms(g,null,m),v.return=g,v;case Ei:return m=Ah(m,g.mode,v),m.return=g,m;case Hn:var w=m._init;return h(g,w(m._payload),v)}if(zs(m)||Ns(m))return m=Hr(m,g.mode,v,null),m.return=g,m;Za(g,m)}return null}function f(g,m,v,w){var E=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(g,m,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ba:return v.key===E?l(g,m,v,w):null;case Ei:return v.key===E?u(g,m,v,w):null;case Hn:return E=v._init,f(g,m,E(v._payload),w)}if(zs(v)||Ns(v))return E!==null?null:c(g,m,v,w,null);Za(g,v)}return null}function d(g,m,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,a(m,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ba:return g=g.get(w.key===null?v:w.key)||null,l(m,g,w,E);case Ei:return g=g.get(w.key===null?v:w.key)||null,u(m,g,w,E);case Hn:var C=w._init;return d(g,m,v,C(w._payload),E)}if(zs(w)||Ns(w))return g=g.get(v)||null,c(m,g,w,E,null);Za(m,w)}return null}function p(g,m,v,w){for(var E=null,C=null,I=m,T=m=0,k=null;I!==null&&T<v.length;T++){I.index>T?(k=I,I=null):k=I.sibling;var N=f(g,I,v[T],w);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(g,I),m=s(N,m,T),C===null?E=N:C.sibling=N,C=N,I=k}if(T===v.length)return n(g,I),ge&&Nr(g,T),E;if(I===null){for(;T<v.length;T++)I=h(g,v[T],w),I!==null&&(m=s(I,m,T),C===null?E=I:C.sibling=I,C=I);return ge&&Nr(g,T),E}for(I=r(g,I);T<v.length;T++)k=d(I,g,T,v[T],w),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?T:k.key),m=s(k,m,T),C===null?E=k:C.sibling=k,C=k);return t&&I.forEach(function(W){return e(g,W)}),ge&&Nr(g,T),E}function y(g,m,v,w){var E=Ns(v);if(typeof E!="function")throw Error(x(150));if(v=E.call(v),v==null)throw Error(x(151));for(var C=E=null,I=m,T=m=0,k=null,N=v.next();I!==null&&!N.done;T++,N=v.next()){I.index>T?(k=I,I=null):k=I.sibling;var W=f(g,I,N.value,w);if(W===null){I===null&&(I=k);break}t&&I&&W.alternate===null&&e(g,I),m=s(W,m,T),C===null?E=W:C.sibling=W,C=W,I=k}if(N.done)return n(g,I),ge&&Nr(g,T),E;if(I===null){for(;!N.done;T++,N=v.next())N=h(g,N.value,w),N!==null&&(m=s(N,m,T),C===null?E=N:C.sibling=N,C=N);return ge&&Nr(g,T),E}for(I=r(g,I);!N.done;T++,N=v.next())N=d(I,g,T,N.value,w),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?T:N.key),m=s(N,m,T),C===null?E=N:C.sibling=N,C=N);return t&&I.forEach(function(z){return e(g,z)}),ge&&Nr(g,T),E}function S(g,m,v,w){if(typeof v=="object"&&v!==null&&v.type===Si&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ba:e:{for(var E=v.key,C=m;C!==null;){if(C.key===E){if(E=v.type,E===Si){if(C.tag===7){n(g,C.sibling),m=i(C,v.props.children),m.return=g,g=m;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hn&&bv(E)===C.type){n(g,C.sibling),m=i(C,v.props),m.ref=Ms(g,C,v),m.return=g,g=m;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===Si?(m=Hr(v.props.children,g.mode,w,v.key),m.return=g,g=m):(w=Al(v.type,v.key,v.props,null,g.mode,w),w.ref=Ms(g,m,v),w.return=g,g=w)}return o(g);case Ei:e:{for(C=v.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(g,m.sibling),m=i(m,v.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Ah(v,g.mode,w),m.return=g,g=m}return o(g);case Hn:return C=v._init,S(g,m,C(v._payload),w)}if(zs(v))return p(g,m,v,w);if(Ns(v))return y(g,m,v,w);Za(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,v),m.return=g,g=m):(n(g,m),m=xh(v,g.mode,w),m.return=g,g=m),o(g)):n(g,m)}return S}var Yi=mE(!0),gE=mE(!1),ua={},un=Cr(ua),Oo=Cr(ua),bo=Cr(ua);function Mr(t){if(t===ua)throw Error(x(174));return t}function Up(t,e){switch(he(bo,e),he(Oo,t),he(un,ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Df(e,t)}pe(un),he(un,e)}function Ji(){pe(un),pe(Oo),pe(bo)}function vE(t){Mr(bo.current);var e=Mr(un.current),n=Df(e,t.type);e!==n&&(he(Oo,t),he(un,n))}function jp(t){Oo.current===t&&(pe(un),pe(Oo))}var we=Cr(0);function ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function Bp(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var _l=$n.ReactCurrentDispatcher,Th=$n.ReactCurrentBatchConfig,Qr=0,Ee=null,Ne=null,$e=null,iu=!1,Zs=!1,Lo=0,iA=0;function et(){throw Error(x(321))}function zp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,i,s){if(Qr=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_l.current=t===null||t.memoizedState===null?lA:uA,t=n(r,i),Zs){s=0;do{if(Zs=!1,Lo=0,25<=s)throw Error(x(301));s+=1,$e=Ne=null,e.updateQueue=null,_l.current=cA,t=n(r,i)}while(Zs)}if(_l.current=su,e=Ne!==null&&Ne.next!==null,Qr=0,$e=Ne=Ee=null,iu=!1,e)throw Error(x(300));return t}function Wp(){var t=Lo!==0;return Lo=0,t}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ee.memoizedState=$e=t:$e=$e.next=t,$e}function jt(){if(Ne===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=$e===null?Ee.memoizedState:$e.next;if(e!==null)$e=e,Ne=t;else{if(t===null)throw Error(x(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},$e===null?Ee.memoizedState=$e=t:$e=$e.next=t}return $e}function Mo(t,e){return typeof e=="function"?e(t):e}function _h(t){var e=jt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Qr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ee.lanes|=c,Xr|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,tn(r,e.memoizedState)||(Et=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,Xr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ch(t){var e=jt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);tn(s,e.memoizedState)||(Et=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function yE(){}function wE(t,e){var n=Ee,r=jt(),i=e(),s=!tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Et=!0),r=r.queue,Kp(TE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Vo(9,SE.bind(null,n,r,i,e),void 0,null),Fe===null)throw Error(x(349));Qr&30||EE(n,e,i)}return i}function EE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SE(t,e,n,r){e.value=n,e.getSnapshot=r,_E(e)&&CE(t)}function TE(t,e,n){return n(function(){_E(e)&&CE(t)})}function _E(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function CE(t){var e=Rn(t,1);e!==null&&Jt(e,t,1,-1)}function Lv(t){var e=sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=aA.bind(null,Ee,t),[e.memoizedState,t]}function Vo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function IE(){return jt().memoizedState}function Cl(t,e,n,r){var i=sn();Ee.flags|=t,i.memoizedState=Vo(1|e,n,void 0,r===void 0?null:r)}function rc(t,e,n,r){var i=jt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var o=Ne.memoizedState;if(s=o.destroy,r!==null&&zp(r,o.deps)){i.memoizedState=Vo(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=Vo(1|e,n,s,r)}function Mv(t,e){return Cl(8390656,8,t,e)}function Kp(t,e){return rc(2048,8,t,e)}function kE(t,e){return rc(4,2,t,e)}function xE(t,e){return rc(4,4,t,e)}function AE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PE(t,e,n){return n=n!=null?n.concat([t]):null,rc(4,4,AE.bind(null,e,t),n)}function qp(){}function RE(t,e){var n=jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function NE(t,e){var n=jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DE(t,e,n){return Qr&21?(tn(n,e)||(n=Lw(),Ee.lanes|=n,Xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Et=!0),t.memoizedState=n)}function sA(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=Th.transition;Th.transition={};try{t(!1),e()}finally{ae=n,Th.transition=r}}function OE(){return jt().memoizedState}function oA(t,e,n){var r=ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bE(t))LE(e,n);else if(n=hE(t,e,n,r),n!==null){var i=dt();Jt(n,t,r,i),ME(n,e,r)}}function aA(t,e,n){var r=ur(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bE(t))LE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,tn(a,o)){var l=e.interleaved;l===null?(i.next=i,$p(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hE(t,e,i,r),n!==null&&(i=dt(),Jt(n,t,r,i),ME(n,e,r))}}function bE(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function LE(t,e){Zs=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ME(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cp(t,n)}}var su={readContext:Ut,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},lA={readContext:Ut,useCallback:function(t,e){return sn().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:Mv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Cl(4194308,4,AE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Cl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cl(4,2,t,e)},useMemo:function(t,e){var n=sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oA.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=sn();return t={current:t},e.memoizedState=t},useState:Lv,useDebugValue:qp,useDeferredValue:function(t){return sn().memoizedState=t},useTransition:function(){var t=Lv(!1),e=t[0];return t=sA.bind(null,t[1]),sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=sn();if(ge){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Fe===null)throw Error(x(349));Qr&30||EE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mv(TE.bind(null,r,s,t),[t]),r.flags|=2048,Vo(9,SE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=sn(),e=Fe.identifierPrefix;if(ge){var n=Tn,r=Sn;n=(r&~(1<<32-Yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uA={readContext:Ut,useCallback:RE,useContext:Ut,useEffect:Kp,useImperativeHandle:PE,useInsertionEffect:kE,useLayoutEffect:xE,useMemo:NE,useReducer:_h,useRef:IE,useState:function(){return _h(Mo)},useDebugValue:qp,useDeferredValue:function(t){var e=jt();return DE(e,Ne.memoizedState,t)},useTransition:function(){var t=_h(Mo)[0],e=jt().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:wE,useId:OE,unstable_isNewReconciler:!1},cA={readContext:Ut,useCallback:RE,useContext:Ut,useEffect:Kp,useImperativeHandle:PE,useInsertionEffect:kE,useLayoutEffect:xE,useMemo:NE,useReducer:Ch,useRef:IE,useState:function(){return Ch(Mo)},useDebugValue:qp,useDeferredValue:function(t){var e=jt();return Ne===null?e.memoizedState=t:DE(e,Ne.memoizedState,t)},useTransition:function(){var t=Ch(Mo)[0],e=jt().memoizedState;return[t,e]},useMutableSource:yE,useSyncExternalStore:wE,useId:OE,unstable_isNewReconciler:!1};function Zi(t,e){try{var n="",r=e;do n+=$k(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function td(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hA=typeof WeakMap=="function"?WeakMap:Map;function VE(t,e,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){au||(au=!0,hd=r),td(t,e)},n}function $E(t,e,n){n=kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){td(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){td(t,e),typeof r!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IA.bind(null,t,e,n),e.then(t,t))}function $v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kn(-1,1),e.tag=2,ar(n,e,1))),n.lanes|=1),t)}var fA=$n.ReactCurrentOwner,Et=!1;function ut(t,e,n,r){e.child=t===null?gE(e,null,n,r):Yi(e,t.child,n,r)}function Uv(t,e,n,r,i){n=n.render;var s=e.ref;return Ui(e,i),r=Hp(t,e,n,r,s,i),n=Wp(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(ge&&n&&Dp(e),e.flags|=1,ut(t,e,r,i),e.child)}function jv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FE(t,e,s,r,i)):(t=Al(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(o,r)&&t.ref===e.ref)return Nn(t,e,i)}return e.flags|=1,t=cr(s,r),t.ref=e.ref,t.return=e,e.child=t}function FE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Po(s,r)&&t.ref===e.ref)if(Et=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Et=!0);else return e.lanes=t.lanes,Nn(t,e,i)}return nd(t,e,n,r,i)}function UE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ni,xt),xt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ni,xt),xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,he(Ni,xt),xt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,he(Ni,xt),xt|=r;return ut(t,e,i,n),e.child}function jE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nd(t,e,n,r,i){var s=_t(n)?qr:ot.current;return s=Qi(e,s),Ui(e,i),n=Hp(t,e,n,r,s,i),r=Wp(),t!==null&&!Et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(ge&&r&&Dp(e),e.flags|=1,ut(t,e,n,i),e.child)}function Bv(t,e,n,r,i){if(_t(n)){var s=!0;Yl(e)}else s=!1;if(Ui(e,i),e.stateNode===null)Il(t,e),pE(e,n,r),ed(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ut(u):(u=_t(n)?qr:ot.current,u=Qi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ov(e,o,r,u),Wn=!1;var f=e.memoizedState;o.state=f,nu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Tt.current||Wn?(typeof c=="function"&&(Zf(e,n,c,r),l=e.memoizedState),(a=Wn||Dv(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kt(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ut(l):(l=_t(n)?qr:ot.current,l=Qi(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ov(e,o,r,l),Wn=!1,f=e.memoizedState,o.state=f,nu(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||Tt.current||Wn?(typeof d=="function"&&(Zf(e,n,d,r),p=e.memoizedState),(u=Wn||Dv(e,n,u,r,f,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rd(t,e,n,r,s,i)}function rd(t,e,n,r,i,s){jE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xv(e,n,!1),Nn(t,e,s);r=e.stateNode,fA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yi(e,t.child,null,s),e.child=Yi(e,null,a,s)):ut(t,e,a,s),e.memoizedState=r.state,i&&xv(e,n,!0),e.child}function BE(t){var e=t.stateNode;e.pendingContext?kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kv(t,e.context,!1),Up(t,e.containerInfo)}function zv(t,e,n,r,i){return Xi(),bp(i),e.flags|=256,ut(t,e,n,r),e.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function zE(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),he(we,i&1),t===null)return Yf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oc(o,r,0,null),t=Hr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sd(n),e.memoizedState=id,t):Gp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=cr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=cr(a,s):(s=Hr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?sd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=id,r}return s=t.child,t=s.sibling,r=cr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gp(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function el(t,e,n,r){return r!==null&&bp(r),Yi(e,t.child,null,n),t=Gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ih(Error(x(422))),el(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=oc({mode:"visible",children:r.children},i,0,null),s=Hr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Yi(e,t.child,null,o),e.child.memoizedState=sd(o),e.memoizedState=id,s);if(!(e.mode&1))return el(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=Ih(s,r,void 0),el(t,e,o,r)}if(a=(o&t.childLanes)!==0,Et||a){if(r=Fe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(t,i),Jt(r,t,i,-1))}return em(),r=Ih(Error(x(421))),el(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,At=or(i.nextSibling),Pt=e,ge=!0,Qt=null,t!==null&&(Lt[Mt++]=Sn,Lt[Mt++]=Tn,Lt[Mt++]=Gr,Sn=t.id,Tn=t.overflow,Gr=e),e=Gp(e,r.children),e.flags|=4096,e)}function Hv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jf(t.return,e,n)}function kh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function HE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ut(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hv(t,n,e);else if(t.tag===19)Hv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ru(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ru(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kh(e,!0,n,null,s);break;case"together":kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Il(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pA(t,e,n){switch(e.tag){case 3:BE(e),Xi();break;case 5:vE(e);break;case 1:_t(e.type)&&Yl(e);break;case 4:Up(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;he(eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?zE(t,e,n):(he(we,we.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,UE(t,e,n)}return Nn(t,e,n)}var WE,od,KE,qE;WE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};od=function(){};KE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mr(un.current);var s=null;switch(n){case"input":i=Af(t,i),r=Af(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=Nf(t,i),r=Nf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ql)}Of(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(To.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(To.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vs(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mA(t,e,n){var r=e.pendingProps;switch(Op(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return _t(e.type)&&Xl(),tt(e),null;case 3:return r=e.stateNode,Ji(),pe(Tt),pe(ot),Bp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(pd(Qt),Qt=null))),od(t,e),tt(e),null;case 5:jp(e);var i=Mr(bo.current);if(n=e.type,t!==null&&e.stateNode!=null)KE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return tt(e),null}if(t=Mr(un.current),Ja(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[an]=e,r[Do]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<Ws.length;i++)de(Ws[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Zg(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":tv(r,s),de("invalid",r)}Of(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ya(r.textContent,a,t),i=["children",""+a]):To.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":za(r),ev(r,s,!0);break;case"textarea":za(r),nv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ql)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ew(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[an]=e,t[Do]=r,WE(t,e,!1,!1),e.stateNode=t;e:{switch(o=bf(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ws.length;i++)de(Ws[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":Zg(t,r),i=Af(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),de("invalid",t);break;case"textarea":tv(t,r),i=Nf(t,r),de("invalid",t);break;default:i=r}Of(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_w(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_o(t,l):typeof l=="number"&&_o(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(To.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&yp(t,s,l,o))}switch(n){case"input":za(t),ev(t,r,!1);break;case"textarea":za(t),nv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ql)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)qE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Mr(bo.current),Mr(un.current),Ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[an]=e,(s=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:Ya(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ya(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[an]=e,e.stateNode=r}return tt(e),null;case 13:if(pe(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&At!==null&&e.mode&1&&!(e.flags&128))cE(),Xi(),e.flags|=98560,s=!1;else if(s=Ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[an]=e}else Xi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else Qt!==null&&(pd(Qt),Qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?De===0&&(De=3):em())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Ji(),od(t,e),t===null&&Ro(e.stateNode.containerInfo),tt(e),null;case 10:return Vp(e.type._context),tt(e),null;case 17:return _t(e.type)&&Xl(),tt(e),null;case 19:if(pe(we),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vs(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ru(t),o!==null){for(e.flags|=128,Vs(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&ke()>es&&(e.flags|=128,r=!0,Vs(s,!1),e.lanes=4194304)}else{if(!r)if(t=ru(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return tt(e),null}else 2*ke()-s.renderingStartTime>es&&n!==1073741824&&(e.flags|=128,r=!0,Vs(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,n=we.current,he(we,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Zp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function gA(t,e){switch(Op(e),e.tag){case 1:return _t(e.type)&&Xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),pe(Tt),pe(ot),Bp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jp(e),null;case 13:if(pe(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Xi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(we),null;case 4:return Ji(),null;case 10:return Vp(e.type._context),null;case 22:case 23:return Zp(),null;case 24:return null;default:return null}}var tl=!1,rt=!1,vA=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Te(t,e,r)}else n.current=null}function ad(t,e,n){try{n()}catch(r){Te(t,e,r)}}var Wv=!1;function yA(t,e){if(Hf=Kl,t=Yw(),Np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wf={focusedElem:t,selectionRange:n},Kl=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,S=p.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Kt(e.type,y),S);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){Te(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=Wv,Wv=!1,p}function eo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ad(e,n,s)}i=i.next}while(i!==r)}}function ic(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ld(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GE(t){var e=t.alternate;e!==null&&(t.alternate=null,GE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[an],delete e[Do],delete e[Gf],delete e[eA],delete e[tA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QE(t){return t.tag===5||t.tag===3||t.tag===4}function Kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ql));else if(r!==4&&(t=t.child,t!==null))for(ud(t,e,n),t=t.sibling;t!==null;)ud(t,e,n),t=t.sibling}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}var ze=null,qt=!1;function Un(t,e,n){for(n=n.child;n!==null;)XE(t,e,n),n=n.sibling}function XE(t,e,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Xu,n)}catch{}switch(n.tag){case 5:rt||Ri(n,e);case 6:var r=ze,i=qt;ze=null,Un(t,e,n),ze=r,qt=i,ze!==null&&(qt?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(qt?(t=ze,n=n.stateNode,t.nodeType===8?wh(t.parentNode,n):t.nodeType===1&&wh(t,n),xo(t)):wh(ze,n.stateNode));break;case 4:r=ze,i=qt,ze=n.stateNode.containerInfo,qt=!0,Un(t,e,n),ze=r,qt=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ad(n,e,o),i=i.next}while(i!==r)}Un(t,e,n);break;case 1:if(!rt&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Te(n,e,a)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Un(t,e,n),rt=r):Un(t,e,n);break;default:Un(t,e,n)}}function qv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vA),e.forEach(function(r){var i=xA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,qt=!1;break e;case 3:ze=a.stateNode.containerInfo,qt=!0;break e;case 4:ze=a.stateNode.containerInfo,qt=!0;break e}a=a.return}if(ze===null)throw Error(x(160));XE(s,o,i),ze=null,qt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Te(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zt(e,t),rn(t),r&4){try{eo(3,t,t.return),ic(3,t)}catch(y){Te(t,t.return,y)}try{eo(5,t,t.return)}catch(y){Te(t,t.return,y)}}break;case 1:zt(e,t),rn(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(zt(e,t),rn(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var i=t.stateNode;try{_o(i,"")}catch(y){Te(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yw(i,s),bf(a,o);var u=bf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?_w(i,h):c==="dangerouslySetInnerHTML"?Sw(i,h):c==="children"?_o(i,h):yp(i,c,h,u)}switch(a){case"input":Pf(i,s);break;case"textarea":ww(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Mi(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mi(i,!!s.multiple,s.defaultValue,!0):Mi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Do]=s}catch(y){Te(t,t.return,y)}}break;case 6:if(zt(e,t),rn(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Te(t,t.return,y)}}break;case 3:if(zt(e,t),rn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(e.containerInfo)}catch(y){Te(t,t.return,y)}break;case 4:zt(e,t),rn(t);break;case 13:zt(e,t),rn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yp=ke())),r&4&&qv(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(u=rt)||c,zt(e,t),rt=u):zt(e,t),rn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(f=L,d=f.child,f.tag){case 0:case 11:case 14:case 15:eo(4,f,f.return);break;case 1:Ri(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Te(r,n,y)}}break;case 5:Ri(f,f.return);break;case 22:if(f.memoizedState!==null){Qv(h);continue}}d!==null?(d.return=f,L=d):Qv(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Tw("display",o))}catch(y){Te(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Te(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:zt(e,t),rn(t),r&4&&qv(t);break;case 21:break;default:zt(e,t),rn(t)}}function rn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QE(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_o(i,""),r.flags&=-33);var s=Kv(t);cd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kv(t);ud(t,a,o);break;default:throw Error(x(161))}}catch(l){Te(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wA(t,e,n){L=t,JE(t)}function JE(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||tl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rt;a=tl;var u=rt;if(tl=o,(rt=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?Xv(i):l!==null?(l.return=o,L=l):Xv(i);for(;s!==null;)L=s,JE(s),s=s.sibling;L=i,tl=a,rt=u}Gv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):Gv(t)}}function Gv(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||ic(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&xo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}rt||e.flags&512&&ld(e)}catch(f){Te(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Qv(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Xv(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ic(4,e)}catch(l){Te(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Te(e,i,l)}}var s=e.return;try{ld(e)}catch(l){Te(e,s,l)}break;case 5:var o=e.return;try{ld(e)}catch(l){Te(e,o,l)}}}catch(l){Te(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var EA=Math.ceil,ou=$n.ReactCurrentDispatcher,Qp=$n.ReactCurrentOwner,$t=$n.ReactCurrentBatchConfig,re=0,Fe=null,Pe=null,Ke=0,xt=0,Ni=Cr(0),De=0,$o=null,Xr=0,sc=0,Xp=0,to=null,yt=null,Yp=0,es=1/0,yn=null,au=!1,hd=null,lr=null,nl=!1,er=null,lu=0,no=0,fd=null,kl=-1,xl=0;function dt(){return re&6?ke():kl!==-1?kl:kl=ke()}function ur(t){return t.mode&1?re&2&&Ke!==0?Ke&-Ke:rA.transition!==null?(xl===0&&(xl=Lw()),xl):(t=ae,t!==0||(t=window.event,t=t===void 0?16:Bw(t.type)),t):1}function Jt(t,e,n,r){if(50<no)throw no=0,fd=null,Error(x(185));oa(t,n,r),(!(re&2)||t!==Fe)&&(t===Fe&&(!(re&2)&&(sc|=n),De===4&&Qn(t,Ke)),Ct(t,r),n===1&&re===0&&!(e.mode&1)&&(es=ke()+500,tc&&Ir()))}function Ct(t,e){var n=t.callbackNode;rx(t,e);var r=Wl(t,t===Fe?Ke:0);if(r===0)n!==null&&sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sv(n),e===1)t.tag===0?nA(Yv.bind(null,t)):aE(Yv.bind(null,t)),Jx(function(){!(re&6)&&Ir()}),n=null;else{switch(Mw(r)){case 1:n=_p;break;case 4:n=Ow;break;case 16:n=Hl;break;case 536870912:n=bw;break;default:n=Hl}n=oS(n,ZE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZE(t,e){if(kl=-1,xl=0,re&6)throw Error(x(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=Wl(t,t===Fe?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var i=re;re|=2;var s=tS();(Fe!==t||Ke!==e)&&(yn=null,es=ke()+500,zr(t,e));do try{_A();break}catch(a){eS(t,a)}while(1);Mp(),ou.current=s,re=i,Pe!==null?e=0:(Fe=null,Ke=0,e=De)}if(e!==0){if(e===2&&(i=Ff(t),i!==0&&(r=i,e=dd(t,i))),e===1)throw n=$o,zr(t,0),Qn(t,r),Ct(t,ke()),n;if(e===6)Qn(t,r);else{if(i=t.current.alternate,!(r&30)&&!SA(i)&&(e=uu(t,r),e===2&&(s=Ff(t),s!==0&&(r=s,e=dd(t,s))),e===1))throw n=$o,zr(t,0),Qn(t,r),Ct(t,ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Dr(t,yt,yn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=Yp+500-ke(),10<e)){if(Wl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qf(Dr.bind(null,t,yt,yn),e);break}Dr(t,yt,yn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EA(r/1960))-r,10<r){t.timeoutHandle=qf(Dr.bind(null,t,yt,yn),r);break}Dr(t,yt,yn);break;case 5:Dr(t,yt,yn);break;default:throw Error(x(329))}}}return Ct(t,ke()),t.callbackNode===n?ZE.bind(null,t):null}function dd(t,e){var n=to;return t.current.memoizedState.isDehydrated&&(zr(t,e).flags|=256),t=uu(t,e),t!==2&&(e=yt,yt=n,e!==null&&pd(e)),t}function pd(t){yt===null?yt=t:yt.push.apply(yt,t)}function SA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~Xp,e&=~sc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yt(e),r=1<<n;t[n]=-1,e&=~r}}function Yv(t){if(re&6)throw Error(x(327));ji();var e=Wl(t,0);if(!(e&1))return Ct(t,ke()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=Ff(t);r!==0&&(e=r,n=dd(t,r))}if(n===1)throw n=$o,zr(t,0),Qn(t,e),Ct(t,ke()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dr(t,yt,yn),Ct(t,ke()),null}function Jp(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(es=ke()+500,tc&&Ir())}}function Yr(t){er!==null&&er.tag===0&&!(re&6)&&ji();var e=re;re|=1;var n=$t.transition,r=ae;try{if($t.transition=null,ae=1,t)return t()}finally{ae=r,$t.transition=n,re=e,!(re&6)&&Ir()}}function Zp(){xt=Ni.current,pe(Ni)}function zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Yx(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Op(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:Ji(),pe(Tt),pe(ot),Bp();break;case 5:jp(r);break;case 4:Ji();break;case 13:pe(we);break;case 19:pe(we);break;case 10:Vp(r.type._context);break;case 22:case 23:Zp()}n=n.return}if(Fe=t,Pe=t=cr(t.current,null),Ke=xt=e,De=0,$o=null,Xp=sc=Xr=0,yt=to=null,Lr!==null){for(e=0;e<Lr.length;e++)if(n=Lr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Lr=null}return t}function eS(t,e){do{var n=Pe;try{if(Mp(),_l.current=su,iu){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}iu=!1}if(Qr=0,$e=Ne=Ee=null,Zs=!1,Lo=0,Qp.current=null,n===null||n.return===null){De=1,$o=e,Pe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=$v(o);if(d!==null){d.flags&=-257,Fv(d,o,a,s,e),d.mode&1&&Vv(s,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){Vv(s,u,e),em();break e}l=Error(x(426))}}else if(ge&&a.mode&1){var S=$v(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Fv(S,o,a,s,e),bp(Zi(l,a));break e}}s=l=Zi(l,a),De!==4&&(De=2),to===null?to=[s]:to.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=VE(s,l,e);Rv(s,g);break e;case 1:a=l;var m=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(lr===null||!lr.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=$E(s,a,e);Rv(s,w);break e}}s=s.return}while(s!==null)}rS(n)}catch(E){e=E,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(1)}function tS(){var t=ou.current;return ou.current=su,t===null?su:t}function em(){(De===0||De===3||De===2)&&(De=4),Fe===null||!(Xr&268435455)&&!(sc&268435455)||Qn(Fe,Ke)}function uu(t,e){var n=re;re|=2;var r=tS();(Fe!==t||Ke!==e)&&(yn=null,zr(t,e));do try{TA();break}catch(i){eS(t,i)}while(1);if(Mp(),re=n,ou.current=r,Pe!==null)throw Error(x(261));return Fe=null,Ke=0,De}function TA(){for(;Pe!==null;)nS(Pe)}function _A(){for(;Pe!==null&&!Gk();)nS(Pe)}function nS(t){var e=sS(t.alternate,t,xt);t.memoizedProps=t.pendingProps,e===null?rS(t):Pe=e,Qp.current=null}function rS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gA(n,e),n!==null){n.flags&=32767,Pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Pe=null;return}}else if(n=mA(n,e,xt),n!==null){Pe=n;return}if(e=e.sibling,e!==null){Pe=e;return}Pe=e=t}while(e!==null);De===0&&(De=5)}function Dr(t,e,n){var r=ae,i=$t.transition;try{$t.transition=null,ae=1,CA(t,e,n,r)}finally{$t.transition=i,ae=r}return null}function CA(t,e,n,r){do ji();while(er!==null);if(re&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ix(t,s),t===Fe&&(Pe=Fe=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,oS(Hl,function(){return ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var o=ae;ae=1;var a=re;re|=4,Qp.current=null,yA(t,n),YE(n,t),Hx(Wf),Kl=!!Hf,Wf=Hf=null,t.current=n,wA(n),Qk(),re=a,ae=o,$t.transition=s}else t.current=n;if(nl&&(nl=!1,er=t,lu=i),s=t.pendingLanes,s===0&&(lr=null),Jk(n.stateNode),Ct(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(au)throw au=!1,t=hd,hd=null,t;return lu&1&&t.tag!==0&&ji(),s=t.pendingLanes,s&1?t===fd?no++:(no=0,fd=t):no=0,Ir(),null}function ji(){if(er!==null){var t=Mw(lu),e=$t.transition,n=ae;try{if($t.transition=null,ae=16>t?16:t,er===null)var r=!1;else{if(t=er,er=null,lu=0,re&6)throw Error(x(331));var i=re;for(re|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:eo(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var f=c.sibling,d=c.return;if(GE(c),c===u){L=null;break}if(f!==null){f.return=d,L=f;break}L=d}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:eo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,L=g;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,L=v;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ic(9,a)}}catch(E){Te(a,a.return,E)}if(a===o){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(re=i,Ir(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Xu,t)}catch{}r=!0}return r}finally{ae=n,$t.transition=e}}return!1}function Jv(t,e,n){e=Zi(n,e),e=VE(t,e,1),t=ar(t,e,1),e=dt(),t!==null&&(oa(t,1,e),Ct(t,e))}function Te(t,e,n){if(t.tag===3)Jv(t,t,n);else for(;e!==null;){if(e.tag===3){Jv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(lr===null||!lr.has(r))){t=Zi(n,t),t=$E(e,t,1),e=ar(e,t,1),t=dt(),e!==null&&(oa(e,1,t),Ct(e,t));break}}e=e.return}}function IA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,Fe===t&&(Ke&n)===n&&(De===4||De===3&&(Ke&130023424)===Ke&&500>ke()-Yp?zr(t,0):Xp|=n),Ct(t,e)}function iS(t,e){e===0&&(t.mode&1?(e=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):e=1);var n=dt();t=Rn(t,e),t!==null&&(oa(t,e,n),Ct(t,n))}function kA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iS(t,n)}function xA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),iS(t,n)}var sS;sS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Tt.current)Et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Et=!1,pA(t,e,n);Et=!!(t.flags&131072)}else Et=!1,ge&&e.flags&1048576&&lE(e,Zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Il(t,e),t=e.pendingProps;var i=Qi(e,ot.current);Ui(e,n),i=Hp(null,e,r,t,i,n);var s=Wp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_t(r)?(s=!0,Yl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fp(e),i.updater=nc,e.stateNode=i,i._reactInternals=e,ed(e,r,t,n),e=rd(null,e,r,!0,s,n)):(e.tag=0,ge&&s&&Dp(e),ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Il(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PA(r),t=Kt(r,t),i){case 0:e=nd(null,e,r,t,n);break e;case 1:e=Bv(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=jv(null,e,r,Kt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),nd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Bv(t,e,r,i,n);case 3:e:{if(BE(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fE(t,e),nu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zi(Error(x(423)),e),e=zv(t,e,r,n,i);break e}else if(r!==i){i=Zi(Error(x(424)),e),e=zv(t,e,r,n,i);break e}else for(At=or(e.stateNode.containerInfo.firstChild),Pt=e,ge=!0,Qt=null,n=gE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xi(),r===i){e=Nn(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return vE(e),t===null&&Yf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Kf(r,i)?o=null:s!==null&&Kf(r,s)&&(e.flags|=32),jE(t,e),ut(t,e,o,n),e.child;case 6:return t===null&&Yf(e),null;case 13:return zE(t,e,n);case 4:return Up(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yi(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Uv(t,e,r,i,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,he(eu,r._currentValue),r._currentValue=o,s!==null)if(tn(s.value,o)){if(s.children===i.children&&!Tt.current){e=Nn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ui(e,n),i=Ut(i),r=r(i),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,i=Kt(r,e.pendingProps),i=Kt(r.type,i),jv(t,e,r,i,n);case 15:return FE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kt(r,i),Il(t,e),e.tag=1,_t(r)?(t=!0,Yl(e)):t=!1,Ui(e,n),pE(e,r,i),ed(e,r,i,n),rd(null,e,r,!0,t,n);case 19:return HE(t,e,n);case 22:return UE(t,e,n)}throw Error(x(156,e.tag))};function oS(t,e){return Dw(t,e)}function AA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,e,n,r){return new AA(t,e,n,r)}function tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PA(t){if(typeof t=="function")return tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ep)return 11;if(t===Sp)return 14}return 2}function cr(t,e){var n=t.alternate;return n===null?(n=Vt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Al(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Si:return Hr(n.children,i,s,e);case wp:o=8,i|=8;break;case Cf:return t=Vt(12,n,e,i|2),t.elementType=Cf,t.lanes=s,t;case If:return t=Vt(13,n,e,i),t.elementType=If,t.lanes=s,t;case kf:return t=Vt(19,n,e,i),t.elementType=kf,t.lanes=s,t;case mw:return oc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dw:o=10;break e;case pw:o=9;break e;case Ep:o=11;break e;case Sp:o=14;break e;case Hn:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Vt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hr(t,e,n,r){return t=Vt(7,t,r,e),t.lanes=n,t}function oc(t,e,n,r){return t=Vt(22,t,r,e),t.elementType=mw,t.lanes=n,t.stateNode={isHidden:!1},t}function xh(t,e,n){return t=Vt(6,t,null,e),t.lanes=n,t}function Ah(t,e,n){return e=Vt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nm(t,e,n,r,i,s,o,a,l){return t=new RA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(s),t}function NA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aS(t){if(!t)return vr;t=t._reactInternals;e:{if(ai(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(_t(n))return oE(t,n,e)}return e}function lS(t,e,n,r,i,s,o,a,l){return t=nm(n,r,!0,t,i,s,o,a,l),t.context=aS(null),n=t.current,r=dt(),i=ur(n),s=kn(r,i),s.callback=e??null,ar(n,s,i),t.current.lanes=i,oa(t,i,r),Ct(t,r),t}function ac(t,e,n,r){var i=e.current,s=dt(),o=ur(i);return n=aS(n),e.context===null?e.context=n:e.pendingContext=n,e=kn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ar(i,e,o),t!==null&&(Jt(t,i,o,s),Tl(t,i,o)),o}function cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rm(t,e){Zv(t,e),(t=t.alternate)&&Zv(t,e)}function DA(){return null}var uS=typeof reportError=="function"?reportError:function(t){console.error(t)};function im(t){this._internalRoot=t}lc.prototype.render=im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));ac(t,e,null,null)};lc.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yr(function(){ac(null,t,null,null)}),e[Pn]=null}};function lc(t){this._internalRoot=t}lc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gn.length&&e!==0&&e<Gn[n].priority;n++);Gn.splice(n,0,t),n===0&&jw(t)}};function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ey(){}function OA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cu(o);s.call(u)}}var o=lS(e,r,t,0,null,!1,!1,"",ey);return t._reactRootContainer=o,t[Pn]=o.current,Ro(t.nodeType===8?t.parentNode:t),Yr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cu(l);a.call(u)}}var l=nm(t,0,!1,null,null,!1,!1,"",ey);return t._reactRootContainer=l,t[Pn]=l.current,Ro(t.nodeType===8?t.parentNode:t),Yr(function(){ac(e,l,n,r)}),l}function cc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cu(o);a.call(l)}}ac(e,o,t,i)}else o=OA(n,e,t,i,r);return cu(o)}Vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hs(e.pendingLanes);n!==0&&(Cp(e,n|1),Ct(e,ke()),!(re&6)&&(es=ke()+500,Ir()))}break;case 13:Yr(function(){var r=Rn(t,1);if(r!==null){var i=dt();Jt(r,t,1,i)}}),rm(t,1)}};Ip=function(t){if(t.tag===13){var e=Rn(t,134217728);if(e!==null){var n=dt();Jt(e,t,134217728,n)}rm(t,134217728)}};$w=function(t){if(t.tag===13){var e=ur(t),n=Rn(t,e);if(n!==null){var r=dt();Jt(n,t,e,r)}rm(t,e)}};Fw=function(){return ae};Uw=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};Mf=function(t,e,n){switch(e){case"input":if(Pf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ec(r);if(!i)throw Error(x(90));vw(r),Pf(r,i)}}}break;case"textarea":ww(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};kw=Jp;xw=Yr;var bA={usingClientEntryPoint:!1,Events:[la,Ii,ec,Cw,Iw,Jp]},$s={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LA={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rw(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||DA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Xu=rl.inject(LA),ln=rl}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bA;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(e))throw Error(x(200));return NA(t,e,null,n)};Ot.createRoot=function(t,e){if(!sm(t))throw Error(x(299));var n=!1,r="",i=uS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nm(t,1,!1,null,null,n,!1,r,i),t[Pn]=e.current,Ro(t.nodeType===8?t.parentNode:t),new im(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=Rw(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Yr(t)};Ot.hydrate=function(t,e,n){if(!uc(e))throw Error(x(200));return cc(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!sm(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=uS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lS(e,null,t,1,n??null,i,!1,s,o),t[Pn]=e.current,Ro(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lc(e)};Ot.render=function(t,e,n){if(!uc(e))throw Error(x(200));return cc(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!uc(t))throw Error(x(40));return t._reactRootContainer?(Yr(function(){cc(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Jp;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!uc(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return cc(t,e,n,!1,r)};Ot.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Ot})(Dk);var ty=Sf;Ef.createRoot=ty.createRoot,Ef.hydrateRoot=ty.hydrateRoot;function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));var ny=function(t){return t},ry="beforeunload",MA="hashchange",VA="popstate";function $A(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function s(){var T=yr(r.location.hash.substr(1)),k=T.pathname,N=k===void 0?"/":k,W=T.search,z=W===void 0?"":W,X=T.hash,oe=X===void 0?"":X,me=i.state||{};return[me.idx,ny({pathname:N,search:z,hash:oe,state:me.usr||null,key:me.key||"default"})]}var o=null;function a(){if(o)d.call(o),o=null;else{var T=Vr.Pop,k=s(),N=k[0],W=k[1];if(d.length){if(N!=null){var z=c-N;z&&(o={action:T,location:W,retry:function(){C(z*-1)}},C(z))}}else v(T)}}r.addEventListener(VA,a),r.addEventListener(MA,function(){var T=s(),k=T[1];ro(k)!==ro(h)&&a()});var l=Vr.Pop,u=s(),c=u[0],h=u[1],f=sy(),d=sy();c==null&&(c=0,i.replaceState(hu({},i.state,{idx:c}),""));function p(){var T=document.querySelector("base"),k="";if(T&&T.getAttribute("href")){var N=r.location.href,W=N.indexOf("#");k=W===-1?N:N.slice(0,W)}return k}function y(T){return p()+"#"+(typeof T=="string"?T:ro(T))}function S(T,k){return k===void 0&&(k=null),ny(hu({pathname:h.pathname,hash:"",search:""},typeof T=="string"?yr(T):T,{state:k,key:FA()}))}function g(T,k){return[{usr:T.state,key:T.key,idx:k},y(T)]}function m(T,k,N){return!d.length||(d.call({action:T,location:k,retry:N}),!1)}function v(T){l=T;var k=s();c=k[0],h=k[1],f.call({action:l,location:h})}function w(T,k){var N=Vr.Push,W=S(T,k);function z(){w(T,k)}if(m(N,W,z)){var X=g(W,c+1),oe=X[0],me=X[1];try{i.pushState(oe,"",me)}catch{r.location.assign(me)}v(N)}}function E(T,k){var N=Vr.Replace,W=S(T,k);function z(){E(T,k)}if(m(N,W,z)){var X=g(W,c),oe=X[0],me=X[1];i.replaceState(oe,"",me),v(N)}}function C(T){i.go(T)}var I={get action(){return l},get location(){return h},createHref:y,push:w,replace:E,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(k){return f.push(k)},block:function(k){var N=d.push(k);return d.length===1&&r.addEventListener(ry,iy),function(){N(),d.length||r.removeEventListener(ry,iy)}}};return I}function iy(t){t.preventDefault(),t.returnValue=""}function sy(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function FA(){return Math.random().toString(36).substr(2,8)}function ro(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,s=t.hash,o=s===void 0?"":s;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function yr(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const om=_.createContext(null),am=_.createContext(null),ca=_.createContext({outlet:null,matches:[]});function pn(t,e){if(!t)throw new Error(e)}function UA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?yr(e):e,i=fS(r.pathname||"/",n);if(i==null)return null;let s=cS(t);jA(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=XA(s[a],i);return o}function cS(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||pn(!1),o.relativePath=o.relativePath.slice(r.length));let a=hr([r,o.relativePath]),l=n.concat(o);i.children&&i.children.length>0&&(i.index===!0&&pn(!1),cS(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:GA(a,i.index),routesMeta:l})}),e}function jA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BA=/^:\w+$/,zA=3,HA=2,WA=1,KA=10,qA=-2,oy=t=>t==="*";function GA(t,e){let n=t.split("/"),r=n.length;return n.some(oy)&&(r+=qA),e&&(r+=HA),n.filter(i=>!oy(i)).reduce((i,s)=>i+(BA.test(s)?zA:s===""?WA:KA),r)}function QA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function XA(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=YA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:hr([i,c.pathname]),pathnameBase:dS(hr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=hr([i,c.pathnameBase]))}return s}function YA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=ZA(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:t}}function JA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function ZA(t,e){try{return decodeURIComponent(t)}catch{return t}}function eP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yr(t):t;return{pathname:n?n.startsWith("/")?n:tP(n,e):e,search:rP(r),hash:iP(i)}}function tP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hS(t,e,n){let r=typeof t=="string"?yr(t):t,i=t===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=n;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=eP(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function nP(t){return t===""||t.pathname===""?"/":typeof t=="string"?yr(t).pathname:t.pathname}function fS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const hr=t=>t.join("/").replace(/\/\/+/g,"/"),dS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sP(t){ha()||pn(!1);let{basename:e,navigator:n}=_.useContext(om),{hash:r,pathname:i,search:s}=mS(t),o=i;if(e!=="/"){let a=nP(t),l=a!=null&&a.endsWith("/");o=i==="/"?e+(l?"/":""):hr([e,i])}return n.createHref({pathname:o,search:s,hash:r})}function ha(){return _.useContext(am)!=null}function hc(){return ha()||pn(!1),_.useContext(am).location}function fc(){ha()||pn(!1);let{basename:t,navigator:e}=_.useContext(om),{matches:n}=_.useContext(ca),{pathname:r}=hc(),i=JSON.stringify(n.map(a=>a.pathnameBase)),s=_.useRef(!1);return _.useEffect(()=>{s.current=!0}),_.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=hS(a,JSON.parse(i),r);t!=="/"&&(u.pathname=hr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[t,e,i,r])}function pS(){let{matches:t}=_.useContext(ca),e=t[t.length-1];return e?e.params:{}}function mS(t){let{matches:e}=_.useContext(ca),{pathname:n}=hc(),r=JSON.stringify(e.map(i=>i.pathnameBase));return _.useMemo(()=>hS(t,JSON.parse(r),n),[t,r,n])}function oP(t,e){ha()||pn(!1);let{matches:n}=_.useContext(ca),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=hc(),a;if(e){var l;let f=typeof e=="string"?yr(e):e;s==="/"||(l=f.pathname)!=null&&l.startsWith(s)||pn(!1),a=f}else a=o;let u=a.pathname||"/",c=s==="/"?u:u.slice(s.length)||"/",h=UA(t,{pathname:c});return aP(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},i,f.params),pathname:hr([s,f.pathname]),pathnameBase:f.pathnameBase==="/"?s:hr([s,f.pathnameBase])})),n)}function aP(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>_.createElement(ca.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function yi(t){pn(!1)}function lP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vr.Pop,navigator:s,static:o=!1}=t;ha()&&pn(!1);let a=dS(e),l=_.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=yr(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,p=_.useMemo(()=>{let y=fS(u,a);return y==null?null:{pathname:y,search:c,hash:h,state:f,key:d}},[a,u,c,h,f,d]);return p==null?null:_.createElement(om.Provider,{value:l},_.createElement(am.Provider,{children:n,value:{location:p,navigationType:i}}))}function uP(t){let{children:e,location:n}=t;return oP(md(e),n)}function md(t){let e=[];return _.Children.forEach(t,n=>{if(!_.isValidElement(n))return;if(n.type===_.Fragment){e.push.apply(e,md(n.props.children));return}n.type!==yi&&pn(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=md(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gd.apply(this,arguments)}function cP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const hP=["onClick","reloadDocument","replace","state","target","to"];function fP(t){let{basename:e,children:n,window:r}=t,i=_.useRef();i.current==null&&(i.current=$A({window:r}));let s=i.current,[o,a]=_.useState({action:s.action,location:s.location});return _.useLayoutEffect(()=>s.listen(a),[s]),_.createElement(lP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}function dP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const fu=_.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,u=cP(e,hP),c=sP(l),h=pP(l,{replace:s,state:o,target:a});function f(d){r&&r(d),!d.defaultPrevented&&!i&&h(d)}return _.createElement("a",gd({},u,{href:c,onClick:f,ref:n,target:a}))});function pP(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,s=fc(),o=hc(),a=mS(t);return _.useCallback(l=>{if(l.button===0&&(!n||n==="_self")&&!dP(l)){l.preventDefault();let u=!!r||ro(o)===ro(a);s(t,{replace:u,state:i})}},[o,s,a,r,i,n,t])}const dc=_.createContext(null);var gS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ay=Xt.createContext&&Xt.createContext(gS),fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fr.apply(this,arguments)},mP=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function vS(t){return t&&t.map(function(e,n){return Xt.createElement(e.tag,fr({key:n},e.attr),vS(e.child))})}function Fn(t){return function(e){return Xt.createElement(gP,fr({attr:fr({},t.attr)},e),vS(t.child))}}function gP(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=mP(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Xt.createElement("svg",fr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:fr(fr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Xt.createElement("title",null,s),t.children)};return ay!==void 0?Xt.createElement(ay.Consumer,null,function(n){return e(n)}):e(gS)}function vP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.001 20H20v2h-8C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10a9.985 9.985 0 0 1-3.999 8zM12 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm-4 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm8 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm-4 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}}]}]})(t)}function yP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"}}]}]})(t)}function wP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(t)}function EP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM21.3 229.2H21c.1-.1.2-.3.3-.4zM97 319.8H64V192h33zm113.2 0h-28.7v-86.4l-11.6 86.4h-20.6l-12.2-84.5v84.5h-29V192h42.8c3.3 19.8 6 39.9 8.7 59.9l7.6-59.9h43zm11.4 0V192h24.6c17.6 0 44.7-1.6 49 20.9 1.7 7.6 1.4 16.3 1.4 24.4 0 88.5 11.1 82.6-75 82.5zm160.9-29.2c0 15.7-2.4 30.9-22.2 30.9-9 0-15.2-3-20.9-9.8l-1.9 8.1h-29.8V192h31.7v41.7c6-6.5 12-9.2 20.9-9.2 21.4 0 22.2 12.8 22.2 30.1zM265 229.9c0-9.7 1.6-16-10.3-16v83.7c12.2.3 10.3-8.7 10.3-18.4zm85.5 26.1c0-5.4 1.1-12.7-6.2-12.7-6 0-4.9 8.9-4.9 12.7 0 .6-1.1 39.6 1.1 44.7.8 1.6 2.2 2.4 3.8 2.4 7.8 0 6.2-9 6.2-14.4z"}}]})(t)}function SP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6 0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"}}]})(t)}function TP(t){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_P=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_P(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},CP=function(t){const e=yS(t);return wS.encodeByteArray(e,!0)},ES=function(t){return CP(t).replace(/\./g,"")},IP=function(t){try{return wS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function TS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xP(){return Ue().indexOf("Electron/")>=0}function CS(){const t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AP(){return Ue().indexOf("MSAppHost/")>=0}function PP(){return typeof indexedDB=="object"}function RP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NP,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fa.prototype.create)}}class fa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?DP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new li(i,a,r)}}function DP(t,e){return t.replace(OP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OP=/\{\$([^}]+)}/g;function bP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function du(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ly(s)&&ly(o)){if(!du(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ly(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LP(t,e){const n=new MP(t,e);return n.subscribe.bind(n)}class MP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ph),i.error===void 0&&(i.error=Ph),i.complete===void 0&&(i.complete=Ph);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ph(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UP(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FP(t){return t===Or?void 0:t}function UP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $P(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const BP={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},zP=ie.INFO,HP={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},WP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lm{constructor(e){this.name=e,this._logLevel=zP,this._logHandler=WP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const KP=(t,e)=>e.some(n=>t instanceof n);let uy,cy;function qP(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GP(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IS=new WeakMap,vd=new WeakMap,kS=new WeakMap,Rh=new WeakMap,um=new WeakMap;function QP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IS.set(n,t)}).catch(()=>{}),um.set(e,t),e}function XP(t){if(vd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vd.set(t,e)}let yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YP(t){yd=t(yd)}function JP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Nh(this),e,...n);return kS.set(r,e.sort?e.sort():[e]),dr(r)}:GP().includes(t)?function(...e){return t.apply(Nh(this),e),dr(IS.get(this))}:function(...e){return dr(t.apply(Nh(this),e))}}function ZP(t){return typeof t=="function"?JP(t):(t instanceof IDBTransaction&&XP(t),KP(t,qP())?new Proxy(t,yd):t)}function dr(t){if(t instanceof IDBRequest)return QP(t);if(Rh.has(t))return Rh.get(t);const e=ZP(t);return e!==t&&(Rh.set(t,e),um.set(e,t)),e}const Nh=t=>um.get(t);function eR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=dr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(dr(o.result),l.oldVersion,l.newVersion,dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const tR=["get","getKey","getAll","getAllKeys","count"],nR=["put","add","delete","clear"],Dh=new Map;function hy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dh.get(e))return Dh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tR.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Dh.set(e,s),s}YP(t=>({...t,get:(e,n,r)=>hy(e,n)||t.get(e,n,r),has:(e,n)=>!!hy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wd="@firebase/app",fy="0.7.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new lm("@firebase/app"),sR="@firebase/app-compat",oR="@firebase/analytics-compat",aR="@firebase/analytics",lR="@firebase/app-check-compat",uR="@firebase/app-check",cR="@firebase/auth",hR="@firebase/auth-compat",fR="@firebase/database",dR="@firebase/database-compat",pR="@firebase/functions",mR="@firebase/functions-compat",gR="@firebase/installations",vR="@firebase/installations-compat",yR="@firebase/messaging",wR="@firebase/messaging-compat",ER="@firebase/performance",SR="@firebase/performance-compat",TR="@firebase/remote-config",_R="@firebase/remote-config-compat",CR="@firebase/storage",IR="@firebase/storage-compat",kR="@firebase/firestore",xR="@firebase/firestore-compat",AR="firebase",PR="9.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="[DEFAULT]",RR={[wd]:"fire-core",[sR]:"fire-core-compat",[aR]:"fire-analytics",[oR]:"fire-analytics-compat",[uR]:"fire-app-check",[lR]:"fire-app-check-compat",[cR]:"fire-auth",[hR]:"fire-auth-compat",[fR]:"fire-rtdb",[dR]:"fire-rtdb-compat",[pR]:"fire-fn",[mR]:"fire-fn-compat",[gR]:"fire-iid",[vR]:"fire-iid-compat",[yR]:"fire-fcm",[wR]:"fire-fcm-compat",[ER]:"fire-perf",[SR]:"fire-perf-compat",[TR]:"fire-rc",[_R]:"fire-rc-compat",[CR]:"fire-gcs",[IR]:"fire-gcs-compat",[kR]:"fire-fst",[xR]:"fire-fst-compat","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=new Map,Ed=new Map;function NR(t,e){try{t.container.addComponent(e)}catch(n){cm.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ts(t){const e=t.name;if(Ed.has(e))return cm.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,t);for(const n of pu.values())NR(n,t);return!0}function hm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Zr=new fa("app","Firebase",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=PR;function bR(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:xS,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Zr.create("bad-app-name",{appName:String(r)});const i=pu.get(r);if(i){if(du(t,i.options)&&du(n,i.config))return i;throw Zr.create("duplicate-app",{appName:r})}const s=new jP(r);for(const a of Ed.values())s.addComponent(a);const o=new OR(t,n,s);return pu.set(r,o),o}function AS(t=xS){const e=pu.get(t);if(!e)throw Zr.create("no-app",{appName:t});return e}function pr(t,e,n){var r;let i=(r=RR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cm.warn(a.join(" "));return}ts(new Jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebase-heartbeat-database",MR=1,Fo="firebase-heartbeat-store";let Oh=null;function PS(){return Oh||(Oh=eR(LR,MR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fo)}}}).catch(t=>{throw Zr.create("storage-open",{originalErrorMessage:t.message})})),Oh}async function VR(t){var e;try{return(await PS()).transaction(Fo).objectStore(Fo).get(RS(t))}catch(n){throw Zr.create("storage-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message})}}async function dy(t,e){var n;try{const i=(await PS()).transaction(Fo,"readwrite");return await i.objectStore(Fo).put(e,RS(t)),i.done}catch(r){throw Zr.create("storage-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message})}}function RS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=1024,FR=30*24*60*60*1e3;class UR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=py();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=FR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=py(),{heartbeatsToSend:n,unsentEntries:r}=jR(this._heartbeatsCache.heartbeats),i=ES(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function py(){return new Date().toISOString().substring(0,10)}function jR(t,e=$R){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),my(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),my(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function my(t){return ES(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){ts(new Jr("platform-logger",e=>new rR(e),"PRIVATE")),ts(new Jr("heartbeat",e=>new UR(e),"PRIVATE")),pr(wd,fy,t),pr(wd,fy,"esm2017"),pr("fire-js","")}zR("");var Sd=function(t,e){return Sd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Sd(t,e)};function NS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var P=function(){return P=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},P.apply(this,arguments)};function gt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function HR(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ie(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Zt(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function DS(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WR=DS,OS=new fa("auth","Firebase",DS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new lm("@firebase/auth");function Pl(t,...e){gy.logLevel<=ie.ERROR&&gy.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,...e){throw fm(t,...e)}function cn(t,...e){return fm(t,...e)}function bS(t,e,n){const r=Object.assign(Object.assign({},WR()),{[e]:n});return new fa("auth","Firebase",r).create(e,{appName:t.name})}function KR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),bS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return OS.create(t,...e)}function q(t,e,...n){if(!t)throw fm(e,...n)}function _n(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pl(e),new Error(e)}function Dn(t,e){t||_n(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map;function Cn(t){Dn(t instanceof Function,"Expected a class definition");let e=vy.get(t);return e?(Dn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){const n=hm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(du(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function GR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QR(){return yy()==="http:"||yy()==="https:"}function yy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QR()||TS()||"connection"in navigator)?navigator.onLine:!0}function YR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dn(n>e,"Short delay should be less than long delay!"),this.isMobile=SS()||_S()}get(){return XR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e){Dn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new ma(3e4,6e4);function eN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pc(t,e,n,r,i={}){return MS(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=da(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),LS.fetch()(VS(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function MS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JR),e);try{const i=new nN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw il(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw il(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw il(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw bS(t,c,u);mn(t,c)}}catch(i){if(i instanceof li)throw i;mn(t,"network-request-failed")}}async function tN(t,e,n,r,i={}){const s=await pc(t,e,n,r,i);return"mfaPendingCredential"in s&&mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function VS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?dm(t.config,i):`${t.config.apiScheme}://${i}`}class nN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),ZR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function il(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e){return pc(t,"POST","/v1/accounts:delete",e)}async function iN(t,e){return pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sN(t,e=!1){const n=Bt(t),r=await n.getIdToken(e),i=pm(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:io(bh(i.auth_time)),issuedAtTime:io(bh(i.iat)),expirationTime:io(bh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bh(t){return Number(t)*1e3}function pm(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Pl("JWT malformed, contained fewer than 3 sections"),null;try{const s=IP(r);return s?JSON.parse(s):(Pl("Failed to decode base64 JWT payload"),null)}catch(s){return Pl("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function oN(t){const e=pm(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&aN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=io(this.lastLoginAt),this.creationTime=io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Uo(t,iN(n,{idToken:r}));q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hN(s.providerUserInfo):[],a=cN(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $S(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function uN(t){const e=Bt(t);await mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hN(t){return t.map(e=>{var{providerId:n}=e,r=gt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e){const n=await MS(t,{},async()=>{const r=da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=VS(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",LS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jo;return r&&(q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $S(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sN(this,e)}reload(){return uN(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Uo(this,rN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:w,isAnonymous:E,providerData:C,stsTokenManager:I}=n;q(v&&I,e,"internal-error");const T=jo.fromJSON(this.name,I);q(typeof v=="string",e,"internal-error"),jn(h,e.name),jn(f,e.name),q(typeof w=="boolean",e,"internal-error"),q(typeof E=="boolean",e,"internal-error"),jn(d,e.name),jn(p,e.name),jn(y,e.name),jn(S,e.name),jn(g,e.name),jn(m,e.name);const k=new Wr({uid:v,auth:e,email:f,emailVerified:w,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:d,tenantId:y,stsTokenManager:T,createdAt:g,lastLoginAt:m});return C&&Array.isArray(C)&&(k.providerData=C.map(N=>Object.assign({},N))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new jo;i.updateFromServerResponse(n);const s=new Wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FS.type="NONE";const wy=FS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(Cn(wy),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Cn(wy);const o=Rl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Wr._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bi(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Bi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(US(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HS(e))return"Blackberry";if(WS(e))return"Webos";if(mm(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(zS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function US(t=Ue()){return/firefox\//i.test(t)}function mm(t=Ue()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(t=Ue()){return/crios\//i.test(t)}function BS(t=Ue()){return/iemobile/i.test(t)}function zS(t=Ue()){return/android/i.test(t)}function HS(t=Ue()){return/blackberry/i.test(t)}function WS(t=Ue()){return/webos/i.test(t)}function mc(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dN(t=Ue()){var e;return mc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pN(){return CS()&&document.documentMode===10}function KS(t=Ue()){return mc(t)||zS(t)||WS(t)||HS(t)||/windows phone/i.test(t)||BS(t)}function mN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t,e=[]){let n;switch(t){case"Browser":n=Ey(Ue());break;case"Worker":n=`${Ey(Ue())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sy(this),this.idTokenSubscription=new Sy(this),this.beforeStateQueue=new gN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await mu(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Bt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Cn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return q(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function gm(t){return Bt(t)}class Sy{constructor(e){this.auth=e,this.observer=null,this.addObserver=LP(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return tN(t,"POST","/v1/accounts:signInWithIdp",eN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="http://localhost";class ei extends GS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gt(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ei(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=da(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends ga{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xn.credentialFromTaggedObject(e)}static credentialFromError(e){return Xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xn.credential(e.oauthAccessToken)}catch{return null}}}Xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ei._fromParams({providerId:En.PROVIDER_ID,signInMethod:En.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return En.credentialFromTaggedObject(e)}static credentialFromError(e){return En.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return En.credential(n,r)}catch{return null}}}En.GOOGLE_SIGN_IN_METHOD="google.com";En.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends ga{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yn.credential(e.oauthAccessToken)}catch{return null}}}Yn.GITHUB_SIGN_IN_METHOD="github.com";Yn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends ga{constructor(){super("twitter.com")}static credential(e,n){return ei._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jn.credential(n,r)}catch{return null}}}Jn.TWITTER_SIGN_IN_METHOD="twitter.com";Jn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Wr._fromIdTokenResponse(e,r,i),o=Ty(r);return new ns({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ty(r);return new ns({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ty(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gu(e,n,r,i)}}function QS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?gu._fromErrorAndOperation(t,s,e,r):s})}async function wN(t,e,n=!1){const r=await Uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ns._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Uo(t,QS(i,s,e,t),n);q(o.idToken,i,"internal-error");const a=pm(o.idToken);q(a,i,"internal-error");const{sub:l}=a;return q(t.uid===l,i,"user-mismatch"),ns._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&mn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e,n=!1){const r="signIn",i=await QS(t,r,e),s=await ns._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function TN(t){return Bt(t).signOut()}const vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vu,"1"),this.storage.removeItem(vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){const t=Ue();return mm(t)||mc(t)}const CN=1e3,IN=10;class YS extends XS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_N()&&mN(),this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);pN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YS.type="LOCAL";const kN=YS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends XS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JS.type="SESSION";const ZS=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await xN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=ym("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return window}function PN(t){hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function RN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DN(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",ON=1,yu="firebaseLocalStorage",nT="fbase_key";class va{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vc(t,e){return t.transaction([yu],e?"readwrite":"readonly").objectStore(yu)}function bN(){const t=indexedDB.deleteDatabase(tT);return new va(t).toPromise()}function _d(){const t=indexedDB.open(tT,ON);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yu,{keyPath:nT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yu)?e(r):(r.close(),await bN(),e(await _d()))})})}async function _y(t,e,n){const r=vc(t,!0).put({[nT]:e,value:n});return new va(r).toPromise()}async function LN(t,e){const n=vc(t,!1).get(e),r=await new va(n).toPromise();return r===void 0?null:r.value}function Cy(t,e){const n=vc(t,!0).delete(e);return new va(n).toPromise()}const MN=800,VN=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(DN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _d();return await _y(e,vu,"1"),await Cy(e,vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_y(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>LN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=vc(i,!1).getAll();return new va(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const $N=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function UN(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FN().appendChild(r)})}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ma(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){return e?Cn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends GS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BN(t){return SN(t.auth,new wm(t),t.bypassAuthState)}function zN(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),EN(n,new wm(t),t.bypassAuthState)}async function HN(t){const{auth:e,user:n}=t;return q(n,e,"internal-error"),wN(n,new wm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BN;case"linkViaPopup":case"linkViaRedirect":return HN;case"reauthViaPopup":case"reauthViaRedirect":return zN;default:mn(this.auth,"internal-error")}}resolve(e){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new ma(2e3,1e4);async function KN(t,e,n){const r=gm(t);KR(t,e,vm);const i=iT(r,n);return new $r(r,"signInViaPopup",e,i).executeNotNull()}class $r extends sT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return q(e,this.auth,"internal-error"),e}async onExecution(){Dn(this.filter.length===1,"Popup operations only handle one event");const e=ym();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="pendingRedirect",Nl=new Map;class GN extends sT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nl.get(this.auth._key());if(!e){try{const r=await QN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nl.set(this.auth._key(),e)}return this.bypassAuthState||Nl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QN(t,e){const n=JN(e),r=YN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XN(t,e){Nl.set(t._key(),e)}function YN(t){return Cn(t._redirectPersistence)}function JN(t){return Rl(qN,t.config.apiKey,t.name)}async function ZN(t,e,n=!1){const r=gm(t),i=iT(r,e),o=await new GN(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=10*60*1e3;class tD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(e))}saveEventToCache(e){this.cachedEventUids.add(Iy(e)),this.lastProcessedEventTime=Date.now()}}function Iy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e={}){return pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sD=/^https?/;async function oD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rD(t);for(const n of e)try{if(aD(n))return}catch{}mn(t,"unauthorized-domain")}function aD(t){const e=Td(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sD.test(n))return!1;if(iD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new ma(3e4,6e4);function ky(){const t=hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uD(t){return new Promise((e,n)=>{var r,i,s;function o(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),n(cn(t,"network-request-failed"))},timeout:lD.get()})}if(!((i=(r=hn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hn().gapi)===null||s===void 0)&&s.load)o();else{const a=jN("iframefcb");return hn()[a]=()=>{gapi.load?o():n(cn(t,"network-request-failed"))},UN(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Dl=null,e})}let Dl=null;function cD(t){return Dl=Dl||uD(t),Dl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=new ma(5e3,15e3),fD="__/auth/iframe",dD="emulator/auth/iframe",pD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gD(t){const e=t.config;q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dm(e,dD):`https://${t.config.authDomain}/${fD}`,r={apiKey:e.apiKey,appName:t.name,v:pa},i=mD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${da(r).slice(1)}`}async function vD(t){const e=await cD(t),n=hn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:gD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cn(t,"network-request-failed"),a=hn().setTimeout(()=>{s(o)},hD.get());function l(){hn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,ED=600,SD="_blank",TD="http://localhost";class xy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _D(t,e,n,r=wD,i=ED){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ue().toLowerCase();n&&(a=jS(u)?SD:n),US(u)&&(e=e||TD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(dN(u)&&a!=="_self")return CD(e||"",a),new xy(null);const h=window.open(e||"",a,c);q(h,t,"popup-blocked");try{h.focus()}catch{}return new xy(h)}function CD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="__/auth/handler",kD="emulator/auth/handler";function Ay(t,e,n,r,i,s){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pa,eventId:i};if(e instanceof vm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof ga){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${xD(t)}?${da(a).slice(1)}`}function xD({config:t}){return t.emulator?dm(t,kD):`https://${t.authDomain}/${ID}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="webStorageSupport";class AD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZS,this._completeRedirectFn=ZN,this._overrideRedirectResult=XN}async _openPopup(e,n,r,i){var s;Dn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Ay(e,n,r,Td(),i);return _D(e,o,ym())}async _openRedirect(e,n,r,i){return await this._originValidation(e),PN(Ay(e,n,r,Td(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vD(e),r=new tD(e);return n.register("authEvent",i=>(q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lh,{type:Lh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Lh];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KS()||mm()||mc()}}const PD=AD;var Py="@firebase/auth",Ry="0.20.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function DD(t){ts(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{q(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),q(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qS(t)},c=new vN(a,l,u);return GR(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ts(new Jr("auth-internal",e=>{const n=gm(e.getProvider("auth").getImmediate());return(r=>new RD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Py,Ry,ND(t)),pr(Py,Ry,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t=AS()){const e=hm(t,"auth");return e.isInitialized()?e.getImmediate():qR(t,{popupRedirectResolver:PD,persistence:[$N,kN,ZS]})}DD("Browser");var bD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,Em=Em||{},H=bD||self;function wu(){}function Cd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ya(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function LD(t){return Object.prototype.hasOwnProperty.call(t,Mh)&&t[Mh]||(t[Mh]=++MD)}var Mh="closure_uid_"+(1e9*Math.random()>>>0),MD=0;function VD(t,e,n){return t.call.apply(t.bind,arguments)}function $D(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function qe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qe=VD:qe=$D,qe.apply(null,arguments)}function sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ye(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function kr(){this.s=this.s,this.o=this.o}var FD=0;kr.prototype.s=!1;kr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),FD!=0)&&LD(this)};kr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},lT=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function UD(t){e:{var e=NO;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Ny(t){return Array.prototype.concat.apply([],arguments)}function Sm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Eu(t){return/^[\s\xa0]*$/.test(t)}var Dy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ct(t,e){return t.indexOf(e)!=-1}function Vh(t,e){return t<e?-1:t>e?1:0}var ht;e:{var Oy=H.navigator;if(Oy){var by=Oy.userAgent;if(by){ht=by;break e}}ht=""}function Tm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uT(t){const e={};for(const n in t)e[n]=t[n];return e}var Ly="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Ly.length;s++)n=Ly[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _m(t){return _m[" "](t),t}_m[" "]=wu;function jD(t){var e=HD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var BD=ct(ht,"Opera"),rs=ct(ht,"Trident")||ct(ht,"MSIE"),hT=ct(ht,"Edge"),Id=hT||rs,fT=ct(ht,"Gecko")&&!(ct(ht.toLowerCase(),"webkit")&&!ct(ht,"Edge"))&&!(ct(ht,"Trident")||ct(ht,"MSIE"))&&!ct(ht,"Edge"),zD=ct(ht.toLowerCase(),"webkit")&&!ct(ht,"Edge");function dT(){var t=H.document;return t?t.documentMode:void 0}var Su;e:{var $h="",Fh=function(){var t=ht;if(fT)return/rv:([^\);]+)(\)|;)/.exec(t);if(hT)return/Edge\/([\d\.]+)/.exec(t);if(rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zD)return/WebKit\/(\S+)/.exec(t);if(BD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Fh&&($h=Fh?Fh[1]:""),rs){var Uh=dT();if(Uh!=null&&Uh>parseFloat($h)){Su=String(Uh);break e}}Su=$h}var HD={};function WD(){return jD(function(){let t=0;const e=Dy(String(Su)).split("."),n=Dy("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Vh(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Vh(i[2].length==0,s[2].length==0)||Vh(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var kd;if(H.document&&rs){var My=dT();kd=My||parseInt(Su,10)||void 0}else kd=void 0;var KD=kd,qD=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",wu,e),H.removeEventListener("test",wu,e)}catch{}return t}();function st(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};function Bo(t,e){if(st.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fT){e:{try{_m(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Bo.Z.h.call(this)}}Ye(Bo,st);var GD={2:"touch",3:"pen",4:"mouse"};Bo.prototype.h=function(){Bo.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var wa="closure_listenable_"+(1e6*Math.random()|0),QD=0;function XD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++QD,this.ca=this.fa=!1}function yc(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function wc(t){this.src=t,this.g={},this.h=0}wc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ad(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new XD(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function xd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=aT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ad(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var Cm="closure_lm_"+(1e6*Math.random()|0),jh={};function pT(t,e,n,r,i){if(r&&r.once)return gT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pT(t,e[s],n,r,i);return null}return n=xm(n),t&&t[wa]?t.N(e,n,ya(r)?!!r.capture:!!r,i):mT(t,e,n,!1,r,i)}function mT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ya(i)?!!i.capture:!!i,a=km(t);if(a||(t[Cm]=a=new wc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=YD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YD(){function t(n){return e.call(t.src,t.listener,n)}var e=JD;return t}function gT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)gT(t,e[s],n,r,i);return null}return n=xm(n),t&&t[wa]?t.O(e,n,ya(r)?!!r.capture:!!r,i):mT(t,e,n,!0,r,i)}function vT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)vT(t,e[s],n,r,i);else r=ya(r)?!!r.capture:!!r,n=xm(n),t&&t[wa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ad(s,n,r,i),-1<n&&(yc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=km(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ad(e,n,r,i)),(n=-1<t?e[t]:null)&&Im(n))}function Im(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[wa])xd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=km(e))?(xd(n,t),n.h==0&&(n.src=null,e[Cm]=null)):yc(t)}}}function yT(t){return t in jh?jh[t]:jh[t]="on"+t}function JD(t,e){if(t.ca)t=!0;else{e=new Bo(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Im(t),t=n.call(r,e)}return t}function km(t){return t=t[Cm],t instanceof wc?t:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(t){return typeof t=="function"?t:(t[Bh]||(t[Bh]=function(e){return t.handleEvent(e)}),t[Bh])}function je(){kr.call(this),this.i=new wc(this),this.P=this,this.I=null}Ye(je,kr);je.prototype[wa]=!0;je.prototype.removeEventListener=function(t,e,n,r){vT(this,t,e,n,r)};function Ge(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new st(e,t);else if(e instanceof st)e.target=e.target||t;else{var i=e;e=new st(r,t),cT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ol(o,r,!0,e)&&i}if(o=e.g=t,i=ol(o,r,!0,e)&&i,i=ol(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ol(o,r,!1,e)&&i}je.prototype.M=function(){if(je.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yc(n[r]);delete t.g[e],t.h--}}this.I=null};je.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};je.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ol(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&xd(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Am=H.JSON.stringify;function ZD(){var t=ET;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eO{constructor(){this.h=this.g=null}add(e,n){const r=wT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var wT=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new tO,t=>t.reset());class tO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nO(t){H.setTimeout(()=>{throw t},0)}function Pm(t,e){Pd||rO(),Rd||(Pd(),Rd=!0),ET.add(t,e)}var Pd;function rO(){var t=H.Promise.resolve(void 0);Pd=function(){t.then(iO)}}var Rd=!1,ET=new eO;function iO(){for(var t;t=ZD();){try{t.h.call(t.g)}catch(n){nO(n)}var e=wT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rd=!1}function Ec(t,e){je.call(this),this.h=t||1,this.g=e||H,this.j=qe(this.kb,this),this.l=Date.now()}Ye(Ec,je);M=Ec.prototype;M.da=!1;M.S=null;M.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(Rm(this),this.start()))}};M.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}M.M=function(){Ec.Z.M.call(this),Rm(this),delete this.g};function Nm(t,e,n){if(typeof t=="function")n&&(t=qe(t,n));else if(t&&typeof t.handleEvent=="function")t=qe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function ST(t){t.g=Nm(()=>{t.g=null,t.i&&(t.i=!1,ST(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sO extends kr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ST(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(t){kr.call(this),this.h=t,this.g={}}Ye(zo,kr);var Vy=[];function TT(t,e,n,r){Array.isArray(n)||(n&&(Vy[0]=n.toString()),n=Vy);for(var i=0;i<n.length;i++){var s=pT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _T(t){Tm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Im(e)},t),t.g={}}zo.prototype.M=function(){zo.Z.M.call(this),_T(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Sc(){this.g=!0}Sc.prototype.Aa=function(){this.g=!1};function oO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Di(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uO(t,n)+(r?" "+r:"")})}function lO(t,e){t.info(function(){return"TIMEOUT: "+e})}Sc.prototype.info=function(){};function uO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Am(n)}catch{return e}}var ui={},$y=null;function Tc(){return $y=$y||new je}ui.Ma="serverreachability";function CT(t){st.call(this,ui.Ma,t)}Ye(CT,st);function Ho(t){const e=Tc();Ge(e,new CT(e))}ui.STAT_EVENT="statevent";function IT(t,e){st.call(this,ui.STAT_EVENT,t),this.stat=e}Ye(IT,st);function ft(t){const e=Tc();Ge(e,new IT(e,t))}ui.Na="timingevent";function kT(t,e){st.call(this,ui.Na,t),this.size=e}Ye(kT,st);function Ea(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var _c={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dm(){}Dm.prototype.h=null;function Fy(t){return t.h||(t.h=t.i())}function AT(){}var Sa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Om(){st.call(this,"d")}Ye(Om,st);function bm(){st.call(this,"c")}Ye(bm,st);var Nd;function Cc(){}Ye(Cc,Dm);Cc.prototype.g=function(){return new XMLHttpRequest};Cc.prototype.i=function(){return{}};Nd=new Cc;function Ta(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new zo(this),this.P=cO,t=Id?125:void 0,this.W=new Ec(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new PT}function PT(){this.i=null,this.g="",this.h=!1}var cO=45e3,Dd={},Tu={};M=Ta.prototype;M.setTimeout=function(t){this.P=t};function Od(t,e,n){t.K=1,t.v=kc(On(e)),t.s=n,t.U=!0,RT(t,null)}function RT(t,e){t.F=Date.now(),_a(t),t.A=On(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),VT(n.h,"t",r),t.C=0,n=t.l.H,t.h=new PT,t.g=r_(t.l,n?e:null,!t.s),0<t.O&&(t.L=new sO(qe(t.Ia,t,t.g),t.O)),TT(t.V,t.g,"readystatechange",t.gb),e=t.H?uT(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ho(),oO(t.j,t.u,t.A,t.m,t.X,t.s)}M.gb=function(t){t=t.target;const e=this.L;e&&In(t)==3?e.l():this.Ia(t)};M.Ia=function(t){try{if(t==this.g)e:{const c=In(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>c)&&(c!=3||Id||this.g&&(this.h.h||this.g.ga()||zy(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Ho(3):Ho(2)),Ic(this);var n=this.g.ba();this.N=n;t:if(NT(this)){var r=zy(this.g);t="";var i=r.length,s=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),so(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,aO(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eu(a)){var u=a;break t}}u=null}if(n=u)Di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bd(this,n);else{this.i=!1,this.o=3,ft(12),Fr(this),so(this);break e}}this.U?(DT(this,c,o),Id&&this.i&&c==3&&(TT(this.V,this.W,"tick",this.fb),this.W.start())):(Di(this.j,this.m,o,null),bd(this,o)),c==4&&Fr(this),this.i&&!this.I&&(c==4?ZT(this.l,this):(this.i=!1,_a(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ft(12)):(this.o=0,ft(13)),Fr(this),so(this)}}}catch{}finally{}};function NT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function DT(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=hO(t,n),i==Tu){e==4&&(t.o=4,ft(14),r=!1),Di(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Dd){t.o=4,ft(15),Di(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Di(t.j,t.m,i,null),bd(t,i);NT(t)&&i!=Tu&&i!=Dd&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ft(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zm(e),e.L=!0,ft(11))):(Di(t.j,t.m,n,"[Invalid Chunked Response]"),Fr(t),so(t))}M.fb=function(){if(this.g){var t=In(this.g),e=this.g.ga();this.C<e.length&&(Ic(this),DT(this,t,e),this.i&&t!=4&&_a(this))}};function hO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Tu:(n=Number(e.substring(n,r)),isNaN(n)?Dd:(r+=1,r+n>e.length?Tu:(e=e.substr(r,n),t.C=r+n,e)))}M.cancel=function(){this.I=!0,Fr(this)};function _a(t){t.Y=Date.now()+t.P,OT(t,t.P)}function OT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ea(qe(t.eb,t),e)}function Ic(t){t.B&&(H.clearTimeout(t.B),t.B=null)}M.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lO(this.j,this.A),this.K!=2&&(Ho(),ft(17)),Fr(this),this.o=2,so(this)):OT(this,this.Y-t)};function so(t){t.l.G==0||t.I||ZT(t.l,t)}function Fr(t){Ic(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Rm(t.W),_T(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bd(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ld(n.i,t))){if(n.I=t.N,!t.J&&Ld(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ku(n),Pc(n);else break e;Bm(n),ft(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ea(qe(n.ab,n),6e3));if(1>=UT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ur(n,11)}else if((t.J||n.g==t)&&ku(n),!Eu(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const h=u[4];h!=null&&(n.za=h,n.h.info("SVER="+n.za));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(ct(p,"spdy")||ct(p,"quic")||ct(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Vm(s,s.h),s.h=null))}if(r.D){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.sa=y,ve(r.F,r.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=n_(r,r.H?r.la:null,r.W),o.J){jT(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Ic(a),_a(a)),r.g=o}else YT(r);0<n.l.length&&Rc(n)}else u[0]!="stop"&&u[0]!="close"||Ur(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ur(n,7):jm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ho(4)}catch{}}function fO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Cd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Lm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cd(t)||typeof t=="string")lT(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Cd(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=fO(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ts(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ts)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}M=Ts.prototype;M.R=function(){Mm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};M.T=function(){return Mm(this),this.g.concat()};function Mm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ti(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],ti(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}M.get=function(t,e){return ti(this.h,t)?this.h[t]:e};M.set=function(t,e){ti(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};M.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function ti(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var bT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function dO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ni(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ni){this.g=e!==void 0?e:t.g,_u(this,t.j),this.s=t.s,Cu(this,t.i),Iu(this,t.m),this.l=t.l,e=t.h;var n=new Wo;n.i=e.i,e.g&&(n.g=new Ts(e.g),n.h=e.h),Uy(this,n),this.o=t.o}else t&&(n=String(t).match(bT))?(this.g=!!e,_u(this,n[1]||"",!0),this.s=oo(n[2]||""),Cu(this,n[3]||"",!0),Iu(this,n[4]),this.l=oo(n[5]||"",!0),Uy(this,n[6]||"",!0),this.o=oo(n[7]||"")):(this.g=!!e,this.h=new Wo(null,this.g))}ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ks(e,jy,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ks(e,jy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ks(n,n.charAt(0)=="/"?yO:vO,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ks(n,EO)),t.join("")};function On(t){return new ni(t)}function _u(t,e,n){t.j=n?oo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cu(t,e,n){t.i=n?oo(e,!0):e}function Iu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Uy(t,e,n){e instanceof Wo?(t.h=e,SO(t.h,t.g)):(n||(e=Ks(e,wO)),t.h=new Wo(e,t.g))}function ve(t,e,n){t.h.set(e,n)}function kc(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pO(t){return t instanceof ni?On(t):new ni(t,void 0)}function mO(t,e,n,r){var i=new ni(null,void 0);return t&&_u(i,t),e&&Cu(i,e),n&&Iu(i,n),r&&(i.l=r),i}function oo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ks(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var jy=/[#\/\?@]/g,vO=/[#\?:]/g,yO=/[#\?]/g,wO=/[#\?@]/g,EO=/#/g;function Wo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xr(t){t.g||(t.g=new Ts,t.h=0,t.i&&dO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Wo.prototype;M.add=function(t,e){xr(this),this.i=null,t=_s(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LT(t,e){xr(t),e=_s(t,e),ti(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,ti(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Mm(t)))}function MT(t,e){return xr(t),e=_s(t,e),ti(t.g.h,e)}M.forEach=function(t,e){xr(this),this.g.forEach(function(n,r){lT(n,function(i){t.call(e,i,r,this)},this)},this)};M.T=function(){xr(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};M.R=function(t){xr(this);var e=[];if(typeof t=="string")MT(this,t)&&(e=Ny(e,this.g.get(_s(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ny(e,t[n])}return e};M.set=function(t,e){return xr(this),this.i=null,t=_s(this,t),MT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function VT(t,e,n){LT(t,e),0<n.length&&(t.i=null,t.g.set(_s(t,e),Sm(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function _s(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function SO(t,e){e&&!t.j&&(xr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(LT(this,r),VT(this,i,n))},t)),t.j=e}var TO=class{constructor(t,e){this.h=t,this.g=e}};function $T(t){this.l=t||_O,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _O=10;function FT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function UT(t){return t.h?1:t.g?t.g.size:0}function Ld(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vm(t,e){t.g?t.g.add(e):t.h=e}function jT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$T.prototype.cancel=function(){if(this.i=BT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function BT(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Sm(t.i)}function $m(){}$m.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)};$m.prototype.parse=function(t){return H.JSON.parse(t,void 0)};function CO(){this.g=new $m}function IO(t,e,n){const r=n||"";try{Lm(t,function(i,s){let o=i;ya(i)&&(o=Am(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kO(t,e){const n=new Sc;if(H.Image){const r=new Image;r.onload=sl(al,n,r,"TestLoadImage: loaded",!0,e),r.onerror=sl(al,n,r,"TestLoadImage: error",!1,e),r.onabort=sl(al,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=sl(al,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function al(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ca(t){this.l=t.$b||null,this.j=t.ib||!1}Ye(Ca,Dm);Ca.prototype.g=function(){return new xc(this.l,this.j)};Ca.prototype.i=function(t){return function(){return t}}({});function xc(t,e){je.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ye(xc,je);var Fm=0;M=xc.prototype;M.open=function(t,e){if(this.readyState!=Fm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ko(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=Fm};M.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ko(this)),this.g&&(this.readyState=3,Ko(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function zT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}M.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ia(this):Ko(this),this.readyState==3&&zT(this)}};M.Ua=function(t){this.g&&(this.response=this.responseText=t,Ia(this))};M.Ta=function(t){this.g&&(this.response=t,Ia(this))};M.ha=function(){this.g&&Ia(this)};function Ia(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ko(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ko(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var xO=H.JSON.parse;function Re(t){je.call(this),this.headers=new Ts,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HT,this.K=this.L=!1}Ye(Re,je);var HT="",AO=/^https?$/i,PO=["POST","PUT"];M=Re.prototype;M.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nd.g(),this.C=this.u?Fy(this.u):Fy(Nd),this.g.onreadystatechange=qe(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){By(this,s);return}t=n||"";const i=new Ts(this.headers);r&&Lm(r,function(s,o){i.set(o,s)}),r=UD(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=aT(PO,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qT(this),0<this.B&&((this.K=RO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qe(this.pa,this)):this.A=Nm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){By(this,s)}};function RO(t){return rs&&WD()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function NO(t){return t.toLowerCase()=="content-type"}M.pa=function(){typeof Em<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))};function By(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,WT(t),Ac(t)}function WT(t){t.D||(t.D=!0,Ge(t,"complete"),Ge(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ge(this,"complete"),Ge(this,"abort"),Ac(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ac(this,!0)),Re.Z.M.call(this)};M.Fa=function(){this.s||(this.F||this.v||this.l?KT(this):this.cb())};M.cb=function(){KT(this)};function KT(t){if(t.h&&typeof Em<"u"&&(!t.C[1]||In(t)!=4||t.ba()!=2)){if(t.v&&In(t)==4)Nm(t.Fa,0,t);else if(Ge(t,"readystatechange"),In(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(bT)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!AO.test(i?i.toLowerCase():"")}n=r}if(n)Ge(t,"complete"),Ge(t,"success");else{t.m=6;try{var o=2<In(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",WT(t)}}finally{Ac(t)}}}}function Ac(t,e){if(t.g){qT(t);const n=t.g,r=t.C[0]?wu:null;t.g=null,t.C=null,e||Ge(t,"ready");try{n.onreadystatechange=r}catch{}}}function qT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function In(t){return t.g?t.g.readyState:0}M.ba=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}};M.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),xO(e)}};function zy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case HT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Da=function(){return this.m};M.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function DO(t){let e="";return Tm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Um(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=DO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GT(t){this.za=0,this.l=[],this.h=new Sc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fs("baseRetryDelayMs",5e3,t),this.$a=Fs("retryDelaySeedMs",1e4,t),this.Ya=Fs("forwardChannelMaxRetries",2,t),this.ra=Fs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new $T(t&&t.concurrentRequestLimit),this.Ca=new CO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}M=GT.prototype;M.ma=8;M.G=1;function jm(t){if(QT(t),t.G==3){var e=t.V++,n=On(t.F);ve(n,"SID",t.J),ve(n,"RID",e),ve(n,"TYPE","terminate"),ka(t,n),e=new Ta(t,t.h,e,void 0),e.K=2,e.v=kc(On(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&(new Image().src=e.v,n=!0),n||(e.g=r_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),_a(e)}t_(t)}M.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Pc(t){t.g&&(zm(t),t.g.cancel(),t.g=null)}function QT(t){Pc(t),t.u&&(H.clearTimeout(t.u),t.u=null),ku(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function zh(t,e){t.l.push(new TO(t.Za++,e)),t.G==3&&Rc(t)}function Rc(t){FT(t.i)||t.m||(t.m=!0,Pm(t.Ha,t),t.C=0)}function OO(t,e){return UT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ea(qe(t.Ha,t,e),e_(t,t.C)),t.C++,!0)}M.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Ta(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=uT(s),cT(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=XT(this,i,e),n=On(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),ka(this,n),this.o&&s&&Um(n,this.o,s),Vm(this.i,i),this.Ra&&ve(n,"TYPE","init"),this.ja?(ve(n,"$req",e),ve(n,"SID","null"),i.$=!0,Od(i,n,null)):Od(i,n,e),this.G=2}}else this.G==3&&(t?Hy(this,t):this.l.length==0||FT(this.i)||Hy(this))};function Hy(t,e){var n;e?n=e.m:n=t.V++;const r=On(t.F);ve(r,"SID",t.J),ve(r,"RID",n),ve(r,"AID",t.U),ka(t,r),t.o&&t.s&&Um(r,t.o,t.s),n=new Ta(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=XT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Vm(t.i,n),Od(n,r,e)}function ka(t,e){t.j&&Lm({},function(n,r){ve(e,r,n)})}function XT(t,e,n){n=Math.min(t.l.length,n);var r=t.j?qe(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{IO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function YT(t){t.g||t.u||(t.Y=1,Pm(t.Ga,t),t.A=0)}function Bm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ea(qe(t.Ga,t),e_(t,t.A)),t.A++,!0)}M.Ga=function(){if(this.u=null,JT(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ea(qe(this.bb,this),t)}};M.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ft(10),Pc(this),JT(this))};function zm(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function JT(t){t.g=new Ta(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=On(t.oa);ve(e,"RID","rpc"),ve(e,"SID",t.J),ve(e,"CI",t.N?"0":"1"),ve(e,"AID",t.U),ka(t,e),ve(e,"TYPE","xmlhttp"),t.o&&t.s&&Um(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=kc(On(e)),n.s=null,n.U=!0,RT(n,t)}M.ab=function(){this.v!=null&&(this.v=null,Pc(this),Bm(this),ft(19))};function ku(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function ZT(t,e){var n=null;if(t.g==e){ku(t),zm(t),t.g=null;var r=2}else if(Ld(t.i,e))n=e.D,jT(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Tc(),Ge(r,new kT(r,n)),Rc(t)}else YT(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&OO(t,e)||r==2&&Bm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ur(t,5);break;case 4:Ur(t,10);break;case 3:Ur(t,6);break;default:Ur(t,2)}}}function e_(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ur(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=qe(t.jb,t);n||(n=new ni("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||_u(n,"https"),kc(n)),kO(n.toString(),r)}else ft(2);t.G=0,t.j&&t.j.va(e),t_(t),QT(t)}M.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ft(2)):(this.h.info("Failed to ping google.com"),ft(1))};function t_(t){t.G=0,t.I=-1,t.j&&((BT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Sm(t.l),t.l.length=0),t.j.ua())}function n_(t,e,n){let r=pO(n);if(r.i!="")e&&Cu(r,e+"."+r.i),Iu(r,r.m);else{const i=H.location;r=mO(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Tm(t.aa,function(i,s){ve(r,s,i)}),e=t.D,n=t.sa,e&&n&&ve(r,e,n),ve(r,"VER",t.ma),ka(t,r),r}function r_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Re(new Ca({ib:!0})):new Re(t.qa),e.L=t.H,e}function i_(){}M=i_.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Oa=function(){};function xu(){if(rs&&!(10<=Number(KD)))throw Error("Environmental error: no available transport.")}xu.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){je.call(this),this.g=new GT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Eu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cs(this)}Ye(Dt,je);Dt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Pm(qe(t.hb,t,e))),ft(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=n_(t,null,t.W),Rc(t)};Dt.prototype.close=function(){jm(this.g)};Dt.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,zh(this.g,e)}else this.v?(e={},e.__data__=Am(t),zh(this.g,e)):zh(this.g,t)};Dt.prototype.M=function(){this.g.j=null,delete this.j,jm(this.g),delete this.g,Dt.Z.M.call(this)};function s_(t){Om.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ye(s_,Om);function o_(){bm.call(this),this.status=1}Ye(o_,bm);function Cs(t){this.g=t}Ye(Cs,i_);Cs.prototype.xa=function(){Ge(this.g,"a")};Cs.prototype.wa=function(t){Ge(this.g,new s_(t))};Cs.prototype.va=function(t){Ge(this.g,new o_)};Cs.prototype.ua=function(){Ge(this.g,"b")};xu.prototype.createWebChannel=xu.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;_c.NO_ERROR=0;_c.TIMEOUT=8;_c.HTTP_ERROR=6;xT.COMPLETE="complete";AT.EventType=Sa;Sa.OPEN="a";Sa.CLOSE="b";Sa.ERROR="c";Sa.MESSAGE="d";je.prototype.listen=je.prototype.N;Re.prototype.listenOnce=Re.prototype.O;Re.prototype.getLastError=Re.prototype.La;Re.prototype.getLastErrorCode=Re.prototype.Da;Re.prototype.getStatus=Re.prototype.ba;Re.prototype.getResponseJson=Re.prototype.Qa;Re.prototype.getResponseText=Re.prototype.ga;Re.prototype.send=Re.prototype.ea;var bO=function(){return new xu},LO=function(){return Tc()},Hh=_c,MO=xT,VO=ui,Wy={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$O=Ca,ll=AT,FO=Re;const Ky="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="9.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new lm("@firebase/firestore");function qy(){return ri.logLevel}function V(t,...e){if(ri.logLevel<=ie.DEBUG){const n=e.map(Hm);ri.debug(`Firestore (${Is}): ${t}`,...n)}}function wr(t,...e){if(ri.logLevel<=ie.ERROR){const n=e.map(Hm);ri.error(`Firestore (${Is}): ${t}`,...n)}}function Gy(t,...e){if(ri.logLevel<=ie.WARN){const n=e.map(Hm);ri.warn(`Firestore (${Is}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw wr(e),new Error(e)}function fe(t,e){t||G()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class BO{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new UO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new vt(e)}}class zO{constructor(e,n,r){this.type="FirstParty",this.user=vt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class HO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new zO(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KO{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.p=n.token,new WO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oe.fromMillis(Date.now())}static fromDate(e){return Oe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Oe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Oe(0,0))}static max(){return new Y(new Oe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends qo{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const GO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends qo{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return GO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new it(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(_e.fromString(e))}static fromName(e){return new F(_e.fromString(e).popFirst(5))}static empty(){return new F(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new _e(e.slice()))}}function QO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Y.fromTimestamp(r===1e9?new Oe(n+1,0):new Oe(n,r));return new Er(i,F.empty(),e)}function XO(t){return new Er(t.readTime,t.key,-1)}class Er{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Er(Y.min(),F.empty(),-1)}static max(){return new Er(Y.max(),F.empty(),-1)}}function YO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==JO)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ci(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wm.ot=-1;class Le{constructor(e,n){this.comparator=e,this.root=n||He.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??He.RED,this.left=i??He.EMPTY,this.right=s??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new He(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return He.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(t,e,n,r,i){return this}insert(t,e,n){return new He(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xy(this.data.getIterator())}getIteratorFrom(e){return new Xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class Xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new Ft([])}unionWith(e){let n=new be(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ft(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Xe(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const e2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(fe(!!t),typeof t=="string"){let e=0;const n=e2.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function c_(t){const e=t.mapValue.fields.__previous_value__;return u_(e)?c_(e):e}function Go(t){const e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new Oe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class os{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new os("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return t==null}function Au(t){return t===0&&1/t==-1/0}function n2(t){return typeof t=="number"&&Number.isInteger(t)&&!Au(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u_(t)?4:r2(t)?9007199254740991:10:G()}function gn(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Go(t).isEqual(Go(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Sr(r.timestampValue),o=Sr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ss(r.bytesValue).isEqual(ss(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ae(r.geoPointValue.latitude)===Ae(i.geoPointValue.latitude)&&Ae(r.geoPointValue.longitude)===Ae(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ae(r.integerValue)===Ae(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ae(r.doubleValue),o=Ae(i.doubleValue);return s===o?Au(s)===Au(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return is(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Qy(s)!==Qy(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!gn(s[a],o[a])))return!1;return!0}(t,e);default:return G()}}function Qo(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function as(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ae(i.integerValue||i.doubleValue),a=Ae(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Yy(t.timestampValue,e.timestampValue);case 4:return Yy(Go(t),Go(e));case 5:return se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ss(i),a=ss(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=se(o[l],a[l]);if(u!==0)return u}return se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=se(Ae(i.latitude),Ae(s.latitude));return o!==0?o:se(Ae(i.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=as(o[l],a[l]);if(u)return u}return se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===cl.mapValue&&s===cl.mapValue)return 0;if(i===cl.mapValue)return 1;if(s===cl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=se(a[c],u[c]);if(h!==0)return h;const f=as(o[a[c]],l[u[c]]);if(f!==0)return f}return se(a.length,u.length)}(t.mapValue,e.mapValue);default:throw G()}}function Yy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Sr(t),r=Sr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Hi(t){return Md(t)}function Md(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Sr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ss(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Md(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Md(r.fields[a])}`;return s+"}"}(t.mapValue):G();var e,n}function Vd(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function Jy(t){return!!t&&"nullValue"in t}function Zy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}function ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ao(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function r2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.value=e}static empty(){return new wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ao(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ao(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ol(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ci(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wt(ao(this.value))}}function h_(t){const e=[];return ci(t.fields,(n,r)=>{const i=new it([n]);if(Ol(r)){const s=h_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ft(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new We(e,0,Y.min(),Y.min(),wt.empty(),0)}static newFoundDocument(e,n,r){return new We(e,1,n,Y.min(),r,0)}static newNoDocument(e,n){return new We(e,2,n,Y.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new We(e,3,n,Y.min(),wt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function e0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new i2(t,e,n,r,i,s,o)}function qm(t){const e=Q(t);if(e.ut===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Hi(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hi(r)).join(",")),e.ut=n}return e.ut}function s2(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Hi(r.value)}`;var r}).join(", ")}]`),Nc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Hi(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Hi(n)).join(",")),`Target(${e})`}function Gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!d2(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!gn(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n0(t.startAt,e.startAt)&&n0(t.endAt,e.endAt)}function $d(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class St extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.ct(e,n,r):new o2(e,n,r):n==="array-contains"?new u2(e,r):n==="in"?new c2(e,r):n==="not-in"?new h2(e,r):n==="array-contains-any"?new f2(e,r):new St(e,n,r)}static ct(e,n,r){return n==="in"?new a2(e,r):new l2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.at(as(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.at(as(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class o2 extends St{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.at(n)}}class a2 extends St{constructor(e,n){super(e,"in",n),this.keys=f_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class l2 extends St{constructor(e,n){super(e,"not-in",n),this.keys=f_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class u2 extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&Qo(n.arrayValue,this.value)}}class c2 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qo(this.value.arrayValue,n)}}class h2 extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qo(this.value.arrayValue,n)}}class f2 extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qo(this.value.arrayValue,r))}}class Pu{constructor(e,n){this.position=e,this.inclusive=n}}class lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function d2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function t0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=F.comparator(F.fromName(o.referenceValue),n.key):r=as(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function n0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.lt=null,this.ft=null,this.startAt,this.endAt}}function p2(t,e,n,r,i,s,o,a){return new Dc(t,e,n,r,i,s,o,a)}function Qm(t){return new Dc(t)}function m2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g2(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function v2(t){for(const e of t.filters)if(e.ht())return e.field;return null}function y2(t){return t.collectionGroup!==null}function Xo(t){const e=Q(t);if(e.lt===null){e.lt=[];const n=v2(e),r=g2(e);if(n!==null&&r===null)n.isKeyField()||e.lt.push(new lo(n)),e.lt.push(new lo(it.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new lo(it.keyField(),s))}}}return e.lt}function si(t){const e=Q(t);if(!e.ft)if(e.limitType==="F")e.ft=e0(e.path,e.collectionGroup,Xo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Xo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new lo(s.field,o))}const r=e.endAt?new Pu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Pu(e.startAt.position,e.startAt.inclusive):null;e.ft=e0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function w2(t,e,n){return new Dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oc(t,e){return Gm(si(t),si(e))&&t.limitType===e.limitType}function d_(t){return`${qm(si(t))}|lt:${t.limitType}`}function Fd(t){return`Query(target=${s2(si(t))}; limitType=${t.limitType})`}function Xm(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=t0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Xo(n),r)||n.endAt&&!function(i,s,o){const a=t0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Xo(n),r))}(t,e)}function E2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p_(t){return(e,n)=>{let r=!1;for(const i of Xo(t)){const s=S2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S2(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?as(a,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Au(e)?"-0":e}}function g_(t){return{integerValue:""+t}}function T2(t,e){return n2(e)?g_(e):m_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this._=void 0}}function _2(t,e,n){return t instanceof Ru?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ls?y_(t,e):t instanceof us?w_(t,e):function(r,i){const s=v_(r,i),o=r0(s)+r0(r._t);return Vd(s)&&Vd(r._t)?g_(o):m_(r.wt,o)}(t,e)}function C2(t,e,n){return t instanceof ls?y_(t,e):t instanceof us?w_(t,e):n}function v_(t,e){return t instanceof Nu?Vd(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ru extends bc{}class ls extends bc{constructor(e){super(),this.elements=e}}function y_(t,e){const n=E_(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class us extends bc{constructor(e){super(),this.elements=e}}function w_(t,e){let n=E_(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class Nu extends bc{constructor(e,n){super(),this.wt=e,this._t=n}}function r0(t){return Ae(t.integerValue||t.doubleValue)}function E_(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.field=e,this.transform=n}}function I2(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ls&&r instanceof ls||n instanceof us&&r instanceof us?is(n.elements,r.elements,gn):n instanceof Nu&&r instanceof Nu?gn(n._t,r._t):n instanceof Ru&&r instanceof Ru}(t.transform,e.transform)}class k2{constructor(e,n){this.version=e,this.transformResults=n}}class fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lc{}function T_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new C_(t.key,fn.none()):new Pa(t.key,t.data,fn.none());{const n=t.data,r=wt.empty();let i=new be(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ar(t.key,r,new Ft(i.toArray()),fn.none())}}function x2(t,e,n){t instanceof Pa?function(r,i,s){const o=r.value.clone(),a=s0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ar?function(r,i,s){if(!bl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=s0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(__(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function uo(t,e,n,r){return t instanceof Pa?function(i,s,o,a){if(!bl(i.precondition,s))return o;const l=i.value.clone(),u=o0(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ar?function(i,s,o,a){if(!bl(i.precondition,s))return o;const l=o0(i.fieldTransforms,a,s),u=s.data;return u.setAll(__(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return bl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function A2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=v_(r.transform,i||null);s!=null&&(n===null&&(n=wt.empty()),n.set(r.field,s))}return n||null}function i0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&is(n,r,(i,s)=>I2(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pa extends Lc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ar extends Lc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function __(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s0(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,C2(o,a,n[i]))}return r}function o0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_2(s,o,e))}return r}class C_ extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P2 extends Lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,te;function N2(t){switch(t){default:return G();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function I_(t){if(t===void 0)return wr("GRPC error has no .code"),R.UNKNOWN;switch(t){case xe.OK:return R.OK;case xe.CANCELLED:return R.CANCELLED;case xe.UNKNOWN:return R.UNKNOWN;case xe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case xe.INTERNAL:return R.INTERNAL;case xe.UNAVAILABLE:return R.UNAVAILABLE;case xe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case xe.NOT_FOUND:return R.NOT_FOUND;case xe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case xe.ABORTED:return R.ABORTED;case xe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case xe.DATA_LOSS:return R.DATA_LOSS;default:return G()}}(te=xe||(xe={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new Le(F.comparator);function bn(){return D2}const k_=new Le(F.comparator);function qs(...t){let e=k_;for(const n of t)e=e.insert(n.key,n);return e}function x_(t){let e=k_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return co()}function A_(){return co()}function co(){return new ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const O2=new Le(F.comparator),b2=new be(F.comparator);function ee(...t){let e=b2;for(const n of t)e=e.add(n);return e}const L2=new be(se);function P_(){return L2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ra.createSynthesizedTargetChangeForCurrentChange(e,n)),new Mc(Y.min(),r,P_(),bn(),ee())}}class Ra{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ra(Xe.EMPTY_BYTE_STRING,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class R_{constructor(e,n){this.targetId=e,this.It=n}}class N_{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a0{constructor(){this.Tt=0,this.Et=u0(),this.At=Xe.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return this.Tt!==0}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ee(),n=ee(),r=ee();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ra(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=u0()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class M2{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=bn(),this.Bt=l0(),this.Lt=new be(se)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if($d(s))if(r===0){const o=new F(s.path);this.Kt(n,o,We.newNoDocument(o,Y.min()))}else fe(r===1);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&$d(a.target)){const l=new F(a.target.path);this.$t.get(l)!==null||this.Xt(o,l)||this.Kt(o,l,We.newNoDocument(l,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=ee();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ht(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new Mc(e,n,this.Lt,this.$t,r);return this.$t=bn(),this.Bt=l0(),this.Lt=new be(se),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new a0,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new be(se),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=this.Ht(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new a0),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function l0(){return new Le(F.comparator)}function u0(){return new Le(F.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class F2{constructor(e,n){this.databaseId=e,this.dt=n}}function Du(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D_(t,e){return t.dt?e.toBase64():e.toUint8Array()}function U2(t,e){return Du(t,e.toTimestamp())}function xn(t){return fe(!!t),Y.fromTimestamp(function(e){const n=Sr(e);return new Oe(n.seconds,n.nanos)}(t))}function Ym(t,e){return function(n){return new _e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function O_(t){const e=_e.fromString(t);return fe(M_(e)),e}function Ud(t,e){return Ym(t.databaseId,e.path)}function Wh(t,e){const n=O_(e);if(n.get(1)!==t.databaseId.projectId)throw new B(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(b_(n))}function jd(t,e){return Ym(t.databaseId,e)}function j2(t){const e=O_(t);return e.length===4?_e.emptyPath():b_(e)}function Bd(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b_(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function c0(t,e,n){return{name:Ud(t,e),fields:n.value.mapValue.fields}}function B2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.dt?(fe(u===void 0||typeof u=="string"),Xe.fromBase64String(u||"")):(fe(u===void 0||u instanceof Uint8Array),Xe.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?R.UNKNOWN:I_(l.code);return new B(u,l.message||"")}(o);n=new N_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wh(t,r.document.name),s=xn(r.document.updateTime),o=new wt({mapValue:{fields:r.document.fields}}),a=We.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ll(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wh(t,r.document),s=r.readTime?xn(r.readTime):Y.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ll([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wh(t,r.document),s=r.removedTargetIds||[];n=new Ll([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new R2(i),o=r.targetId;n=new R_(o,s)}}return n}function z2(t,e){let n;if(e instanceof Pa)n={update:c0(t,e.key,e.value)};else if(e instanceof C_)n={delete:Ud(t,e.key)};else if(e instanceof Ar)n={update:c0(t,e.key,e.data),updateMask:Z2(e.fieldMask)};else{if(!(e instanceof P2))return G();n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ls)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof us)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Nu)return{fieldPath:s.field.canonicalString(),increment:o._t};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:U2(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:G()}(t,e.precondition)),n}function H2(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?xn(r.updateTime):xn(i);return s.isEqual(Y.min())&&(s=xn(i)),new k2(s,r.transformResults||[])}(n,e))):[]}function W2(t,e){return{documents:[jd(t,e.path)]}}function K2(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(h){if(h.op==="=="){if(Zy(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NAN"}};if(Jy(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NULL"}}}else if(h.op==="!="){if(Zy(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NOT_NAN"}};if(Jy(h.value))return{unaryFilter:{field:mi(h.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mi(h.field),op:X2(h.op),value:h.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:mi(c.field),direction:Q2(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.dt||Nc(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function q2(t){let e=j2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=L_(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new lo(Oi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Nc(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new Pu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new Pu(f,h)}(n.endAt)),p2(e,i,o,s,a,"F",l,u)}function G2(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return G()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function L_(t){return t?t.unaryFilter!==void 0?[J2(t)]:t.fieldFilter!==void 0?[Y2(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>L_(e)).reduce((e,n)=>e.concat(n)):G():[]}function Q2(t){return V2[t]}function X2(t){return $2[t]}function mi(t){return{fieldPath:t.canonicalString()}}function Oi(t){return it.fromServerFormat(t.fieldPath)}function Y2(t){return St.create(Oi(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)}function J2(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Oi(t.unaryFilter.field);return St.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Oi(t.unaryFilter.field);return St.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Oi(t.unaryFilter.field);return St.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Oi(t.unaryFilter.field);return St.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}function Z2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&x2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=T_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(n,r)=>i0(n,r))&&is(this.baseMutations,e.baseMutations,(n,r)=>i0(n,r))}}class Jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=O2;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s=Y.min(),o=Y.min(),a=Xe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.ne=e}}function rb(t){const e=q2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?w2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.ze=new sb}addToCollectionParentIndex(e,n){return this.ze.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Er.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class sb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new cs(0)}static Rn(){return new cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.changes=new ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&uo(r.mutation,i,Ft.empty(),Oe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ee()){const i=jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=qs();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=bn();const o=co(),a=co();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ar)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),uo(c.mutation,u,c.mutation.getFieldMask(),Oe.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ab(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=co();let i=new Le((o,a)=>o-a),s=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ft.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ee()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=A_();c.forEach(f=>{if(!s.has(f)){const d=T_(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return F.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(jr());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?A.resolve():this.getBaseDocument(e,c,h).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ee())).next(c=>({batchId:a,changes:x_(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=qs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=qs();return this.indexManager.getCollectionParents(e,i).next(o=>A.forEach(o,a=>{const l=function(u,c){return new Dc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,We.newInvalidDocument(u)))});let o=qs();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&uo(u.mutation,l,Ft.empty(),Oe.now()),Xm(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):A.resolve(We.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return A.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:xn(r.createTime)}),A.resolve()}getNamedQuery(e,n){return A.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,function(r){return{name:r.name,query:rb(r.bundledQuery),readTime:xn(r.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.overlays=new Le(F.comparator),this.Xn=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=jr(),s=n.length+1,o=new F(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=jr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=jr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tb(n,r));let s=this.Xn.get(n);s===void 0&&(s=ee(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Zn=new be(Ve.ts),this.es=new be(Ve.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new Ve(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new F(new _e([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new F(new _e([])),r=new Ve(n,e),i=new Ve(n,e+1);let s=ee();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ve(e,0),r=this.Zn.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return F.comparator(e.key,n.key)||se(e.ls,n.ls)}static ns(e,n){return se(e.ls,n.ls)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new be(Ve.ts)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ws(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.fs-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(se);return n.forEach(i=>{const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),A.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Ve(new F(s),0);let a=new be(se);return this.ds.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ls)),!0)},o),A.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.ys(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ds;return A.forEach(n.mutations,i=>{const s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new Ve(n,0),i=this.ds.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}ys(e,n){return this.ws(e)}ws(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.ps=e,this.docs=new Le(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():We.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),A.resolve(r)}getAllFromCollection(e,n,r){let i=bn();const s=new F(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||YO(XO(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return A.resolve(i)}getAllFromCollectionGroup(e,n,r,i){G()}Is(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new db(this)}getSize(e){return A.resolve(this.size)}}class db extends ob{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.persistence=e,this.Ts=new ks(n=>qm(n),Gm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Es=0,this.As=new Zm,this.targetCount=0,this.Rs=cs.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),A.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new cs(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.vn(n),A.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.As.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.bs={},this.overlays={},this.Ps=new Wm(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new pb(this),this.indexManager=new ib,this.remoteDocumentCache=function(r){return new fb(r)}(r=>this.referenceDelegate.Ss(r)),this.wt=new nb(n),this.Ds=new ub(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new hb(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new gb(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return A.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class gb extends ZO{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.ks=new Zm,this.Os=null}static Ms(e){return new eg(e)}get Fs(){if(this.Os)return this.Os;throw G()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),A.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Fs,r=>{const i=F.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,Y.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return A.or([()=>A.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=ee(),i=ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){return A.resolve(null)}xi(e,n,r,i){return m2(n)||i.isEqual(Y.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Oi(n,o,r,i)?this.Ni(e,n):(qy()<=ie.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fd(n)),this.Mi(e,o,n,QO(i,-1)))})}ki(e,n){let r=new be(p_(e));return n.forEach((i,s)=>{Xm(e,s)&&(r=r.add(s))}),r}Oi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return qy()<=ie.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Fd(n)),this.Di.getDocumentsMatchingQuery(e,n,Er.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new Le(se),this.Bi=new ks(s=>qm(s),Gm),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lb(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function wb(t,e,n,r){return new yb(t,e,n,r)}async function V_(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ee();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ki:u,removedBatchIds:o,addedBatchIds:a}))})})}function Eb(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=A.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(p=>{const y=l.docVersions.get(d);fe(y!==null),p.version.compareTo(y)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ee();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $_(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function Sb(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Vs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Vs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(Xe.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(p,y,S){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,d,c)&&a.push(n.Vs.updateTargetData(s,d))});let l=bn(),u=ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Tb(s,o,e.documentUpdates).next(c=>{l=c.Gi,u=c.Qi})),!r.isEqual(Y.min())){const c=n.Vs.getLastRemoteSnapshotVersion(s).next(h=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.$i=i,s))}function Tb(t,e,n){let r=ee(),i=ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=bn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Y.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Gi:o,Qi:i}})}function _b(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Cb(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new Kr(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}async function zd(t,e,n){const r=Q(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Aa(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}function h0(t,e,n){const r=Q(t);let i=Y.min(),s=ee();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Q(a),h=c.Bi.get(u);return h!==void 0?A.resolve(c.$i.get(h)):c.Vs.getTargetData(l,u)}(r,o,si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:Y.min(),n?s:ee())).next(a=>(Ib(r,E2(e),a),{documents:a,ji:s})))}function Ib(t,e,n){let r=Y.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}class f0{constructor(){this.activeTargetIds=P_()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kb{constructor(){this.Fr=new f0,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new f0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{Br(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.so=n+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);V("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(l=>(V("RestConnection","Received: ",l),l),l=>{throw Gy("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){const r=Ab[e];return`${this.so}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new FO;a.listenOnce(MO.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Hh.NO_ERROR:const u=a.getResponseJson();V("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Hh.TIMEOUT:V("Connection",'RPC "'+e+'" timed out'),o(new B(R.DEADLINE_EXCEEDED,"Request time out"));break;case Hh.HTTP_ERROR:const c=a.getStatus();if(V("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const h=a.getResponseJson().error;if(h&&h.status&&h.message){const f=function(d){const p=d.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(p)>=0?p:R.UNKNOWN}(h.status);o(new B(f,h.message))}else o(new B(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new B(R.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{V("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bO(),o=LO(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new $O({})),this.uo(a.initMessageHeaders,n,r),SS()||_S()||xP()||CS()||AP()||TS()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");V("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const f=new Pb({jr:p=>{h?V("Connection","Not sending because WebChannel is closed:",p):(c||(V("Connection","Opening WebChannel transport."),u.open(),c=!0),V("Connection","WebChannel sending:",p),u.send(p))},Wr:()=>u.close()}),d=(p,y,S)=>{p.listen(y,g=>{try{S(g)}catch(m){setTimeout(()=>{throw m},0)}})};return d(u,ll.EventType.OPEN,()=>{h||V("Connection","WebChannel transport opened.")}),d(u,ll.EventType.CLOSE,()=>{h||(h=!0,V("Connection","WebChannel transport closed"),f.eo())}),d(u,ll.EventType.ERROR,p=>{h||(h=!0,Gy("Connection","WebChannel transport errored:",p),f.eo(new B(R.UNAVAILABLE,"The operation could not be completed")))}),d(u,ll.EventType.MESSAGE,p=>{var y;if(!h){const S=p.data[0];fe(!!S);const g=S,m=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(m){V("Connection","WebChannel received error:",m);const v=m.status;let w=function(C){const I=xe[C];if(I!==void 0)return I_(I)}(v),E=m.message;w===void 0&&(w=R.INTERNAL,E="Unknown error status: "+v+" with message "+m.message),h=!0,f.eo(new B(w,E)),u.close()}else V("Connection","WebChannel received:",S),f.no(S)}}),d(o,VO.STAT_EVENT,p=>{p.stat===Wy.PROXY?V("Connection","Detected buffering proxy"):p.stat===Wy.NOPROXY&&V("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.Zr()},0),f}}function Kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){return new F2(t,!0)}class F_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n,r,i,s,o,a,l){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new F_(e,n)}Do(){return this.state===1||this.state===5||this.Co()}Co(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&this.vo===null&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}async Oo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Fo(),this.$o(),this.So.cancel(),this.Po++,e!==4?this.So.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(n)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new B(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){this.state=5,this.So.Io(async()=>{this.state=0,this.start()})}qo(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nb extends U_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=B2(this.wt,e),r=function(i){if(!("targetChange"in i))return Y.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Y.min():s.readTime?xn(s.readTime):Y.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=Bd(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=$d(a)?{documents:W2(i,a)}:{query:K2(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=D_(i,s.resumeToken):s.snapshotVersion.compareTo(Y.min())>0&&(o.readTime=Du(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=G2(this.wt,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=Bd(this.wt),n.removeTarget=e,this.Mo(n)}}class Db extends U_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=H2(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.Jo(r,n)}return fe(!e.writeResults||e.writeResults.length===0),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Bd(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>z2(this.wt,r))};this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(R.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(R.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class bb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){this.eu===0&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){this.state==="Online"?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,e==="Online"&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(wr(n),this.su=!1):V("OnlineStateTracker",n)}cu(){this.nu!==null&&(this.nu.cancel(),this.nu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(o=>{r.enqueueAndForget(async()=>{hi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Q(a);l.lu.add(4),await Na(l),l._u.set("Unknown"),l.lu.delete(4),await $c(l)}(this))})}),this._u=new bb(r,i)}}async function $c(t){if(hi(t))for(const e of t.fu)await e(!0)}async function Na(t){for(const e of t.fu)await e(!1)}function j_(t,e){const n=Q(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),ig(n)?rg(n):xs(n).Co()&&ng(n,e))}function B_(t,e){const n=Q(t),r=xs(n);n.hu.delete(e),r.Co()&&z_(n,e),n.hu.size===0&&(r.Co()?r.ko():hi(n)&&n._u.set("Unknown"))}function ng(t,e){t.wu.Nt(e.targetId),xs(t).Qo(e)}function z_(t,e){t.wu.Nt(e),xs(t).jo(e)}function rg(t){t.wu=new M2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),xs(t).start(),t._u.iu()}function ig(t){return hi(t)&&!xs(t).Do()&&t.hu.size>0}function hi(t){return Q(t).lu.size===0}function H_(t){t.wu=void 0}async function Mb(t){t.hu.forEach((e,n)=>{ng(t,e)})}async function Vb(t,e){H_(t),ig(t)?(t._u.uu(e),rg(t)):t._u.set("Unknown")}async function $b(t,e,n){if(t._u.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.hu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.hu.delete(o),r.wu.removeTarget(o))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ou(t,r)}else if(e instanceof Ll?t.wu.Ut(e):e instanceof R_?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(Y.min()))try{const r=await $_(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.hu.get(l);u&&i.hu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.hu.get(a);if(!l)return;i.hu.set(a,l.withResumeToken(Xe.EMPTY_BYTE_STRING,l.snapshotVersion)),z_(i,a);const u=new Kr(l.target,a,1,l.sequenceNumber);ng(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await Ou(t,r)}}async function Ou(t,e,n){if(!Aa(e))throw e;t.lu.add(1),await Na(t),t._u.set("Offline"),n||(n=()=>$_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.lu.delete(1),await $c(t)})}function W_(t,e){return e().catch(n=>Ou(t,n,e))}async function Fc(t){const e=Q(t),n=Tr(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Fb(e);)try{const i=await _b(e.localStore,r);if(i===null){e.au.length===0&&n.ko();break}r=i.batchId,Ub(e,i)}catch(i){await Ou(e,i)}K_(e)&&q_(e)}function Fb(t){return hi(t)&&t.au.length<10}function Ub(t,e){t.au.push(e);const n=Tr(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function K_(t){return hi(t)&&!Tr(t).Do()&&t.au.length>0}function q_(t){Tr(t).start()}async function jb(t){Tr(t).Xo()}async function Bb(t){const e=Tr(t);for(const n of t.au)e.Ho(n.mutations)}async function zb(t,e,n){const r=t.au.shift(),i=Jm.from(r,e,n);await W_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fc(t)}async function Hb(t,e){e&&Tr(t).zo&&await async function(n,r){if(i=r.code,N2(i)&&i!==R.ABORTED){const s=n.au.shift();Tr(n).No(),await W_(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Fc(n)}var i}(t,e),K_(t)&&q_(t)}async function p0(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=hi(n);n.lu.add(3),await Na(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),await $c(n)}async function Wb(t,e){const n=Q(t);e?(n.lu.delete(2),await $c(n)):e||(n.lu.add(2),await Na(n),n._u.set("Unknown"))}function xs(t){return t.mu||(t.mu=function(e,n,r){const i=Q(e);return i.tu(),new Nb(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Mb.bind(null,t),Jr:Vb.bind(null,t),Go:$b.bind(null,t)}),t.fu.push(async e=>{e?(t.mu.No(),ig(t)?rg(t):t._u.set("Unknown")):(await t.mu.stop(),H_(t))})),t.mu}function Tr(t){return t.gu||(t.gu=function(e,n,r){const i=Q(e);return i.tu(),new Db(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:jb.bind(null,t),Jr:Hb.bind(null,t),Yo:Bb.bind(null,t),Jo:zb.bind(null,t)}),t.fu.push(async e=>{e?(t.gu.No(),await Fc(t)):(await t.gu.stop(),t.au.length>0&&(V("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Aa(t))return new B(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=qs(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.yu=new Le(F.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?e.type!==0&&r.type===3?this.yu=this.yu.insert(n,e):e.type===3&&r.type!==1?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.yu=this.yu.remove(n):e.type===1&&r.type===2?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):G():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class hs{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new hs(e,n,Wi.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Iu=void 0,this.listeners=[]}}class qb{constructor(){this.queries=new ks(e=>d_(e),Oc),this.onlineState="Unknown",this.Tu=new Set}}async function Gb(t,e){const n=Q(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Kb),i)try{s.Iu=await n.onListen(r)}catch(o){const a=og(o,`Initialization of query '${Fd(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&ag(n)}async function Qb(t,e){const n=Q(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Xb(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&ag(n)}function Yb(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ag(t){t.Tu.forEach(e=>{e.next()})}class Jb{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Du||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Su(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e){this.key=e}}class Q_{constructor(e){this.key=e}}class Zb{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=ee(),this.mutatedKeys=ee(),this.Lu=p_(e),this.Uu=new Wi(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new m0,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Xm(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let S=!1;f&&d?f.data.isEqual(d.data)?p!==y&&(r.track({type:3,doc:d}),S=!0):this.Qu(f,d)||(r.track({type:2,doc:d}),S=!0,(l&&this.Lu(d,l)>0||u&&this.Lu(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),S=!0):f&&!d&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(d?(o=o.add(d),s=y?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((u,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return d(h)-d(f)}(u.type,c.type)||this.Lu(u.doc,c.doc)),this.ju(r);const o=n?this.Wu():[],a=this.Bu.size===0&&this.current?1:0,l=a!==this.$u;return this.$u=a,s.length!==0||l?{snapshot:new hs(this.query,e.Uu,i,s,e.mutatedKeys,a===0,l,!1),zu:o}:{zu:o}}Eu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new m0,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ee(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new Q_(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new G_(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=ee();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return hs.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,this.$u===0)}}class eL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tL{constructor(e){this.key=e,this.Xu=!1}}class nL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ks(a=>d_(a),Oc),this.ec=new Map,this.nc=new Set,this.sc=new Le(F.comparator),this.ic=new Map,this.rc=new Zm,this.oc={},this.uc=new Map,this.cc=cs.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return this.ac===!0}}async function rL(t,e){const n=dL(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=await Cb(n.localStore,si(e));n.isPrimaryClient&&j_(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await iL(n,e,r,a==="current")}return i}async function iL(t,e,n,r){t.hc=(c,h,f)=>async function(d,p,y,S){let g=p.view.Ku(y);g.Oi&&(g=await h0(d.localStore,p.query,!1).then(({documents:w})=>p.view.Ku(w,g)));const m=S&&S.targetChanges.get(p.targetId),v=p.view.applyChanges(g,d.isPrimaryClient,m);return v0(d,p.targetId,v.zu),v.snapshot}(t,c,h,f);const i=await h0(t.localStore,e,!0),s=new Zb(e,i.ji),o=s.Ku(i.documents),a=Ra.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);v0(t,n,l.zu);const u=new eL(e,n,s);return t.tc.set(e,u),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),l.snapshot}async function sL(t,e){const n=Q(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!Oc(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await zd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),B_(n.remoteStore,r.targetId),Hd(n,r.targetId)}).catch(xa)):(Hd(n,r.targetId),await zd(n.localStore,r.targetId,!0))}async function oL(t,e,n){const r=pL(t);try{const i=await function(s,o){const a=Q(s),l=Oe.now(),u=o.reduce((f,d)=>f.add(d.key),ee());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=bn(),p=ee();return a.Ui.getEntries(f,u).next(y=>{d=y,d.forEach((S,g)=>{g.isValidDocument()||(p=p.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(y=>{c=y;const S=[];for(const g of o){const m=A2(g,c.get(g.key).overlayedDocument);m!=null&&S.push(new Ar(g.key,m,h_(m.value.mapValue),fn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(y=>{h=y;const S=y.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,y.batchId,S)})}).then(()=>({batchId:h.batchId,changes:x_(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.oc[s.currentUser.toKey()];l||(l=new Le(se)),l=l.insert(o,a),s.oc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Da(r,i.changes),await Fc(r.remoteStore)}catch(i){const s=og(i,"Failed to persist write");n.reject(s)}}async function X_(t,e){const n=Q(t);try{const r=await Sb(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?fe(o.Xu):i.removedDocuments.size>0&&(fe(o.Xu),o.Xu=!1))}),await Da(n,r,e)}catch(r){await xa(r)}}function g0(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Q(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Eu(o)&&(l=!0)}),l&&ag(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aL(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new Le(F.comparator);o=o.insert(s,We.newNoDocument(s,Y.min()));const a=ee().add(s),l=new Mc(Y.min(),new Map,new be(se),o,a);await X_(r,l),r.sc=r.sc.remove(s),r.ic.delete(e),lg(r)}else await zd(r.localStore,e,!1).then(()=>Hd(r,e,n)).catch(xa)}async function lL(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await Eb(n.localStore,e);J_(n,r,null),Y_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Da(n,i)}catch(i){await xa(i)}}async function uL(t,e,n){const r=Q(t);try{const i=await function(s,o){const a=Q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(fe(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);J_(r,e,n),Y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Da(r,i)}catch(i){await xa(i)}}function Y_(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function J_(t,e,n){const r=Q(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Hd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||Z_(t,r)})}function Z_(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);n!==null&&(B_(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),lg(t))}function v0(t,e,n){for(const r of n)r instanceof G_?(t.rc.addReference(r.key,e),cL(t,r)):r instanceof Q_?(V("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||Z_(t,r.key)):G()}function cL(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(V("SyncEngine","New document in limbo: "+n),t.nc.add(r),lg(t))}function lg(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new F(_e.fromString(e)),r=t.cc.next();t.ic.set(r,new tL(n)),t.sc=t.sc.insert(n,r),j_(t.remoteStore,new Kr(si(Qm(n.path)),r,2,Wm.ot))}}async function Da(t,e,n){const r=Q(t),i=[],s=[],o=[];r.tc.isEmpty()||(r.tc.forEach((a,l)=>{o.push(r.hc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=tg.Vi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Zu.Go(i),await async function(a,l){const u=Q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>A.forEach(l,h=>A.forEach(h.Pi,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>A.forEach(h.vi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Aa(c))throw c;V("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.$i.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);u.$i=u.$i.insert(h,p)}}}(r.localStore,s))}async function hL(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await V_(n.localStore,e);n.currentUser=e,function(i,s){i.uc.forEach(o=>{o.forEach(a=>{a.reject(new B(R.CANCELLED,s))})}),i.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Da(n,r.Ki)}}function fL(t,e){const n=Q(t),r=n.ic.get(e);if(r&&r.Xu)return ee().add(r.key);{let i=ee();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function dL(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aL.bind(null,e),e.Zu.Go=Xb.bind(null,e.eventManager),e.Zu.lc=Yb.bind(null,e.eventManager),e}function pL(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uL.bind(null,e),e}class mL{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,n){return null}gc(e,n){return null}wc(e){return wb(this.persistence,new vb,e.initialUser,this.wt)}_c(e){return new mb(eg.Ms,this.wt)}dc(e){return new kb}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),await Wb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qb}createDatastore(e){const n=Vc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new Rb(i));var i;return function(s,o,a,l){return new Ob(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>g0(this.syncEngine,a,0),o=d0.V()?new d0:new xb,new Lb(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new nL(r,i,s,o,a,l);return u&&(c.ac=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);V("RemoteStore","RemoteStore shutting down."),n.lu.add(5),await Na(n),n.du.shutdown(),n._u.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=a_.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wL(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await V_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function EL(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SL(t);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>p0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>p0(e.remoteStore,s)),t.onlineComponents=e}async function SL(t){return t.offlineComponents||(V("FirestoreClient","Using default OfflineComponentProvider"),await wL(t,new mL)),t.offlineComponents}async function eC(t){return t.onlineComponents||(V("FirestoreClient","Using default OnlineComponentProvider"),await EL(t,new gL)),t.onlineComponents}function TL(t){return eC(t).then(e=>e.syncEngine)}async function _L(t){const e=await eC(t),n=e.eventManager;return n.onListen=rL.bind(null,e.syncEngine),n.onUnlisten=sL.bind(null,e.syncEngine),n}function CL(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new vL({next:h=>{s.enqueueAndForget(()=>Qb(i,c));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new B(R.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new B(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Jb(Qm(o.path),u,{includeMetadataChanges:!0,Du:!0});return Gb(i,c)}(await _L(t),t.asyncQueue,e,n,r)),r.promise}const y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){if(!n)throw new B(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kL(t,e,n,r){if(e===!0&&r===!0)throw new B(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w0(t){if(!F.isDocumentKey(t))throw new B(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ug(t);throw new B(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new B(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,e instanceof os?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new B(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new os(i.options.projectId)}(e))}get app(){if(!this._app)throw new B(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jO;switch(n.type){case"gapi":const r=n.client;return fe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new HO(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new B(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=y0.get(e);n&&(V("ComponentProvider","Removing Datastore"),y0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class cg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cg(this.firestore,e,this._query)}}class Yo extends cg{constructor(e,n,r){super(e,n,Qm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new F(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function ho(t,e,...n){if(t=Bt(t),arguments.length===1&&(e=a_.I()),IL("doc","path",e),t instanceof tC){const r=_e.fromString(e,...n);return w0(r),new Rt(t,null,new F(r))}{if(!(t instanceof Rt||t instanceof Yo))throw new B(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return w0(r),new Rt(t.firestore,t instanceof Yo?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new F_(this,"async_queue_retry"),this.Kc=()=>{const n=Kh();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=Kh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=Kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new mr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}async jc(){if(this.Mc.length!==0){try{await this.Mc[0](),this.Mc.shift(),this.So.reset()}catch(e){if(!Aa(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Mc.length>0&&this.So.Io(()=>this.jc())}}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{this.Bc=r,this.Lc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=sg.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&G()}verifyOperationInProgress(){}async zc(){let e;do e=this.Oc,await e;while(e!==this.Oc)}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class Uc extends tC{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new xL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||rC(this),this._firestoreClient.terminate()}}function AL(t=AS()){return hm(t,"firestore").getImmediate()}function nC(t){return t._firestoreClient||rC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new t2(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new yL(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ds(Xe.fromBase64String(e))}catch(n){throw new B(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ds(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^__.*__$/;class RL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pa(e,this.data,n,this.fieldTransforms)}}class iC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Bc{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Bc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return bu(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(e.length===0)throw this.oa("Document fields must not be empty");if(sC(this.Zc)&&PL.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class NL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||Vc(e)}aa(e,n,r,i=!1){return new Bc({Zc:e,methodName:n,ca:r,path:it.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function oC(t){const e=t._freezeSettings(),n=Vc(t._databaseId);return new NL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DL(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);fg("Data must be an object, but it was:",o,r);const a=lC(r,o);let l,u;if(s.merge)l=new Ft(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=Wd(e,h,n);if(!o.contains(f))throw new B(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cC(c,f)||c.push(f)}l=new Ft(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new RL(new wt(a),l,u)}class zc extends Oa{_toFieldTransform(e){if(e.Zc!==2)throw e.Zc===1?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function aC(t,e,n){return new Bc({Zc:3,ca:e.settings.ca,methodName:t._methodName,na:n},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class OL extends Oa{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=aC(this,e,!0),r=this.ha.map(s=>As(s,n)),i=new ls(r);return new S_(e.path,i)}isEqual(e){return this===e}}class bL extends Oa{constructor(e,n){super(e),this.ha=n}_toFieldTransform(e){const n=aC(this,e,!0),r=this.ha.map(s=>As(s,n)),i=new us(r);return new S_(e.path,i)}isEqual(e){return this===e}}function LL(t,e,n,r){const i=t.aa(1,e,n);fg("Data must be an object, but it was:",i,r);const s=[],o=wt.empty();ci(r,(l,u)=>{const c=dg(e,l,n);u=Bt(u);const h=i.ia(c);if(u instanceof zc)s.push(c);else{const f=As(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Ft(s);return new iC(o,a,i.fieldTransforms)}function ML(t,e,n,r,i,s){const o=t.aa(1,e,n),a=[Wd(e,r,n)],l=[i];if(s.length%2!=0)throw new B(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Wd(e,s[f])),l.push(s[f+1]);const u=[],c=wt.empty();for(let f=a.length-1;f>=0;--f)if(!cC(u,a[f])){const d=a[f];let p=l[f];p=Bt(p);const y=o.ia(d);if(p instanceof zc)u.push(d);else{const S=As(p,y);S!=null&&(u.push(d),c.set(d,S))}}const h=new Ft(u);return new iC(c,h,o.fieldTransforms)}function As(t,e){if(uC(t=Bt(t)))return fg("Unsupported field value:",e,t),lC(t,e);if(t instanceof Oa)return function(n,r){if(!sC(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&e.Zc!==4)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=As(o,r.ra(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return T2(r.wt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Oe.fromDate(n);return{timestampValue:Du(r.wt,i)}}if(n instanceof Oe){const i=new Oe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Du(r.wt,i)}}if(n instanceof hg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ds)return{bytesValue:D_(r.wt,n._byteString)};if(n instanceof Rt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ym(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${ug(n)}`)}(t,e)}function lC(t,e){const n={};return l_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(r,i)=>{const s=As(i,e.ea(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function uC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oe||t instanceof hg||t instanceof ds||t instanceof Rt||t instanceof Oa)}function fg(t,e,n){if(!uC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ug(n);throw r==="an object"?e.oa(t+" a custom object"):e.oa(t+" "+r)}}function Wd(t,e,n){if((e=Bt(e))instanceof jc)return e._internalPath;if(typeof e=="string")return dg(t,e);throw bu("Field path arguments must be of type string or ",t,!1,void 0,n)}const VL=new RegExp("[~\\*/\\[\\]]");function dg(t,e,n){if(e.search(VL)>=0)throw bu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jc(...e.split("."))._internalPath}catch{throw bu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(R.INVALID_ARGUMENT,a+t+l)}function cC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $L extends hC{data(){return super.data()}}function fC(t,e){return typeof e=="string"?dg(t,e):e instanceof jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dC extends hC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new UL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class UL extends dC{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){const r={};return ci(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new hg(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=c_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new Oe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);fe(M_(r));const i=new os(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(n)||wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t){t=fs(t,Rt);const e=fs(t.firestore,Uc);return CL(nC(e),t._key).then(n=>WL(e,t,n))}class zL extends jL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ds(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function HL(t,e,n){t=fs(t,Rt);const r=fs(t.firestore,Uc),i=BL(t.converter,e,n);return mC(r,[DL(oC(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fn.none())])}function S0(t,e,n,...r){t=fs(t,Rt);const i=fs(t.firestore,Uc),s=oC(i);let o;return o=typeof(e=Bt(e))=="string"||e instanceof jc?ML(s,"updateDoc",t._key,e,n,r):LL(s,"updateDoc",t._key,e),mC(i,[o.toMutation(t._key,fn.exists(!0))])}function mC(t,e){return function(n,r){const i=new mr;return n.asyncQueue.enqueueAndForget(async()=>oL(await TL(n),r,i)),i.promise}(nC(t),e)}function WL(t,e,n){const r=n.docs.get(e._key),i=new zL(t);return new dC(t,i,e._key,r,new FL(n.hasPendingWrites,n.fromCache),e.converter)}function KL(...t){return new OL("arrayUnion",t)}function qL(...t){return new bL("arrayRemove",t)}(function(t,e=!0){(function(n){Is=n})(pa),ts(new Jr("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Uc(i,new BO(n.getProvider("auth-internal")),new KO(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),pr(Ky,"3.4.12",t),pr(Ky,"3.4.12","esm2017")})();var GL="firebase",QL="9.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(GL,QL,"app");const XL={apiKey:"AIzaSyB3h9GB7AKSl657X5WSOyYmUB9L7vcoDnA",authDomain:"cinematic-fc89f.firebaseapp.com",projectId:"cinematic-fc89f",storageBucket:"cinematic-fc89f.appspot.com",messagingSenderId:"1073816025049",appId:"1:1073816025049:web:9d948a12ee6bdc4677cbc8"},YL=bR(XL),fo=AL(YL),T0=OD(),JL=new En,ZL=()=>{const[t,e]=_.useState(""),{user:n,setUser:r}=_.useContext(dc),i=fc();return D("header",{className:"bg-slate-800 body-font",children:ue("div",{className:"container mx-auto flex flex-wrap p-4 flex-col md:flex-row items-center",children:[ue(fu,{className:"flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0",to:"/",children:[D(vP,{className:"text-2xl text-white"}),D("span",{className:"ml-3 text-white text-xl",children:"Cinematic"})]}),ue("nav",{className:"md:ml-4 grow md:py-1 md:pl-4 md:border-l md:border-gray-400 flex flex-wrap items-center text-base justify-center",children:[D("form",{onSubmit:u=>{u.preventDefault(),e(""),i(`/search/${t}`)},children:ue("label",{className:"relative block",children:[D("span",{className:"sr-only",children:"Search"}),D("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2",children:D(yP,{})}),D("input",{onChange:u=>{e(u.target.value)},value:t,className:"placeholder:text-slate-400 block bg-white w-full border border-slate-300 rounded-md py-2 pl-9 pr-3 shadow-sm focus:outline-none focus:border-sky-500 focus:ring-sky-500 focus:ring-1 sm:text-sm",placeholder:"Search Movies",type:"text",name:"search"})]})}),n?ue("div",{className:"md:ml-auto md:mt-2 flex items-center",children:[D(fu,{to:"/watchlist",className:"text-white bg-transparent p-3",children:"Your watchlist"}),D("button",{onClick:()=>{TN(T0).then(()=>{r(null)}).catch(u=>{console.log(u)})},className:"text-white mx-2 bg-transparent p-3",children:"Sign Out"}),D("img",{src:n.photoURL,alt:"User avatar",className:"h-12 w-12 rounded-full md:hidden"})]}):ue("button",{onClick:()=>{KN(T0,JL).then(u=>{r(u.user);const{creationTime:c,lastSignInTime:h}=u.user.metadata;c===h&&HL(ho(fo,"watchlists",u.user.uid),{list:[]})}).catch(u=>{console.log(u)})},className:"p-3 md:ml-auto flex items-center bg-transparent text-white",children:[D(wP,{className:"mx-2"})," ",D("span",{className:"mx-2",children:"Sign In"})]})]})]})})};var Kd={},eM={get exports(){return Kd},set exports(t){Kd=t}},Lu={},tM={get exports(){return Lu},set exports(t){Lu=t}},gC=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},nM=gC,pg=Object.prototype.toString,mg=function(t){return function(e){var n=pg.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function fi(t){return t=t.toLowerCase(),function(n){return mg(n)===t}}function gg(t){return Array.isArray(t)}function Mu(t){return typeof t>"u"}function rM(t){return t!==null&&!Mu(t)&&t.constructor!==null&&!Mu(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var vC=fi("ArrayBuffer");function iM(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&vC(t.buffer),e}function sM(t){return typeof t=="string"}function oM(t){return typeof t=="number"}function yC(t){return t!==null&&typeof t=="object"}function Ml(t){if(mg(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var aM=fi("Date"),lM=fi("File"),uM=fi("Blob"),cM=fi("FileList");function vg(t){return pg.call(t)==="[object Function]"}function hM(t){return yC(t)&&vg(t.pipe)}function fM(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||pg.call(t)===e||vg(t.toString)&&t.toString()===e)}var dM=fi("URLSearchParams");function pM(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function mM(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function yg(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),gg(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function qd(){var t={};function e(i,s){Ml(t[s])&&Ml(i)?t[s]=qd(t[s],i):Ml(i)?t[s]=qd({},i):gg(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)yg(arguments[n],e);return t}function gM(t,e,n){return yg(e,function(i,s){n&&typeof i=="function"?t[s]=nM(i,n):t[s]=i}),t}function vM(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function yM(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function wM(t,e,n){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function EM(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return r!==-1&&r===n}function SM(t){if(!t)return null;var e=t.length;if(Mu(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var TM=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Je={isArray:gg,isArrayBuffer:vC,isBuffer:rM,isFormData:fM,isArrayBufferView:iM,isString:sM,isNumber:oM,isObject:yC,isPlainObject:Ml,isUndefined:Mu,isDate:aM,isFile:lM,isBlob:uM,isFunction:vg,isStream:hM,isURLSearchParams:dM,isStandardBrowserEnv:mM,forEach:yg,merge:qd,extend:gM,trim:pM,stripBOM:vM,inherits:yM,toFlatObject:wM,kindOf:mg,kindOfTest:fi,endsWith:EM,toArray:SM,isTypedArray:TM,isFileList:cM},gi=Je;function _0(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var wC=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(gi.isURLSearchParams(n))i=n.toString();else{var s=[];gi.forEach(n,function(l,u){l===null||typeof l>"u"||(gi.isArray(l)?u=u+"[]":l=[l],gi.forEach(l,function(h){gi.isDate(h)?h=h.toISOString():gi.isObject(h)&&(h=JSON.stringify(h)),s.push(_0(u)+"="+_0(h))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},_M=Je;function Hc(){this.handlers=[]}Hc.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Hc.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Hc.prototype.forEach=function(e){_M.forEach(this.handlers,function(r){r!==null&&e(r)})};var CM=Hc,IM=Je,kM=function(e,n){IM.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},EC=Je;function ps(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}EC.inherits(ps,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var SC=ps.prototype,TC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){TC[t]={value:t}});Object.defineProperties(ps,TC);Object.defineProperty(SC,"isAxiosError",{value:!0});ps.from=function(t,e,n,r,i,s){var o=Object.create(SC);return EC.toFlatObject(t,o,function(l){return l!==Error.prototype}),ps.call(o,t.message,e,n,r,i),o.name=t.name,s&&Object.assign(o,s),o};var Ps=ps,_C={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ht=Je;function xM(t,e){e=e||new FormData;var n=[];function r(s){return s===null?"":Ht.isDate(s)?s.toISOString():Ht.isArrayBuffer(s)||Ht.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(Ht.isPlainObject(s)||Ht.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),Ht.forEach(s,function(l,u){if(!Ht.isUndefined(l)){var c=o?o+"."+u:u,h;if(l&&!o&&typeof l=="object"){if(Ht.endsWith(u,"{}"))l=JSON.stringify(l);else if(Ht.endsWith(u,"[]")&&(h=Ht.toArray(l))){h.forEach(function(f){!Ht.isUndefined(f)&&e.append(c,r(f))});return}}i(l,c)}}),n.pop()}else e.append(o,r(s))}return i(t),e}var CC=xM,qh,C0;function AM(){if(C0)return qh;C0=1;var t=Ps;return qh=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},qh}var Gh,I0;function PM(){if(I0)return Gh;I0=1;var t=Je;return Gh=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var u=[];u.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Gh}var RM=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},NM=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},DM=RM,OM=NM,IC=function(e,n){return e&&!DM(n)?OM(e,n):n},Qh,k0;function bM(){if(k0)return Qh;k0=1;var t=Je,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Qh=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},Qh}var Xh,x0;function LM(){if(x0)return Xh;x0=1;var t=Je;return Xh=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),Xh}var Yh,A0;function Wc(){if(A0)return Yh;A0=1;var t=Ps,e=Je;function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Yh=n,Yh}var Jh,P0;function MM(){return P0||(P0=1,Jh=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Jh}var Zh,R0;function N0(){if(R0)return Zh;R0=1;var t=Je,e=AM(),n=PM(),r=wC,i=IC,s=bM(),o=LM(),a=_C,l=Ps,u=Wc(),c=MM();return Zh=function(f){return new Promise(function(p,y){var S=f.data,g=f.headers,m=f.responseType,v;function w(){f.cancelToken&&f.cancelToken.unsubscribe(v),f.signal&&f.signal.removeEventListener("abort",v)}t.isFormData(S)&&t.isStandardBrowserEnv()&&delete g["Content-Type"];var E=new XMLHttpRequest;if(f.auth){var C=f.auth.username||"",I=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";g.Authorization="Basic "+btoa(C+":"+I)}var T=i(f.baseURL,f.url);E.open(f.method.toUpperCase(),r(T,f.params,f.paramsSerializer),!0),E.timeout=f.timeout;function k(){if(E){var z="getAllResponseHeaders"in E?s(E.getAllResponseHeaders()):null,X=!m||m==="text"||m==="json"?E.responseText:E.response,oe={data:X,status:E.status,statusText:E.statusText,headers:z,config:f,request:E};e(function(Be){p(Be),w()},function(Be){y(Be),w()},oe),E=null}}if("onloadend"in E?E.onloadend=k:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(k)},E.onabort=function(){E&&(y(new l("Request aborted",l.ECONNABORTED,f,E)),E=null)},E.onerror=function(){y(new l("Network Error",l.ERR_NETWORK,f,E,E)),E=null},E.ontimeout=function(){var X=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",oe=f.transitional||a;f.timeoutErrorMessage&&(X=f.timeoutErrorMessage),y(new l(X,oe.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,f,E)),E=null},t.isStandardBrowserEnv()){var N=(f.withCredentials||o(T))&&f.xsrfCookieName?n.read(f.xsrfCookieName):void 0;N&&(g[f.xsrfHeaderName]=N)}"setRequestHeader"in E&&t.forEach(g,function(X,oe){typeof S>"u"&&oe.toLowerCase()==="content-type"?delete g[oe]:E.setRequestHeader(oe,X)}),t.isUndefined(f.withCredentials)||(E.withCredentials=!!f.withCredentials),m&&m!=="json"&&(E.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&E.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&E.upload&&E.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(v=function(z){E&&(y(!z||z&&z.type?new u:z),E.abort(),E=null)},f.cancelToken&&f.cancelToken.subscribe(v),f.signal&&(f.signal.aborted?v():f.signal.addEventListener("abort",v))),S||(S=null);var W=c(T);if(W&&["http","https","file"].indexOf(W)===-1){y(new l("Unsupported protocol "+W+":",l.ERR_BAD_REQUEST,f));return}E.send(S)})},Zh}var ef,D0;function VM(){return D0||(D0=1,ef=null),ef}var Me=Je,O0=kM,b0=Ps,$M=_C,FM=CC,UM={"Content-Type":"application/x-www-form-urlencoded"};function L0(t,e){!Me.isUndefined(t)&&Me.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function jM(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=N0()),t}function BM(t,e,n){if(Me.isString(t))try{return(e||JSON.parse)(t),Me.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var Kc={transitional:$M,adapter:jM(),transformRequest:[function(e,n){if(O0(n,"Accept"),O0(n,"Content-Type"),Me.isFormData(e)||Me.isArrayBuffer(e)||Me.isBuffer(e)||Me.isStream(e)||Me.isFile(e)||Me.isBlob(e))return e;if(Me.isArrayBufferView(e))return e.buffer;if(Me.isURLSearchParams(e))return L0(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Me.isObject(e),i=n&&n["Content-Type"],s;if((s=Me.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return FM(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return L0(n,"application/json"),BM(e);return e}],transformResponse:[function(e){var n=this.transitional||Kc.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&Me.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?b0.from(o,b0.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:VM()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Me.forEach(["delete","get","head"],function(e){Kc.headers[e]={}});Me.forEach(["post","put","patch"],function(e){Kc.headers[e]=Me.merge(UM)});var wg=Kc,zM=Je,HM=wg,WM=function(e,n,r){var i=this||HM;return zM.forEach(r,function(o){e=o.call(i,e,n)}),e},tf,M0;function kC(){return M0||(M0=1,tf=function(e){return!!(e&&e.__CANCEL__)}),tf}var V0=Je,nf=WM,KM=kC(),qM=wg,GM=Wc();function rf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new GM}var QM=function(e){rf(e),e.headers=e.headers||{},e.data=nf.call(e,e.data,e.headers,e.transformRequest),e.headers=V0.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),V0.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||qM.adapter;return n(e).then(function(i){return rf(e),i.data=nf.call(e,i.data,i.headers,e.transformResponse),i},function(i){return KM(i)||(rf(e),i&&i.response&&(i.response.data=nf.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},kt=Je,xC=function(e,n){n=n||{};var r={};function i(c,h){return kt.isPlainObject(c)&&kt.isPlainObject(h)?kt.merge(c,h):kt.isPlainObject(h)?kt.merge({},h):kt.isArray(h)?h.slice():h}function s(c){if(kt.isUndefined(n[c])){if(!kt.isUndefined(e[c]))return i(void 0,e[c])}else return i(e[c],n[c])}function o(c){if(!kt.isUndefined(n[c]))return i(void 0,n[c])}function a(c){if(kt.isUndefined(n[c])){if(!kt.isUndefined(e[c]))return i(void 0,e[c])}else return i(void 0,n[c])}function l(c){if(c in n)return i(e[c],n[c]);if(c in e)return i(void 0,e[c])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return kt.forEach(Object.keys(e).concat(Object.keys(n)),function(h){var f=u[h]||s,d=f(h);kt.isUndefined(d)&&f!==l||(r[h]=d)}),r},sf,$0;function AC(){return $0||($0=1,sf={version:"0.27.2"}),sf}var XM=AC().version,Kn=Ps,Eg={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){Eg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var F0={};Eg.transitional=function(e,n,r){function i(s,o){return"[Axios v"+XM+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Kn(i(o," has been removed"+(n?" in "+n:"")),Kn.ERR_DEPRECATED);return n&&!F0[o]&&(F0[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function YM(t,e,n){if(typeof t!="object")throw new Kn("options must be an object",Kn.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Kn("option "+s+" must be "+l,Kn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Kn("Unknown option "+s,Kn.ERR_BAD_OPTION)}}var JM={assertOptions:YM,validators:Eg},PC=Je,ZM=wC,U0=CM,j0=QM,qc=xC,eV=IC,RC=JM,vi=RC.validators;function ms(t){this.defaults=t,this.interceptors={request:new U0,response:new U0}}ms.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=qc(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&RC.assertOptions(r,{silentJSONParsing:vi.transitional(vi.boolean),forcedJSONParsing:vi.transitional(vi.boolean),clarifyTimeoutError:vi.transitional(vi.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(n)===!1||(s=s&&d.synchronous,i.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var a;if(!s){var l=[j0,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=n;i.length;){var c=i.shift(),h=i.shift();try{u=c(u)}catch(f){h(f);break}}try{a=j0(u)}catch(f){return Promise.reject(f)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};ms.prototype.getUri=function(e){e=qc(this.defaults,e);var n=eV(e.baseURL,e.url);return ZM(n,e.params,e.paramsSerializer)};PC.forEach(["delete","get","head","options"],function(e){ms.prototype[e]=function(n,r){return this.request(qc(r||{},{method:e,url:n,data:(r||{}).data}))}});PC.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(qc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ms.prototype[e]=n(),ms.prototype[e+"Form"]=n(!0)});var tV=ms,of,B0;function nV(){if(B0)return of;B0=1;var t=Wc();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},of=e,of}var af,z0;function rV(){return z0||(z0=1,af=function(e){return function(r){return e.apply(null,r)}}),af}var lf,H0;function iV(){if(H0)return lf;H0=1;var t=Je;return lf=function(n){return t.isObject(n)&&n.isAxiosError===!0},lf}var W0=Je,sV=gC,Vl=tV,oV=xC,aV=wg;function NC(t){var e=new Vl(t),n=sV(Vl.prototype.request,e);return W0.extend(n,Vl.prototype,e),W0.extend(n,e),n.create=function(i){return NC(oV(t,i))},n}var It=NC(aV);It.Axios=Vl;It.CanceledError=Wc();It.CancelToken=nV();It.isCancel=kC();It.VERSION=AC().version;It.toFormData=CC;It.AxiosError=Ps;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=rV();It.isAxiosError=iV();tM.exports=It;Lu.default=It;(function(t){t.exports=Lu})(eM);const gs=tw(Kd);var at={},lV={get exports(){return at},set exports(t){at=t}},uV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cV=uV,hV=cV;function DC(){}function OC(){}OC.resetWarningCache=DC;var fV=function(){function t(r,i,s,o,a,l){if(l!==hV){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OC,resetWarningCache:DC};return n.PropTypes=n,n};lV.exports=fV();class Vu extends _.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const n={get passive(){e=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){const n=this.props.getScrollParent&&this.props.getScrollParent();return n??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let n=window;this.props.useWindow===!1&&(n=e),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,n=window,r=this.getParentElement(e);let i;if(this.props.useWindow){const s=document.documentElement||document.body.parentNode||document.body,o=n.pageYOffset!==void 0?n.pageYOffset:s.scrollTop;this.props.isReverse?i=o:i=this.calculateOffset(e,o)}else this.props.isReverse?i=r.scrollTop:i=e.scrollHeight-r.scrollTop-r.clientHeight;i<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=r.scrollHeight,this.beforeScrollTop=r.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,n){return e?this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:n,element:r,hasMore:i,initialLoad:s,isReverse:o,loader:a,loadMore:l,pageStart:u,ref:c,threshold:h,useCapture:f,useWindow:d,getScrollParent:p,...y}=e;y.ref=g=>{this.scrollComponent=g,c&&c(g)};const S=[n];return i&&(a?o?S.unshift(a):S.push(a):this.defaultLoader&&(o?S.unshift(this.defaultLoader):S.push(this.defaultLoader))),Xt.createElement(r,y,S)}}nh(Vu,"propTypes",{children:at.node.isRequired,element:at.node,hasMore:at.bool,initialLoad:at.bool,isReverse:at.bool,loader:at.node,loadMore:at.func.isRequired,pageStart:at.number,ref:at.func,getScrollParent:at.func,threshold:at.number,useCapture:at.bool,useWindow:at.bool}),nh(Vu,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});var dV="production",Sg=typeof process>"u"||process.env===void 0?dV:"production",vn=function(t){return{isEnabled:function(e){return t.some(function(n){return!!e[n]})}}},Jo={measureLayout:vn(["layout","layoutId","drag"]),animation:vn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:vn(["exit"]),drag:vn(["drag","dragControls"]),focus:vn(["whileFocus"]),hover:vn(["whileHover","onHoverStart","onHoverEnd"]),tap:vn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:vn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:vn(["whileInView","onViewportEnter","onViewportLeave"])};function pV(t){for(var e in t)t[e]!==null&&(e==="projectionNodeConstructor"?Jo.projectionNodeConstructor=t[e]:Jo[e].Component=t[e])}var mV=function(){},$u=function(){},bC=_.createContext({strict:!1}),LC=Object.keys(Jo),gV=LC.length;function vV(t,e,n){var r=[],i=_.useContext(bC);if(!e)return null;Sg!=="production"&&n&&i.strict;for(var s=0;s<gV;s++){var o=LC[s],a=Jo[o],l=a.isEnabled,u=a.Component;l(t)&&u&&r.push(_.createElement(u,P({key:o},t,{visualElement:e})))}return r}var Tg=_.createContext({transformPagePoint:function(t){return t},isStatic:!1,reducedMotion:"never"}),Gc=_.createContext({});function yV(){return _.useContext(Gc).visualElement}var ba=_.createContext(null),Rs=typeof document<"u",Fu=Rs?_.useLayoutEffect:_.useEffect,Gd={current:null},MC=!1;function wV(){if(MC=!0,!!Rs)if(window.matchMedia){var t=window.matchMedia("(prefers-reduced-motion)"),e=function(){return Gd.current=t.matches};t.addListener(e),e()}else Gd.current=!1}function EV(){!MC&&wV();var t=Ie(_.useState(Gd.current),1),e=t[0];return e}function SV(){var t=EV(),e=_.useContext(Tg).reducedMotion;return e==="never"?!1:e==="always"?!0:t}function TV(t,e,n,r){var i=_.useContext(bC),s=yV(),o=_.useContext(ba),a=SV(),l=_.useRef(void 0);r||(r=i.renderer),!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:a}));var u=l.current;return Fu(function(){u==null||u.syncRender()}),_.useEffect(function(){var c;(c=u==null?void 0:u.animationState)===null||c===void 0||c.animateChanges()}),Fu(function(){return function(){return u==null?void 0:u.notifyUnmount()}},[]),u}function bi(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _V(t,e,n){return _.useCallback(function(r){var i;r&&((i=t.mount)===null||i===void 0||i.call(t,r)),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):bi(n)&&(n.current=r))},[e])}function VC(t){return Array.isArray(t)}function Gt(t){return typeof t=="string"||VC(t)}function CV(t){var e={};return t.forEachValue(function(n,r){return e[r]=n.get()}),e}function IV(t){var e={};return t.forEachValue(function(n,r){return e[r]=n.getVelocity()}),e}function $C(t,e,n,r,i){var s;return r===void 0&&(r={}),i===void 0&&(i={}),typeof e=="function"&&(e=e(n??t.custom,r,i)),typeof e=="string"&&(e=(s=t.variants)===null||s===void 0?void 0:s[e]),typeof e=="function"&&(e=e(n??t.custom,r,i)),e}function Qc(t,e,n){var r=t.getProps();return $C(r,e,n??r.custom,CV(t),IV(t))}function Xc(t){var e;return typeof((e=t.animate)===null||e===void 0?void 0:e.start)=="function"||Gt(t.initial)||Gt(t.animate)||Gt(t.whileHover)||Gt(t.whileDrag)||Gt(t.whileTap)||Gt(t.whileFocus)||Gt(t.exit)}function FC(t){return Boolean(Xc(t)||t.variants)}function kV(t,e){if(Xc(t)){var n=t.initial,r=t.animate;return{initial:n===!1||Gt(n)?n:void 0,animate:Gt(r)?r:void 0}}return t.inherit!==!1?e:{}}function xV(t){var e=kV(t,_.useContext(Gc)),n=e.initial,r=e.animate;return _.useMemo(function(){return{initial:n,animate:r}},[K0(n),K0(r)])}function K0(t){return Array.isArray(t)?t.join(" "):t}function La(t){var e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}var po={hasAnimatedSinceResize:!0,hasEverUpdated:!1},AV=1;function PV(){return La(function(){if(po.hasEverUpdated)return AV++})}var _g=_.createContext({}),UC=_.createContext({});function RV(t,e,n,r){var i,s=e.layoutId,o=e.layout,a=e.drag,l=e.dragConstraints,u=e.layoutScroll,c=_.useContext(UC);!r||!n||n!=null&&n.projection||(n.projection=new r(t,n.getLatestValues(),(i=n.parent)===null||i===void 0?void 0:i.projection),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:Boolean(a)||l&&bi(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:c,layoutScroll:u}))}var NV=function(t){NS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var n=this.props,r=n.visualElement,i=n.props;r&&r.setProps(i)},e.prototype.render=function(){return this.props.children},e}(Xt.Component);function DV(t){var e=t.preloadedFeatures,n=t.createVisualElement,r=t.projectionNodeConstructor,i=t.useRender,s=t.useVisualState,o=t.Component;e&&pV(e);function a(l,u){var c=OV(l);l=P(P({},l),{layoutId:c});var h=_.useContext(Tg),f=null,d=xV(l),p=h.isStatic?void 0:PV(),y=s(l,h.isStatic);return!h.isStatic&&Rs&&(d.visualElement=TV(o,y,P(P({},h),l),n),RV(p,l,d.visualElement,r||Jo.projectionNodeConstructor),f=vV(l,d.visualElement,e)),_.createElement(NV,{visualElement:d.visualElement,props:P(P({},h),l)},f,_.createElement(Gc.Provider,{value:d},i(o,l,p,_V(y,d.visualElement,u),y,h.isStatic,d.visualElement)))}return _.forwardRef(a)}function OV(t){var e,n=t.layoutId,r=(e=_.useContext(_g))===null||e===void 0?void 0:e.id;return r&&n!==void 0?r+"-"+n:n}function bV(t){function e(r,i){return i===void 0&&(i={}),DV(t(r,i))}if(typeof Proxy>"u")return e;var n=new Map;return new Proxy(e,{get:function(r,i){return n.has(i)||n.set(i,e(i)),n.get(i)}})}var LV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Cg(t){return typeof t!="string"||t.includes("-")?!1:!!(LV.indexOf(t)>-1||/[A-Z]/.test(t))}var Uu={};function MV(t){Object.assign(Uu,t)}var Qd=["","X","Y","Z"],VV=["translate","scale","rotate","skew"],Zo=["transformPerspective","x","y","z"];VV.forEach(function(t){return Qd.forEach(function(e){return Zo.push(t+e)})});function $V(t,e){return Zo.indexOf(t)-Zo.indexOf(e)}var FV=new Set(Zo);function Ma(t){return FV.has(t)}var UV=new Set(["originX","originY","originZ"]);function jC(t){return UV.has(t)}function BC(t,e){var n=e.layout,r=e.layoutId;return Ma(t)||jC(t)||(n||r!==void 0)&&(!!Uu[t]||t==="opacity")}var Ln=function(t){return Boolean(t!==null&&typeof t=="object"&&t.getVelocity)},jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function BV(t,e,n,r){var i=t.transform,s=t.transformKeys,o=e.enableHardwareAcceleration,a=o===void 0?!0:o,l=e.allowTransformNone,u=l===void 0?!0:l,c="";s.sort($V);for(var h=!1,f=s.length,d=0;d<f;d++){var p=s[d];c+="".concat(jV[p]||p,"(").concat(i[p],") "),p==="z"&&(h=!0)}return!h&&a?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):u&&n&&(c="none"),c}function zV(t){var e=t.originX,n=e===void 0?"50%":e,r=t.originY,i=r===void 0?"50%":r,s=t.originZ,o=s===void 0?0:s;return"".concat(n," ").concat(i," ").concat(o)}function zC(t){return t.startsWith("--")}var HV=function(t,e){return e&&typeof t=="number"?e.transform(t):t};const HC=(t,e)=>n=>Math.max(Math.min(n,e),t),mo=t=>t%1?Number(t.toFixed(5)):t,ea=/(-)?([\d]*\.?[\d])+/g,Xd=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,WV=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Va(t){return typeof t=="string"}const di={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},go=Object.assign(Object.assign({},di),{transform:HC(0,1)}),hl=Object.assign(Object.assign({},di),{default:1}),$a=t=>({test:e=>Va(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bn=$a("deg"),dn=$a("%"),U=$a("px"),KV=$a("vh"),qV=$a("vw"),q0=Object.assign(Object.assign({},dn),{parse:t=>dn.parse(t)/100,transform:t=>dn.transform(t*100)}),Ig=(t,e)=>n=>Boolean(Va(n)&&WV.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),WC=(t,e,n)=>r=>{if(!Va(r))return r;const[i,s,o,a]=r.match(ea);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Br={test:Ig("hsl","hue"),parse:WC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+dn.transform(mo(e))+", "+dn.transform(mo(n))+", "+mo(go.transform(r))+")"},GV=HC(0,255),uf=Object.assign(Object.assign({},di),{transform:t=>Math.round(GV(t))}),tr={test:Ig("rgb","red"),parse:WC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+uf.transform(t)+", "+uf.transform(e)+", "+uf.transform(n)+", "+mo(go.transform(r))+")"};function QV(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yd={test:Ig("#"),parse:QV,transform:tr.transform},lt={test:t=>tr.test(t)||Yd.test(t)||Br.test(t),parse:t=>tr.test(t)?tr.parse(t):Br.test(t)?Br.parse(t):Yd.parse(t),transform:t=>Va(t)?t:t.hasOwnProperty("red")?tr.transform(t):Br.transform(t)},KC="${c}",qC="${n}";function XV(t){var e,n,r,i;return isNaN(t)&&Va(t)&&((n=(e=t.match(ea))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(Xd))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function GC(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(Xd);r&&(n=r.length,t=t.replace(Xd,KC),e.push(...r.map(lt.parse)));const i=t.match(ea);return i&&(t=t.replace(ea,qC),e.push(...i.map(di.parse))),{values:e,numColors:n,tokenised:t}}function QC(t){return GC(t).values}function XC(t){const{values:e,numColors:n,tokenised:r}=GC(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?KC:qC,a<n?lt.transform(s[a]):mo(s[a]));return o}}const YV=t=>typeof t=="number"?0:t;function JV(t){const e=QC(t);return XC(t)(e.map(YV))}const Mn={test:XV,parse:QC,createTransformer:XC,getAnimatableNone:JV},ZV=new Set(["brightness","contrast","saturate","opacity"]);function e$(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ea)||[];if(!r)return t;const i=n.replace(r,"");let s=ZV.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const t$=/([a-z-]*)\(.*?\)/g,Jd=Object.assign(Object.assign({},Mn),{getAnimatableNone:t=>{const e=t.match(t$);return e?e.map(e$).join(" "):t}});var G0=P(P({},di),{transform:Math.round}),YC={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,size:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,rotate:Bn,rotateX:Bn,rotateY:Bn,rotateZ:Bn,scale:hl,scaleX:hl,scaleY:hl,scaleZ:hl,skew:Bn,skewX:Bn,skewY:Bn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:go,originX:q0,originY:q0,originZ:U,zIndex:G0,fillOpacity:go,strokeOpacity:go,numOctaves:G0};function kg(t,e,n,r){var i,s=t.style,o=t.vars,a=t.transform,l=t.transformKeys,u=t.transformOrigin;l.length=0;var c=!1,h=!1,f=!0;for(var d in e){var p=e[d];if(zC(d)){o[d]=p;continue}var y=YC[d],S=HV(p,y);if(Ma(d)){if(c=!0,a[d]=S,l.push(d),!f)continue;p!==((i=y.default)!==null&&i!==void 0?i:0)&&(f=!1)}else jC(d)?(u[d]=S,h=!0):s[d]=S}c?s.transform=BV(t,n,f,r):r?s.transform=r({},""):!e.transform&&s.transform&&(s.transform="none"),h&&(s.transformOrigin=zV(u))}var xg=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function JC(t,e,n){for(var r in e)!Ln(e[r])&&!BC(r,n)&&(t[r]=e[r])}function n$(t,e,n){var r=t.transformTemplate;return _.useMemo(function(){var i=xg();kg(i,e,{enableHardwareAcceleration:!n},r);var s=i.vars,o=i.style;return P(P({},s),o)},[e])}function r$(t,e,n){var r=t.style||{},i={};return JC(i,r,t),Object.assign(i,n$(t,e,n)),t.transformValues&&(i=t.transformValues(i)),i}function i$(t,e,n){var r={},i=r$(t,e,n);return Boolean(t.drag)&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":"pan-".concat(t.drag==="x"?"y":"x")),r.style=i,r}var s$=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function ju(t){return s$.has(t)}var ZC=function(t){return!ju(t)};function o$(t){t&&(ZC=function(e){return e.startsWith("on")?!ju(e):t(e)})}try{o$(require("@emotion/is-prop-valid").default)}catch{}function a$(t,e,n){var r={};for(var i in t)(ZC(i)||n===!0&&ju(i)||!e&&!ju(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Q0(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function l$(t,e,n){var r=Q0(e,t.x,t.width),i=Q0(n,t.y,t.height);return"".concat(r," ").concat(i)}var u$={offset:"stroke-dashoffset",array:"stroke-dasharray"},c$={offset:"strokeDashoffset",array:"strokeDasharray"};function h$(t,e,n,r,i){n===void 0&&(n=1),r===void 0&&(r=0),i===void 0&&(i=!0),t.pathLength=1;var s=i?u$:c$;t[s.offset]=U.transform(-r);var o=U.transform(e),a=U.transform(n);t[s.array]="".concat(o," ").concat(a)}function Ag(t,e,n,r){var i=e.attrX,s=e.attrY,o=e.originX,a=e.originY,l=e.pathLength,u=e.pathSpacing,c=u===void 0?1:u,h=e.pathOffset,f=h===void 0?0:h,d=gt(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);kg(t,d,n,r),t.attrs=t.style,t.style={};var p=t.attrs,y=t.style,S=t.dimensions;p.transform&&(S&&(y.transform=p.transform),delete p.transform),S&&(o!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=l$(S,o!==void 0?o:.5,a!==void 0?a:.5)),i!==void 0&&(p.x=i),s!==void 0&&(p.y=s),l!==void 0&&h$(p,l,c,f,!1)}var eI=function(){return P(P({},xg()),{attrs:{}})};function f$(t,e){var n=_.useMemo(function(){var i=eI();return Ag(i,e,{enableHardwareAcceleration:!1},t.transformTemplate),P(P({},i.attrs),{style:P({},i.style)})},[e]);if(t.style){var r={};JC(r,t.style,t),n.style=P(P({},r),n.style)}return n}function d$(t){t===void 0&&(t=!1);var e=function(n,r,i,s,o,a){var l=o.latestValues,u=Cg(n)?f$:i$,c=u(r,l,a),h=a$(r,typeof n=="string",t),f=P(P(P({},h),c),{ref:s});return i&&(f["data-projection-id"]=i),_.createElement(n,f)};return e}var p$=/([a-z])([A-Z])/g,m$="$1-$2",tI=function(t){return t.replace(p$,m$).toLowerCase()};function nI(t,e,n,r){var i=e.style,s=e.vars;Object.assign(t.style,i,r&&r.getProjectionStyles(n));for(var o in s)t.style.setProperty(o,s[o])}var rI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function iI(t,e,n,r){nI(t,e,void 0,r);for(var i in e.attrs)t.setAttribute(rI.has(i)?i:tI(i),e.attrs[i])}function Pg(t){var e=t.style,n={};for(var r in e)(Ln(e[r])||BC(r,t))&&(n[r]=e[r]);return n}function sI(t){var e=Pg(t);for(var n in t)if(Ln(t[n])){var r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[r]=t[n]}return e}function Rg(t){return typeof t=="object"&&typeof t.start=="function"}var ta=function(t){return Array.isArray(t)},g$=function(t){return Boolean(t&&typeof t=="object"&&t.mix&&t.toValue)},oI=function(t){return ta(t)?t[t.length-1]||0:t};function $l(t){var e=Ln(t)?t.get():t;return g$(e)?e.toValue():e}function X0(t,e,n,r){var i=t.scrapeMotionValuesFromProps,s=t.createRenderState,o=t.onMount,a={latestValues:v$(e,n,r,i),renderState:s()};return o&&(a.mount=function(l){return o(e,l,a)}),a}var aI=function(t){return function(e,n){var r=_.useContext(Gc),i=_.useContext(ba);return n?X0(t,e,r,i):La(function(){return X0(t,e,r,i)})}};function v$(t,e,n,r){var i={},s=(n==null?void 0:n.initial)===!1,o=r(t);for(var a in o)i[a]=$l(o[a]);var l=t.initial,u=t.animate,c=Xc(t),h=FC(t);e&&h&&!c&&t.inherit!==!1&&(l??(l=e.initial),u??(u=e.animate));var f=s||l===!1,d=f?u:l;if(d&&typeof d!="boolean"&&!Rg(d)){var p=Array.isArray(d)?d:[d];p.forEach(function(y){var S=$C(t,y);if(S){var g=S.transitionEnd;S.transition;var m=gt(S,["transitionEnd","transition"]);for(var v in m){var w=m[v];if(Array.isArray(w)){var E=f?w.length-1:0;w=w[E]}w!==null&&(i[v]=w)}for(var v in g)i[v]=g[v]}})}return i}var y$={useVisualState:aI({scrapeMotionValuesFromProps:sI,createRenderState:eI,onMount:function(t,e,n){var r=n.renderState,i=n.latestValues;try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}Ag(r,i,{enableHardwareAcceleration:!1},t.transformTemplate),iI(e,r)}})},w$={useVisualState:aI({scrapeMotionValuesFromProps:Pg,createRenderState:xg})};function E$(t,e,n,r,i){var s=e.forwardMotionProps,o=s===void 0?!1:s,a=Cg(t)?y$:w$;return P(P({},a),{preloadedFeatures:n,useRender:d$(o),createVisualElement:r,projectionNodeConstructor:i,Component:t})}var ce;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(ce||(ce={}));function Yc(t,e,n,r){return r===void 0&&(r={passive:!0}),t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n)}}function Zd(t,e,n,r){_.useEffect(function(){var i=t.current;if(n&&i)return Yc(i,e,n,r)},[t,e,n,r])}function S$(t){var e=t.whileFocus,n=t.visualElement,r=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(ce.Focus,!0)},i=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(ce.Focus,!1)};Zd(n,"focus",e?r:void 0),Zd(n,"blur",e?i:void 0)}function lI(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function uI(t){var e=!!t.touches;return e}function T$(t){return function(e){var n=e instanceof MouseEvent,r=!n||n&&e.button===0;r&&t(e)}}var _$={pageX:0,pageY:0};function C$(t,e){e===void 0&&(e="page");var n=t.touches[0]||t.changedTouches[0],r=n||_$;return{x:r[e+"X"],y:r[e+"Y"]}}function I$(t,e){return e===void 0&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function Ng(t,e){return e===void 0&&(e="page"),{point:uI(t)?C$(t,e):I$(t,e)}}var cI=function(t,e){e===void 0&&(e=!1);var n=function(r){return t(r,Ng(r))};return e?T$(n):n},k$=function(){return Rs&&window.onpointerdown===null},x$=function(){return Rs&&window.ontouchstart===null},A$=function(){return Rs&&window.onmousedown===null},P$={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},R$={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function hI(t){return k$()?t:x$()?R$[t]:A$()?P$[t]:t}function Ki(t,e,n,r){return Yc(t,hI(e),cI(n,e==="pointerdown"),r)}function Bu(t,e,n,r){return Zd(t,hI(e),n&&cI(n,e==="pointerdown"),r)}function fI(t){var e=null;return function(){var n=function(){e=null};return e===null?(e=t,n):!1}}var Y0=fI("dragHorizontal"),J0=fI("dragVertical");function dI(t){var e=!1;if(t==="y")e=J0();else if(t==="x")e=Y0();else{var n=Y0(),r=J0();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}function pI(){var t=dI(!0);return t?(t(),!1):!0}function Z0(t,e,n){return function(r,i){var s;!lI(r)||pI()||((s=t.animationState)===null||s===void 0||s.setActive(ce.Hover,e),n==null||n(r,i))}}function N$(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,i=t.visualElement;Bu(i,"pointerenter",e||r?Z0(i,!0,e):void 0,{passive:!e}),Bu(i,"pointerleave",n||r?Z0(i,!1,n):void 0,{passive:!n})}var mI=function(t,e){return e?t===e?!0:mI(t,e.parentElement):!1};function Dg(t){return _.useEffect(function(){return function(){return t()}},[])}const zu=(t,e,n)=>Math.min(Math.max(n,t),e),cf=.001,D$=.01,e1=10,O$=.05,b$=1;function L$({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;mV(t<=e1*1e3);let o=1-e;o=zu(O$,b$,o),t=zu(D$,e1,t/1e3),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,d=ep(u,o),p=Math.exp(-h);return cf-f/d*p},s=u=>{const h=u*o*t,f=h*n+n,d=Math.pow(o,2)*Math.pow(u,2)*t,p=Math.exp(-h),y=ep(Math.pow(u,2),o);return(-i(u)+cf>0?-1:1)*((f-d)*p)/y}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-cf+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=V$(i,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const M$=12;function V$(t,e,n){let r=n;for(let i=1;i<M$;i++)r=r-t(r)/e(r);return r}function ep(t,e){return t*Math.sqrt(1-e*e)}const $$=["duration","bounce"],F$=["stiffness","damping","mass"];function t1(t,e){return e.some(n=>t[n]!==void 0)}function U$(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!t1(t,F$)&&t1(t,$$)){const n=L$(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Og(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,s=gt(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=U$(s),d=n1,p=n1;function y(){const S=c?-(c/1e3):0,g=n-e,m=l/(2*Math.sqrt(a*u)),v=Math.sqrt(a/u)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-e)/100,.4)),m<1){const w=ep(v,m);d=E=>{const C=Math.exp(-m*v*E);return n-C*((S+m*v*g)/w*Math.sin(w*E)+g*Math.cos(w*E))},p=E=>{const C=Math.exp(-m*v*E);return m*v*C*(Math.sin(w*E)*(S+m*v*g)/w+g*Math.cos(w*E))-C*(Math.cos(w*E)*(S+m*v*g)-w*g*Math.sin(w*E))}}else if(m===1)d=w=>n-Math.exp(-v*w)*(g+(S+v*g)*w);else{const w=v*Math.sqrt(m*m-1);d=E=>{const C=Math.exp(-m*v*E),I=Math.min(w*E,300);return n-C*((S+m*v*g)*Math.sinh(I)+w*g*Math.cosh(I))/w}}}return y(),{next:S=>{const g=d(S);if(f)o.done=S>=h;else{const m=p(S)*1e3,v=Math.abs(m)<=r,w=Math.abs(n-g)<=i;o.done=v&&w}return o.value=o.done?n:g,o},flipTarget:()=>{c=-c,[e,n]=[n,e],y()}}}Og.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const n1=t=>0,na=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ce=(t,e,n)=>-n*t+n*e+t;function hf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=hf(l,a,t+1/3),s=hf(l,a,t),o=hf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const j$=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},B$=[Yd,tr,Br],i1=t=>B$.find(e=>e.test(t)),gI=(t,e)=>{let n=i1(t),r=i1(e),i=n.parse(t),s=r.parse(e);n===Br&&(i=r1(i),n=tr),r===Br&&(s=r1(s),r=tr);const o=Object.assign({},i);return a=>{for(const l in o)l!=="alpha"&&(o[l]=j$(i[l],s[l],a));return o.alpha=Ce(i.alpha,s.alpha,a),n.transform(o)}},tp=t=>typeof t=="number",z$=(t,e)=>n=>e(t(n)),Jc=(...t)=>t.reduce(z$);function vI(t,e){return tp(t)?n=>Ce(t,e,n):lt.test(t)?gI(t,e):wI(t,e)}const yI=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>vI(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},H$=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vI(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}};function s1(t){const e=Mn.parse(t),n=e.length;let r=0,i=0,s=0;for(let o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const wI=(t,e)=>{const n=Mn.createTransformer(e),r=s1(t),i=s1(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?Jc(yI(r.parsed,i.parsed),n):o=>`${o>0?e:t}`},W$=(t,e)=>n=>Ce(t,e,n);function K$(t){if(typeof t=="number")return W$;if(typeof t=="string")return lt.test(t)?gI:wI;if(Array.isArray(t))return yI;if(typeof t=="object")return H$}function q$(t,e,n){const r=[],i=n||K$(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Jc(l,a)}r.push(a)}return r}function G$([t,e],[n]){return r=>n(na(t,e,r))}function Q$(t,e){const n=t.length,r=n-1;return i=>{let s=0,o=!1;if(i<=t[0]?o=!0:i>=t[r]&&(s=r-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>i||l===r);l++);s=l-1}const a=na(t[s],t[s+1],i);return e[s](a)}}function EI(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;$u(s===e.length),$u(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=q$(e,r,i),a=s===2?G$(t,o):Q$(t,o);return n?l=>a(zu(t[0],t[s-1],l)):a}const Zc=t=>e=>1-t(1-e),bg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X$=t=>e=>Math.pow(e,t),SI=t=>e=>e*e*((t+1)*e-t),Y$=t=>{const e=SI(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},TI=1.525,J$=4/11,Z$=8/11,eF=9/10,Lg=t=>t,Mg=X$(2),tF=Zc(Mg),_I=bg(Mg),CI=t=>1-Math.sin(Math.acos(t)),Vg=Zc(CI),nF=bg(Vg),$g=SI(TI),rF=Zc($g),iF=bg($g),sF=Y$(TI),oF=4356/361,aF=35442/1805,lF=16061/1805,Hu=t=>{if(t===1||t===0)return t;const e=t*t;return t<J$?7.5625*e:t<Z$?9.075*e-9.9*t+3.4:t<eF?oF*e-aF*t+lF:10.8*t*t-20.52*t+10.72},uF=Zc(Hu),cF=t=>t<.5?.5*(1-Hu(1-t*2)):.5*Hu(t*2-1)+.5;function hF(t,e){return t.map(()=>e||_I).splice(0,t.length-1)}function fF(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function dF(t,e){return t.map(n=>n*e)}function Fl({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const s={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=dF(r&&r.length===o.length?r:fF(o),i);function l(){return EI(a,o,{ease:Array.isArray(n)?n:hF(o,n)})}let u=l();return{next:c=>(s.value=u(c),s.done=c>=i,s),flipTarget:()=>{o.reverse(),u=l()}}}function pF({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=s===void 0?l:s(l);return u!==l&&(a=u-e),{next:c=>{const h=-a*Math.exp(-c/r);return o.done=!(h>i||h<-i),o.value=o.done?u:u+h,o},flipTarget:()=>{}}}const o1={keyframes:Fl,spring:Og,decay:pF};function mF(t){if(Array.isArray(t.to))return Fl;if(o1[t.type])return o1[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Fl:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Og:Fl}const II=1/60*1e3,gF=typeof performance<"u"?()=>performance.now():()=>Date.now(),kI=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(gF()),II);function vF(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?e:n;return u&&o.add(l),f.indexOf(l)===-1&&(f.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const yF=40;let np=!0,ra=!1,rp=!1;const qi={delta:0,timestamp:0},Fa=["read","update","preRender","render","postRender"],eh=Fa.reduce((t,e)=>(t[e]=vF(()=>ra=!0),t),{}),en=Fa.reduce((t,e)=>{const n=eh[e];return t[e]=(r,i=!1,s=!1)=>(ra||EF(),n.schedule(r,i,s)),t},{}),vs=Fa.reduce((t,e)=>(t[e]=eh[e].cancel,t),{}),ff=Fa.reduce((t,e)=>(t[e]=()=>eh[e].process(qi),t),{}),wF=t=>eh[t].process(qi),xI=t=>{ra=!1,qi.delta=np?II:Math.max(Math.min(t-qi.timestamp,yF),1),qi.timestamp=t,rp=!0,Fa.forEach(wF),rp=!1,ra&&(np=!1,kI(xI))},EF=()=>{ra=!0,np=!0,rp||kI(xI)},Wu=()=>qi;function AI(t,e,n=0){return t-e-n}function SF(t,e,n=0,r=!0){return r?AI(e+-t,e,n):e-(t-e)+n}function TF(t,e,n,r){return r?t>=e+n:t<=-n}const _F=t=>{const e=({delta:n})=>t(n);return{start:()=>en.update(e,!0),stop:()=>vs.update(e)}};function PI(t){var e,n,{from:r,autoplay:i=!0,driver:s=_F,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:h,onComplete:f,onRepeat:d,onUpdate:p}=t,y=gt(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=y,g,m=0,v=y.duration,w,E=!1,C=!0,I;const T=mF(y);!((n=(e=T).needsInterpolation)===null||n===void 0)&&n.call(e,r,S)&&(I=EI([0,100],[r,S],{clamp:!1}),r=0,S=100);const k=T(Object.assign(Object.assign({},y),{from:r,to:S}));function N(){m++,l==="reverse"?(C=m%2===0,o=SF(o,v,u,C)):(o=AI(o,v,u),l==="mirror"&&k.flipTarget()),E=!1,d&&d()}function W(){g.stop(),f&&f()}function z(oe){if(C||(oe=-oe),o+=oe,!E){const me=k.next(Math.max(0,o));w=me.value,I&&(w=I(w)),E=C?me.done:o<=0}p==null||p(w),E&&(m===0&&(v??(v=o)),m<a?TF(o,v,u,C)&&N():W())}function X(){c==null||c(),g=s(z),g.start()}return i&&X(),{stop:()=>{h==null||h(),g.stop()}}}function RI(t,e){return e?t*(1e3/e):0}function CF({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:f,onStop:d}){let p;function y(v){return n!==void 0&&v<n||r!==void 0&&v>r}function S(v){return n===void 0?r:r===void 0||Math.abs(n-v)<Math.abs(r-v)?n:r}function g(v){p==null||p.stop(),p=PI(Object.assign(Object.assign({},v),{driver:c,onUpdate:w=>{var E;h==null||h(w),(E=v.onUpdate)===null||E===void 0||E.call(v,w)},onComplete:f,onStop:d}))}function m(v){g(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},v))}if(y(t))m({from:t,velocity:e,to:S(t)});else{let v=i*e+t;typeof u<"u"&&(v=u(v));const w=S(v),E=w===n?-1:1;let C,I;const T=k=>{C=I,I=k,e=RI(k-C,Wu().delta),(E===1&&k>w||E===-1&&k<w)&&m({from:k,to:w,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:y(v)?T:void 0})}return{stop:()=>p==null?void 0:p.stop()}}const ip=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),a1=t=>ip(t)&&t.hasOwnProperty("z"),fl=(t,e)=>Math.abs(t-e);function NI(t,e){if(tp(t)&&tp(e))return fl(t,e);if(ip(t)&&ip(e)){const n=fl(t.x,e.x),r=fl(t.y,e.y),i=a1(t)&&a1(e)?fl(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}const DI=(t,e)=>1-3*e+3*t,OI=(t,e)=>3*e-6*t,bI=t=>3*t,Ku=(t,e,n)=>((DI(e,n)*t+OI(e,n))*t+bI(e))*t,LI=(t,e,n)=>3*DI(e,n)*t*t+2*OI(e,n)*t+bI(e),IF=1e-7,kF=10;function xF(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ku(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>IF&&++a<kF);return o}const AF=8,PF=.001;function RF(t,e,n,r){for(let i=0;i<AF;++i){const s=LI(e,n,r);if(s===0)return e;const o=Ku(e,n,r)-t;e-=o/s}return e}const Ul=11,dl=1/(Ul-1);function NF(t,e,n,r){if(t===e&&n===r)return Lg;const i=new Float32Array(Ul);for(let o=0;o<Ul;++o)i[o]=Ku(o*dl,t,n);function s(o){let a=0,l=1;const u=Ul-1;for(;l!==u&&i[l]<=o;++l)a+=dl;--l;const c=(o-i[l])/(i[l+1]-i[l]),h=a+c*dl,f=LI(h,t,n);return f>=PF?RF(o,h,t,n):f===0?h:xF(o,a,a+dl,t,n)}return o=>o===0||o===1?o:Ku(s(o),e,r)}function DF(t){var e=t.onTap,n=t.onTapStart,r=t.onTapCancel,i=t.whileTap,s=t.visualElement,o=e||n||r||i,a=_.useRef(!1),l=_.useRef(null),u={passive:!(n||e||r||p)};function c(){var y;(y=l.current)===null||y===void 0||y.call(l),l.current=null}function h(){var y;return c(),a.current=!1,(y=s.animationState)===null||y===void 0||y.setActive(ce.Tap,!1),!pI()}function f(y,S){h()&&(mI(s.getInstance(),y.target)?e==null||e(y,S):r==null||r(y,S))}function d(y,S){h()&&(r==null||r(y,S))}function p(y,S){var g;c(),!a.current&&(a.current=!0,l.current=Jc(Ki(window,"pointerup",f,u),Ki(window,"pointercancel",d,u)),(g=s.animationState)===null||g===void 0||g.setActive(ce.Tap,!0),n==null||n(y,S))}Bu(s,"pointerdown",o?p:void 0,u),Dg(c)}var l1=new Set;function OF(t,e,n){t||l1.has(e)||(console.warn(e),n&&console.warn(n),l1.add(e))}var sp=new WeakMap,df=new WeakMap,bF=function(t){var e;(e=sp.get(t.target))===null||e===void 0||e(t)},LF=function(t){t.forEach(bF)};function MF(t){var e=t.root,n=gt(t,["root"]),r=e||document;df.has(r)||df.set(r,{});var i=df.get(r),s=JSON.stringify(n);return i[s]||(i[s]=new IntersectionObserver(LF,P({root:e},n))),i[s]}function VF(t,e,n){var r=MF(e);return sp.set(t,n),r.observe(t),function(){sp.delete(t),r.unobserve(t)}}function $F(t){var e=t.visualElement,n=t.whileInView,r=t.onViewportEnter,i=t.onViewportLeave,s=t.viewport,o=s===void 0?{}:s,a=_.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(n||r||i);o.once&&a.current.hasEnteredView&&(l=!1);var u=typeof IntersectionObserver>"u"?jF:UF;u(l,a.current,e,o)}var FF={some:0,all:1};function UF(t,e,n,r){var i=r.root,s=r.margin,o=r.amount,a=o===void 0?"some":o,l=r.once;_.useEffect(function(){if(t){var u={root:i==null?void 0:i.current,rootMargin:s,threshold:typeof a=="number"?a:FF[a]},c=function(h){var f,d=h.isIntersecting;if(e.isInView!==d&&(e.isInView=d,!(l&&!d&&e.hasEnteredView))){d&&(e.hasEnteredView=!0),(f=n.animationState)===null||f===void 0||f.setActive(ce.InView,d);var p=n.getProps(),y=d?p.onViewportEnter:p.onViewportLeave;y==null||y(h)}};return VF(n.getInstance(),u,c)}},[t,i,s,a])}function jF(t,e,n,r){var i=r.fallback,s=i===void 0?!0:i;_.useEffect(function(){!t||!s||(Sg!=="production"&&OF(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var o;e.hasEnteredView=!0;var a=n.getProps().onViewportEnter;a==null||a(null),(o=n.animationState)===null||o===void 0||o.setActive(ce.InView,!0)}))},[t])}var nr=function(t){return function(e){return t(e),null}},BF={inView:nr($F),tap:nr(DF),focus:nr(S$),hover:nr(N$)},zF=0,HF=function(){return zF++},MI=function(){return La(HF)};function VI(){var t=_.useContext(ba);if(t===null)return[!0,null];var e=t.isPresent,n=t.onExitComplete,r=t.register,i=MI();_.useEffect(function(){return r(i)},[]);var s=function(){return n==null?void 0:n(i)};return!e&&n?[!1,s]:[!0]}function $I(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var qu=function(t){return t*1e3},WF={linear:Lg,easeIn:Mg,easeInOut:_I,easeOut:tF,circIn:CI,circInOut:nF,circOut:Vg,backIn:$g,backInOut:iF,backOut:rF,anticipate:sF,bounceIn:uF,bounceInOut:cF,bounceOut:Hu},u1=function(t){if(Array.isArray(t)){$u(t.length===4);var e=Ie(t,4),n=e[0],r=e[1],i=e[2],s=e[3];return NF(n,r,i,s)}else if(typeof t=="string")return WF[t];return t},KF=function(t){return Array.isArray(t)&&typeof t[0]!="number"},c1=function(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Mn.test(e)&&!e.startsWith("url("))},Pr=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},pl=function(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}},pf=function(){return{type:"keyframes",ease:"linear",duration:.3}},qF=function(t){return{type:"keyframes",duration:.8,values:t}},h1={x:Pr,y:Pr,z:Pr,rotate:Pr,rotateX:Pr,rotateY:Pr,rotateZ:Pr,scaleX:pl,scaleY:pl,scale:pl,opacity:pf,backgroundColor:pf,color:pf,default:pl},GF=function(t,e){var n;return ta(e)?n=qF:n=h1[t]||h1.default,P({to:e},n(e))},QF=P(P({},YC),{color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:Jd,WebkitFilter:Jd}),Fg=function(t){return QF[t]};function Ug(t,e){var n,r=Fg(t);return r!==Jd&&(r=Mn),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}var XF={current:!1};function YF(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=gt(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function JF(t){var e=t.ease,n=t.times,r=t.yoyo,i=t.flip,s=t.loop,o=gt(t,["ease","times","yoyo","flip","loop"]),a=P({},o);return n&&(a.offset=n),o.duration&&(a.duration=qu(o.duration)),o.repeatDelay&&(a.repeatDelay=qu(o.repeatDelay)),e&&(a.ease=KF(e)?e.map(u1):u1(e)),o.type==="tween"&&(a.type="keyframes"),(r||s||i)&&(r?a.repeatType="reverse":s?a.repeatType="loop":i&&(a.repeatType="mirror"),a.repeat=s||r||i||o.repeat),o.type!=="spring"&&(a.type="keyframes"),a}function ZF(t,e){var n,r,i=jg(t,e)||{};return(r=(n=i.delay)!==null&&n!==void 0?n:t.delay)!==null&&r!==void 0?r:0}function eU(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=Zt([],Ie(t.to),!1),t.to[0]=t.from),t}function tU(t,e,n){var r;return Array.isArray(e.to)&&((r=t.duration)!==null&&r!==void 0||(t.duration=.8)),eU(e),YF(t)||(t=P(P({},t),GF(n,e.to))),P(P({},e),JF(t))}function nU(t,e,n,r,i){var s,o=jg(r,t),a=(s=o.from)!==null&&s!==void 0?s:e.get(),l=c1(t,n);a==="none"&&l&&typeof n=="string"?a=Ug(t,n):f1(a)&&typeof n=="string"?a=d1(n):!Array.isArray(n)&&f1(n)&&typeof a=="string"&&(n=d1(a));var u=c1(t,a);function c(){var f={from:a,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:function(d){return e.set(d)}};return o.type==="inertia"||o.type==="decay"?CF(P(P({},f),o)):PI(P(P({},tU(o,f,t)),{onUpdate:function(d){var p;f.onUpdate(d),(p=o.onUpdate)===null||p===void 0||p.call(o,d)},onComplete:function(){var d;f.onComplete(),(d=o.onComplete)===null||d===void 0||d.call(o)}}))}function h(){var f,d,p=oI(n);return e.set(p),i(),(f=o==null?void 0:o.onUpdate)===null||f===void 0||f.call(o,p),(d=o==null?void 0:o.onComplete)===null||d===void 0||d.call(o),{stop:function(){}}}return!u||!l||o.type===!1?h:c}function f1(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function d1(t){return typeof t=="number"?0:Ug("",t)}function jg(t,e){return t[e]||t.default||t}function Bg(t,e,n,r){return r===void 0&&(r={}),XF.current&&(r={type:!1}),e.start(function(i){var s,o,a=nU(t,e,n,r,i),l=ZF(r,t),u=function(){return o=a()};return l?s=window.setTimeout(u,qu(l)):u(),function(){clearTimeout(s),o==null||o.stop()}})}var rU=function(t){return/^\-?\d*\.?\d+$/.test(t)},iU=function(t){return/^0[^.\s]+$/.test(t)};function zg(t,e){t.indexOf(e)===-1&&t.push(e)}function Hg(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var vo=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(e){var n=this;return zg(this.subscriptions,e),function(){return Hg(n.subscriptions,e)}},t.prototype.notify=function(e,n,r){var i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(var s=0;s<i;s++){var o=this.subscriptions[s];o&&o(e,n,r)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),sU=function(t){return!isNaN(parseFloat(t))},oU=function(){function t(e){var n=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new vo,this.velocityUpdateSubscribers=new vo,this.renderSubscribers=new vo,this.canTrackVelocity=!1,this.updateAndNotify=function(r,i){i===void 0&&(i=!0),n.prev=n.current,n.current=r;var s=Wu(),o=s.delta,a=s.timestamp;n.lastUpdated!==a&&(n.timeDelta=o,n.lastUpdated=a,en.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),i&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return en.postRender(n.velocityCheck)},this.velocityCheck=function(r){var i=r.timestamp;i!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sU(this.current)}return t.prototype.onChange=function(e){return this.updateSubscribers.add(e)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},t.prototype.attach=function(e){this.passiveEffect=e},t.prototype.set=function(e,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?RI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(e){var n=this;return this.stop(),new Promise(function(r){n.hasAnimated=!0,n.stopAnimation=e(r)}).then(function(){return n.clearAnimation()})},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function ys(t){return new oU(t)}var FI=function(t){return function(e){return e.test(t)}},aU={test:function(t){return t==="auto"},parse:function(t){return t}},UI=[di,U,dn,Bn,qV,KV,aU],Us=function(t){return UI.find(FI(t))},lU=Zt(Zt([],Ie(UI),!1),[lt,Mn],!1),uU=function(t){return lU.find(FI(t))};function cU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ys(n))}function hU(t,e){var n=Qc(t,e),r=n?t.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,s=i===void 0?{}:i;r.transition;var o=gt(r,["transitionEnd","transition"]);o=P(P({},o),s);for(var a in o){var l=oI(o[a]);cU(t,a,l)}}function fU(t,e,n){var r,i,s,o,a=Object.keys(e).filter(function(d){return!t.hasValue(d)}),l=a.length;if(l)for(var u=0;u<l;u++){var c=a[u],h=e[c],f=null;Array.isArray(h)&&(f=h[0]),f===null&&(f=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),f!=null&&(typeof f=="string"&&(rU(f)||iU(f))?f=parseFloat(f):!uU(f)&&Mn.test(h)&&(f=Ug(c,h)),t.addValue(c,ys(f)),(s=(o=n)[c])!==null&&s!==void 0||(o[c]=f),t.setBaseTarget(c,f))}}function dU(t,e){if(e){var n=e[t]||e.default||e;return n.from}}function pU(t,e,n){var r,i,s={};for(var o in t)s[o]=(r=dU(o,e))!==null&&r!==void 0?r:(i=n.getValue(o))===null||i===void 0?void 0:i.get();return s}function mU(t,e,n){n===void 0&&(n={}),t.notifyAnimationStart(e);var r;if(Array.isArray(e)){var i=e.map(function(o){return op(t,o,n)});r=Promise.all(i)}else if(typeof e=="string")r=op(t,e,n);else{var s=typeof e=="function"?Qc(t,e,n.custom):e;r=jI(t,s,n)}return r.then(function(){return t.notifyAnimationComplete(e)})}function op(t,e,n){var r;n===void 0&&(n={});var i=Qc(t,e,n.custom),s=(i||{}).transition,o=s===void 0?t.getDefaultTransition()||{}:s;n.transitionOverride&&(o=n.transitionOverride);var a=i?function(){return jI(t,i,n)}:function(){return Promise.resolve()},l=!((r=t.variantChildren)===null||r===void 0)&&r.size?function(d){d===void 0&&(d=0);var p=o.delayChildren,y=p===void 0?0:p,S=o.staggerChildren,g=o.staggerDirection;return gU(t,e,y+d,S,g,n)}:function(){return Promise.resolve()},u=o.when;if(u){var c=Ie(u==="beforeChildren"?[a,l]:[l,a],2),h=c[0],f=c[1];return h().then(f)}else return Promise.all([a(),l(n.delay)])}function jI(t,e,n){var r,i=n===void 0?{}:n,s=i.delay,o=s===void 0?0:s,a=i.transitionOverride,l=i.type,u=t.makeTargetAnimatable(e),c=u.transition,h=c===void 0?t.getDefaultTransition():c,f=u.transitionEnd,d=gt(u,["transition","transitionEnd"]);a&&(h=a);var p=[],y=l&&((r=t.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var S in d){var g=t.getValue(S),m=d[S];if(!(!g||m===void 0||y&&yU(y,S))){var v=P({delay:o},h);t.shouldReduceMotion&&Ma(S)&&(v=P(P({},v),{type:!1,delay:0}));var w=Bg(S,g,m,v);p.push(w)}}return Promise.all(p).then(function(){f&&hU(t,f)})}function gU(t,e,n,r,i,s){n===void 0&&(n=0),r===void 0&&(r=0),i===void 0&&(i=1);var o=[],a=(t.variantChildren.size-1)*r,l=i===1?function(u){return u===void 0&&(u=0),u*r}:function(u){return u===void 0&&(u=0),a-u*r};return Array.from(t.variantChildren).sort(vU).forEach(function(u,c){o.push(op(u,e,P(P({},s),{delay:n+l(c)})).then(function(){return u.notifyAnimationComplete(e)}))}),Promise.all(o)}function vU(t,e){return t.sortNodePosition(e)}function yU(t,e){var n=t.protectedKeys,r=t.needsAnimating,i=n.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,i}var Wg=[ce.Animate,ce.InView,ce.Focus,ce.Hover,ce.Tap,ce.Drag,ce.Exit],wU=Zt([],Ie(Wg),!1).reverse(),EU=Wg.length;function SU(t){return function(e){return Promise.all(e.map(function(n){var r=n.animation,i=n.options;return mU(t,r,i)}))}}function TU(t){var e=SU(t),n=CU(),r={},i=!0,s=function(c,h){var f=Qc(t,h);if(f){f.transition;var d=f.transitionEnd,p=gt(f,["transition","transitionEnd"]);c=P(P(P({},c),p),d)}return c};function o(c){return r[c]!==void 0}function a(c){e=c(t)}function l(c,h){for(var f,d=t.getProps(),p=t.getVariantContext(!0)||{},y=[],S=new Set,g={},m=1/0,v=function(I){var T=wU[I],k=n[T],N=(f=d[T])!==null&&f!==void 0?f:p[T],W=Gt(N),z=T===h?k.isActive:null;z===!1&&(m=I);var X=N===p[T]&&N!==d[T]&&W;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),k.protectedKeys=P({},g),!k.isActive&&z===null||!N&&!k.prevProp||Rg(N)||typeof N=="boolean")return"continue";var oe=_U(k.prevProp,N),me=oe||T===h&&k.isActive&&!X&&W||I>m&&W,Be=Array.isArray(N)?N:[N],Ze=Be.reduce(s,{});z===!1&&(Ze={});var b=k.prevResolvedValues,j=b===void 0?{}:b,K=P(P({},j),Ze),le=function($){me=!0,S.delete($),k.needsAnimating[$]=!0};for(var ne in K){var Z=Ze[ne],O=j[ne];g.hasOwnProperty(ne)||(Z!==O?ta(Z)&&ta(O)?!$I(Z,O)||oe?le(ne):k.protectedKeys[ne]=!0:Z!==void 0?le(ne):S.add(ne):Z!==void 0&&S.has(ne)?le(ne):k.protectedKeys[ne]=!0)}k.prevProp=N,k.prevResolvedValues=Ze,k.isActive&&(g=P(P({},g),Ze)),i&&t.blockInitialAnimation&&(me=!1),me&&!X&&y.push.apply(y,Zt([],Ie(Be.map(function($){return{animation:$,options:P({type:T},c)}})),!1))},w=0;w<EU;w++)v(w);if(r=P({},g),S.size){var E={};S.forEach(function(I){var T=t.getBaseTarget(I);T!==void 0&&(E[I]=T)}),y.push({animation:E})}var C=Boolean(y.length);return i&&d.initial===!1&&!t.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(y):Promise.resolve()}function u(c,h,f){var d;if(n[c].isActive===h)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(function(S){var g;return(g=S.animationState)===null||g===void 0?void 0:g.setActive(c,h)}),n[c].isActive=h;var p=l(f,c);for(var y in n)n[y].protectedKeys={};return p}return{isAnimated:o,animateChanges:l,setActive:u,setAnimateFunction:a,getState:function(){return n}}}function _U(t,e){return typeof e=="string"?e!==t:VC(e)?!$I(e,t):!1}function Rr(t){return t===void 0&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CU(){var t;return t={},t[ce.Animate]=Rr(!0),t[ce.InView]=Rr(),t[ce.Hover]=Rr(),t[ce.Tap]=Rr(),t[ce.Drag]=Rr(),t[ce.Focus]=Rr(),t[ce.Exit]=Rr(),t}var IU={animation:nr(function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=TU(e)),Rg(n)&&_.useEffect(function(){return n.subscribe(e)},[n])}),exit:nr(function(t){var e=t.custom,n=t.visualElement,r=Ie(VI(),2),i=r[0],s=r[1],o=_.useContext(ba);_.useEffect(function(){var a,l;n.isPresent=i;var u=(a=n.animationState)===null||a===void 0?void 0:a.setActive(ce.Exit,!i,{custom:(l=o==null?void 0:o.custom)!==null&&l!==void 0?l:e});!i&&(u==null||u.then(s))},[i])})},BI=function(){function t(e,n,r){var i=this,s=r===void 0?{}:r,o=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(i.lastMoveEvent&&i.lastMoveEventInfo){var f=gf(i.lastMoveEventInfo,i.history),d=i.startEvent!==null,p=NI(f.offset,{x:0,y:0})>=3;if(!(!d&&!p)){var y=f.point,S=Wu().timestamp;i.history.push(P(P({},y),{timestamp:S}));var g=i.handlers,m=g.onStart,v=g.onMove;d||(m&&m(i.lastMoveEvent,f),i.startEvent=i.lastMoveEvent),v&&v(i.lastMoveEvent,f)}}},this.handlePointerMove=function(f,d){if(i.lastMoveEvent=f,i.lastMoveEventInfo=mf(d,i.transformPagePoint),lI(f)&&f.buttons===0){i.handlePointerUp(f,d);return}en.update(i.updatePoint,!0)},this.handlePointerUp=function(f,d){i.end();var p=i.handlers,y=p.onEnd,S=p.onSessionEnd,g=gf(mf(d,i.transformPagePoint),i.history);i.startEvent&&y&&y(f,g),S&&S(f,g)},!(uI(e)&&e.touches.length>1)){this.handlers=n,this.transformPagePoint=o;var a=Ng(e),l=mf(a,this.transformPagePoint),u=l.point,c=Wu().timestamp;this.history=[P(P({},u),{timestamp:c})];var h=n.onSessionStart;h&&h(e,gf(l,this.history)),this.removeListeners=Jc(Ki(window,"pointermove",this.handlePointerMove),Ki(window,"pointerup",this.handlePointerUp),Ki(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(e){this.handlers=e},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),vs.update(this.updatePoint)},t}();function mf(t,e){return e?{point:e(t.point)}:t}function p1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gf(t,e){var n=t.point;return{point:n,delta:p1(n,zI(e)),offset:p1(n,kU(e)),velocity:xU(e,.1)}}function kU(t){return t[0]}function zI(t){return t[t.length-1]}function xU(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,r=null,i=zI(t);n>=0&&(r=t[n],!(i.timestamp-r.timestamp>qu(e)));)n--;if(!r)return{x:0,y:0};var s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};var o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Vn(t){return t.max-t.min}function m1(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=.01),NI(t,e)<n}function g1(t,e,n,r){r===void 0&&(r=.5),t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=Vn(n)/Vn(e),(m1(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(m1(t.translate)||isNaN(t.translate))&&(t.translate=0)}function yo(t,e,n,r){g1(t.x,e.x,n.x,r==null?void 0:r.originX),g1(t.y,e.y,n.y,r==null?void 0:r.originY)}function v1(t,e,n){t.min=n.min+e.min,t.max=t.min+Vn(e)}function AU(t,e,n){v1(t.x,e.x,n.x),v1(t.y,e.y,n.y)}function y1(t,e,n){t.min=e.min-n.min,t.max=t.min+Vn(e)}function wo(t,e,n){y1(t.x,e.x,n.x),y1(t.y,e.y,n.y)}function PU(t,e,n){var r=e.min,i=e.max;return r!==void 0&&t<r?t=n?Ce(r,t,n.min):Math.max(t,r):i!==void 0&&t>i&&(t=n?Ce(i,t,n.max):Math.min(t,i)),t}function w1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RU(t,e){var n=e.top,r=e.left,i=e.bottom,s=e.right;return{x:w1(t.x,r,s),y:w1(t.y,n,i)}}function E1(t,e){var n,r=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&(n=Ie([i,r],2),r=n[0],i=n[1]),{min:r,max:i}}function NU(t,e){return{x:E1(t.x,e.x),y:E1(t.y,e.y)}}function DU(t,e){var n=.5,r=Vn(t),i=Vn(e);return i>r?n=na(e.min,e.max-r,t.min):r>i&&(n=na(t.min,t.max-i,e.min)),zu(0,1,n)}function OU(t,e){var n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}var ap=.35;function bU(t){return t===void 0&&(t=ap),t===!1?t=0:t===!0&&(t=ap),{x:S1(t,"left","right"),y:S1(t,"top","bottom")}}function S1(t,e,n){return{min:T1(t,e),max:T1(t,n)}}function T1(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}var _1=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Eo=function(){return{x:_1(),y:_1()}},C1=function(){return{min:0,max:0}},nt=function(){return{x:C1(),y:C1()}};function on(t){return[t("x"),t("y")]}function HI(t){var e=t.top,n=t.left,r=t.right,i=t.bottom;return{x:{min:n,max:r},y:{min:e,max:i}}}function LU(t){var e=t.x,n=t.y;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function MU(t,e){if(!e)return t;var n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function vf(t){return t===void 0||t===1}function WI(t){var e=t.scale,n=t.scaleX,r=t.scaleY;return!vf(e)||!vf(n)||!vf(r)}function zn(t){return WI(t)||I1(t.x)||I1(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function I1(t){return t&&t!=="0%"}function Gu(t,e,n){var r=t-n,i=e*r;return n+i}function k1(t,e,n,r,i){return i!==void 0&&(t=Gu(t,i,r)),Gu(t,n,r)+e}function lp(t,e,n,r,i){e===void 0&&(e=0),n===void 0&&(n=1),t.min=k1(t.min,e,n,r,i),t.max=k1(t.max,e,n,r,i)}function KI(t,e){var n=e.x,r=e.y;lp(t.x,n.translate,n.scale,n.originPoint),lp(t.y,r.translate,r.scale,r.originPoint)}function VU(t,e,n,r){var i,s;r===void 0&&(r=!1);var o=n.length;if(o){e.x=e.y=1;for(var a,l,u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Li(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,KI(t,l)),r&&zn(a.latestValues)&&Li(t,a.latestValues))}}function qn(t,e){t.min=t.min+e,t.max=t.max+e}function x1(t,e,n){var r=Ie(n,3),i=r[0],s=r[1],o=r[2],a=e[o]!==void 0?e[o]:.5,l=Ce(t.min,t.max,a);lp(t,e[i],e[s],l,e.scale)}var $U=["x","scaleX","originX"],FU=["y","scaleY","originY"];function Li(t,e){x1(t.x,e,$U),x1(t.y,e,FU)}function qI(t,e){return HI(MU(t.getBoundingClientRect(),e))}function UU(t,e,n){var r=qI(t,n),i=e.scroll;return i&&(qn(r.x,i.x),qn(r.y,i.y)),r}var jU=new WeakMap,BU=function(){function t(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.visualElement=e}return t.prototype.start=function(e,n){var r=this,i=n===void 0?{}:n,s=i.snapToCursor,o=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var a=function(h){r.stopAnimation(),o&&r.snapToCursor(Ng(h,"page").point)},l=function(h,f){var d,p=r.getProps(),y=p.drag,S=p.dragPropagation,g=p.onDragStart;y&&!S&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=dI(y),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),on(function(m){var v,w,E=r.getAxisMotionValue(m).get()||0;if(dn.test(E)){var C=(w=(v=r.visualElement.projection)===null||v===void 0?void 0:v.layout)===null||w===void 0?void 0:w.actual[m];if(C){var I=Vn(C);E=I*(parseFloat(E)/100)}}r.originPoint[m]=E}),g==null||g(h,f),(d=r.visualElement.animationState)===null||d===void 0||d.setActive(ce.Drag,!0))},u=function(h,f){var d=r.getProps(),p=d.dragPropagation,y=d.dragDirectionLock,S=d.onDirectionLock,g=d.onDrag;if(!(!p&&!r.openGlobalLock)){var m=f.offset;if(y&&r.currentDirection===null){r.currentDirection=zU(m),r.currentDirection!==null&&(S==null||S(r.currentDirection));return}r.updateAxis("x",f.point,m),r.updateAxis("y",f.point,m),r.visualElement.syncRender(),g==null||g(h,f)}},c=function(h,f){return r.stop(h,f)};this.panSession=new BI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:c},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(e,n){var r=this.isDragging;if(this.cancel(),!!r){var i=n.velocity;this.startAnimation(i);var s=this.getProps().onDragEnd;s==null||s(e,n)}},t.prototype.cancel=function(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(ce.Drag,!1)},t.prototype.updateAxis=function(e,n,r){var i=this.getProps().drag;if(!(!r||!ml(e,i,this.currentDirection))){var s=this.getAxisMotionValue(e),o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=PU(o,this.constraints[e],this.elastic[e])),s.set(o)}},t.prototype.resolveConstraints=function(){var e=this,n=this.getProps(),r=n.dragConstraints,i=n.dragElastic,s=(this.visualElement.projection||{}).layout,o=this.constraints;r&&bi(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=RU(s.actual,r):this.constraints=!1,this.elastic=bU(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&on(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=OU(s.actual[a],e.constraints[a]))})},t.prototype.resolveRefConstraints=function(){var e=this.getProps(),n=e.dragConstraints,r=e.onMeasureDragConstraints;if(!n||!bi(n))return!1;var i=n.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var o=UU(i,s.root,this.visualElement.getTransformPagePoint()),a=NU(s.layout.actual,o);if(r){var l=r(LU(a));this.hasMutatedConstraints=!!l,l&&(a=HI(l))}return a},t.prototype.startAnimation=function(e){var n=this,r=this.getProps(),i=r.drag,s=r.dragMomentum,o=r.dragElastic,a=r.dragTransition,l=r.dragSnapToOrigin,u=r.onDragTransitionEnd,c=this.constraints||{},h=on(function(f){var d;if(ml(f,i,n.currentDirection)){var p=(d=c==null?void 0:c[f])!==null&&d!==void 0?d:{};l&&(p={min:0,max:0});var y=o?200:1e6,S=o?40:1e7,g=P(P({type:"inertia",velocity:s?e[f]:0,bounceStiffness:y,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10},a),p);return n.startAxisValueAnimation(f,g)}});return Promise.all(h).then(u)},t.prototype.startAxisValueAnimation=function(e,n){var r=this.getAxisMotionValue(e);return Bg(e,r,0,n)},t.prototype.stopAnimation=function(){var e=this;on(function(n){return e.getAxisMotionValue(n).stop()})},t.prototype.getAxisMotionValue=function(e){var n,r,i="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[i];return s||this.visualElement.getValue(e,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:0)},t.prototype.snapToCursor=function(e){var n=this;on(function(r){var i=n.getProps().drag;if(ml(r,i,n.currentDirection)){var s=n.visualElement.projection,o=n.getAxisMotionValue(r);if(s&&s.layout){var a=s.layout.actual[r],l=a.min,u=a.max;o.set(e[r]-Ce(l,u,.5))}}})},t.prototype.scalePositionWithinConstraints=function(){var e=this,n,r=this.getProps(),i=r.drag,s=r.dragConstraints,o=this.visualElement.projection;if(!(!bi(s)||!o||!this.constraints)){this.stopAnimation();var a={x:0,y:0};on(function(u){var c=e.getAxisMotionValue(u);if(c){var h=c.get();a[u]=DU({min:h,max:h},e.constraints[u])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(n=o.root)===null||n===void 0||n.updateScroll(),o.updateLayout(),this.resolveConstraints(),on(function(u){if(ml(u,i,null)){var c=e.getAxisMotionValue(u),h=e.constraints[u],f=h.min,d=h.max;c.set(Ce(f,d,a[u]))}})}},t.prototype.addListeners=function(){var e=this,n;jU.set(this.visualElement,this);var r=this.visualElement.getInstance(),i=Ki(r,"pointerdown",function(u){var c=e.getProps(),h=c.drag,f=c.dragListener,d=f===void 0?!0:f;h&&d&&e.start(u)}),s=function(){var u=e.getProps().dragConstraints;bi(u)&&(e.constraints=e.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",s);o&&!o.layout&&((n=o.root)===null||n===void 0||n.updateScroll(),o.updateLayout()),s();var l=Yc(window,"resize",function(){return e.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(u){var c=u.delta,h=u.hasLayoutChanged;e.isDragging&&h&&(on(function(f){var d=e.getAxisMotionValue(f);d&&(e.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),e.visualElement.syncRender())}),function(){l(),i(),a()}},t.prototype.getProps=function(){var e=this.visualElement.getProps(),n=e.drag,r=n===void 0?!1:n,i=e.dragDirectionLock,s=i===void 0?!1:i,o=e.dragPropagation,a=o===void 0?!1:o,l=e.dragConstraints,u=l===void 0?!1:l,c=e.dragElastic,h=c===void 0?ap:c,f=e.dragMomentum,d=f===void 0?!0:f;return P(P({},e),{drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:d})},t}();function ml(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zU(t,e){e===void 0&&(e=10);var n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function HU(t){var e=t.dragControls,n=t.visualElement,r=La(function(){return new BU(n)});_.useEffect(function(){return e&&e.subscribe(r)},[r,e]),_.useEffect(function(){return r.addListeners()},[r])}function WU(t){var e=t.onPan,n=t.onPanStart,r=t.onPanEnd,i=t.onPanSessionStart,s=t.visualElement,o=e||n||r||i,a=_.useRef(null),l=_.useContext(Tg).transformPagePoint,u={onSessionStart:i,onStart:n,onMove:e,onEnd:function(h,f){a.current=null,r&&r(h,f)}};_.useEffect(function(){a.current!==null&&a.current.updateHandlers(u)});function c(h){a.current=new BI(h,u,{transformPagePoint:l})}Bu(s,"pointerdown",o&&c),Dg(function(){return a.current&&a.current.end()})}var KU={pan:nr(WU),drag:nr(HU)},gl=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function qU(){var t=gl.map(function(){return new vo}),e={},n={clearAllListeners:function(){return t.forEach(function(r){return r.clear()})},updatePropListeners:function(r){gl.forEach(function(i){var s,o="on"+i,a=r[o];(s=e[i])===null||s===void 0||s.call(e),a&&(e[i]=n[o](a))})}};return t.forEach(function(r,i){n["on"+gl[i]]=function(s){return r.add(s)},n["notify"+gl[i]]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return r.notify.apply(r,Zt([],Ie(s),!1))}}),n}function GU(t,e,n){var r;for(var i in e){var s=e[i],o=n[i];if(Ln(s))t.addValue(i,s);else if(Ln(o))t.addValue(i,ys(s));else if(o!==s)if(t.hasValue(i)){var a=t.getValue(i);!a.hasAnimated&&a.set(s)}else t.addValue(i,ys((r=t.getStaticValue(i))!==null&&r!==void 0?r:s))}for(var i in n)e[i]===void 0&&t.removeValue(i);return e}var GI=function(t){var e=t.treeType,n=e===void 0?"":e,r=t.build,i=t.getBaseTarget,s=t.makeTargetAnimatable,o=t.measureViewportBox,a=t.render,l=t.readValueFromInstance,u=t.removeValueFromRenderState,c=t.sortNodePosition,h=t.scrapeMotionValuesFromProps;return function(f,d){var p=f.parent,y=f.props,S=f.presenceId,g=f.blockInitialAnimation,m=f.visualState,v=f.shouldReduceMotion;d===void 0&&(d={});var w=!1,E=m.latestValues,C=m.renderState,I,T=qU(),k=new Map,N=new Map,W={},z=P({},E),X;function oe(){!I||!w||(me(),a(I,C,y.style,Z.projection))}function me(){r(Z,C,E,d,y)}function Be(){T.notifyUpdate(E)}function Ze(O,$){var ye=$.onChange(function(Ua){E[O]=Ua,y.onUpdate&&en.update(Be,!1,!0)}),nn=$.onRenderRequest(Z.scheduleRender);N.set(O,function(){ye(),nn()})}var b=h(y);for(var j in b){var K=b[j];E[j]!==void 0&&Ln(K)&&K.set(E[j],!1)}var le=Xc(y),ne=FC(y),Z=P(P({treeType:n,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:S,shouldReduceMotion:v,variantChildren:ne?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(p==null?void 0:p.isMounted()),blockInitialAnimation:g,isMounted:function(){return Boolean(I)},mount:function(O){w=!0,I=Z.current=O,Z.projection&&Z.projection.mount(O),ne&&p&&!le&&(X=p==null?void 0:p.addVariantChild(Z)),k.forEach(function($,ye){return Ze(ye,$)}),p==null||p.children.add(Z),Z.setProps(y)},unmount:function(){var O;(O=Z.projection)===null||O===void 0||O.unmount(),vs.update(Be),vs.render(oe),N.forEach(function($){return $()}),X==null||X(),p==null||p.children.delete(Z),T.clearAllListeners(),I=void 0,w=!1},addVariantChild:function(O){var $,ye=Z.getClosestVariantNode();if(ye)return($=ye.variantChildren)===null||$===void 0||$.add(O),function(){return ye.variantChildren.delete(O)}},sortNodePosition:function(O){return!c||n!==O.treeType?0:c(Z.getInstance(),O.getInstance())},getClosestVariantNode:function(){return ne?Z:p==null?void 0:p.getClosestVariantNode()},getLayoutId:function(){return y.layoutId},getInstance:function(){return I},getStaticValue:function(O){return E[O]},setStaticValue:function(O,$){return E[O]=$},getLatestValues:function(){return E},setVisibility:function(O){Z.isVisible!==O&&(Z.isVisible=O,Z.scheduleRender())},makeTargetAnimatable:function(O,$){return $===void 0&&($=!0),s(Z,O,y,$)},measureViewportBox:function(){return o(I,y)},addValue:function(O,$){Z.hasValue(O)&&Z.removeValue(O),k.set(O,$),E[O]=$.get(),Ze(O,$)},removeValue:function(O){var $;k.delete(O),($=N.get(O))===null||$===void 0||$(),N.delete(O),delete E[O],u(O,C)},hasValue:function(O){return k.has(O)},getValue:function(O,$){var ye=k.get(O);return ye===void 0&&$!==void 0&&(ye=ys($),Z.addValue(O,ye)),ye},forEachValue:function(O){return k.forEach(O)},readValue:function(O){var $;return($=E[O])!==null&&$!==void 0?$:l(I,O,d)},setBaseTarget:function(O,$){z[O]=$},getBaseTarget:function(O){if(i){var $=i(y,O);if($!==void 0&&!Ln($))return $}return z[O]}},T),{build:function(){return me(),C},scheduleRender:function(){en.render(oe,!1,!0)},syncRender:oe,setProps:function(O){(O.transformTemplate||y.transformTemplate)&&Z.scheduleRender(),y=O,T.updatePropListeners(O),W=GU(Z,h(y),W)},getProps:function(){return y},getVariant:function(O){var $;return($=y.variants)===null||$===void 0?void 0:$[O]},getDefaultTransition:function(){return y.transition},getTransformPagePoint:function(){return y.transformPagePoint},getVariantContext:function(O){if(O===void 0&&(O=!1),O)return p==null?void 0:p.getVariantContext();if(!le){var $=(p==null?void 0:p.getVariantContext())||{};return y.initial!==void 0&&($.initial=y.initial),$}for(var ye={},nn=0;nn<QU;nn++){var Ua=QI[nn],th=y[Ua];(Gt(th)||th===!1)&&(ye[Ua]=th)}return ye}});return Z}},QI=Zt(["initial"],Ie(Wg),!1),QU=QI.length;function up(t){return typeof t=="string"&&t.startsWith("var(--")}var XI=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function XU(t){var e=XI.exec(t);if(!e)return[,];var n=Ie(e,3),r=n[1],i=n[2];return[r,i]}function cp(t,e,n){var r=Ie(XU(t),2),i=r[0],s=r[1];if(i){var o=window.getComputedStyle(e).getPropertyValue(i);return o?o.trim():up(s)?cp(s,e):s}}function YU(t,e,n){var r,i=gt(e,[]),s=t.getInstance();if(!(s instanceof Element))return{target:i,transitionEnd:n};n&&(n=P({},n)),t.forEachValue(function(u){var c=u.get();if(up(c)){var h=cp(c,s);h&&u.set(h)}});for(var o in i){var a=i[o];if(up(a)){var l=cp(a,s);l&&(i[o]=l,n&&((r=n[o])!==null&&r!==void 0||(n[o]=a)))}}return{target:i,transitionEnd:n}}var JU=new Set(["width","height","top","left","right","bottom","x","y"]),YI=function(t){return JU.has(t)},ZU=function(t){return Object.keys(t).some(YI)},JI=function(t,e){t.set(e,!1),t.set(e)},A1=function(t){return t===di||t===U},P1;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(P1||(P1={}));var R1=function(t,e){return parseFloat(t.split(", ")[e])},N1=function(t,e){return function(n,r){var i=r.transform;if(i==="none"||!i)return 0;var s=i.match(/^matrix3d\((.+)\)$/);if(s)return R1(s[1],e);var o=i.match(/^matrix\((.+)\)$/);return o?R1(o[1],t):0}},e3=new Set(["x","y","z"]),t3=Zo.filter(function(t){return!e3.has(t)});function n3(t){var e=[];return t3.forEach(function(n){var r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.syncRender(),e}var D1={width:function(t,e){var n=t.x,r=e.paddingLeft,i=r===void 0?"0":r,s=e.paddingRight,o=s===void 0?"0":s;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(t,e){var n=t.y,r=e.paddingTop,i=r===void 0?"0":r,s=e.paddingBottom,o=s===void 0?"0":s;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:N1(4,13),y:N1(5,14)},r3=function(t,e,n){var r=e.measureViewportBox(),i=e.getInstance(),s=getComputedStyle(i),o=s.display,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(function(u){a[u]=D1[u](r,s)}),e.syncRender();var l=e.measureViewportBox();return n.forEach(function(u){var c=e.getValue(u);JI(c,a[u]),t[u]=D1[u](l,s)}),t},i3=function(t,e,n,r){n===void 0&&(n={}),r===void 0&&(r={}),e=P({},e),r=P({},r);var i=Object.keys(e).filter(YI),s=[],o=!1,a=[];if(i.forEach(function(c){var h=t.getValue(c);if(t.hasValue(c)){var f=n[c],d=Us(f),p=e[c],y;if(ta(p)){var S=p.length,g=p[0]===null?1:0;f=p[g],d=Us(f);for(var m=g;m<S;m++)y?$u(Us(p[m])===y):y=Us(p[m])}else y=Us(p);if(d!==y)if(A1(d)&&A1(y)){var v=h.get();typeof v=="string"&&h.set(parseFloat(v)),typeof p=="string"?e[c]=parseFloat(p):Array.isArray(p)&&y===U&&(e[c]=p.map(parseFloat))}else d!=null&&d.transform&&(y!=null&&y.transform)&&(f===0||p===0)?f===0?h.set(y.transform(f)):e[c]=d.transform(p):(o||(s=n3(t),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],JI(h,p))}}),a.length){var l=a.indexOf("height")>=0?window.pageYOffset:null,u=r3(e,t,a);return s.length&&s.forEach(function(c){var h=Ie(c,2),f=h[0],d=h[1];t.getValue(f).set(d)}),t.syncRender(),l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function s3(t,e,n,r){return ZU(e)?i3(t,e,n,r):{target:e,transitionEnd:r}}var o3=function(t,e,n,r){var i=YU(t,e,r);return e=i.target,r=i.transitionEnd,s3(t,e,n,r)};function a3(t){return window.getComputedStyle(t)}var ZI={treeType:"dom",readValueFromInstance:function(t,e){if(Ma(e)){var n=Fg(e);return n&&n.default||0}else{var r=a3(t);return(zC(e)?r.getPropertyValue(e):r[e])||0}},sortNodePosition:function(t,e){return t.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(t,e){var n;return(n=t.style)===null||n===void 0?void 0:n[e]},measureViewportBox:function(t,e){var n=e.transformPagePoint;return qI(t,n)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,e,n,r){var i=n.transformValues;r===void 0&&(r=!0);var s=e.transition,o=e.transitionEnd,a=gt(e,["transition","transitionEnd"]),l=pU(a,s||{},t);if(i&&(o&&(o=i(o)),a&&(a=i(a)),l&&(l=i(l))),r){fU(t,a,l);var u=o3(t,a,l,o);o=u.transitionEnd,a=u.target}return P({transition:s,transitionEnd:o},a)},scrapeMotionValuesFromProps:Pg,build:function(t,e,n,r,i){t.isVisible!==void 0&&(e.style.visibility=t.isVisible?"visible":"hidden"),kg(e,n,r,i.transformTemplate)},render:nI},l3=GI(ZI),u3=GI(P(P({},ZI),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return Ma(e)?((n=Fg(e))===null||n===void 0?void 0:n.default)||0:(e=rI.has(e)?e:tI(e),t.getAttribute(e))},scrapeMotionValuesFromProps:sI,build:function(t,e,n,r,i){Ag(e,n,r,i.transformTemplate)},render:iI})),c3=function(t,e){return Cg(t)?u3(e,{enableHardwareAcceleration:!1}):l3(e,{enableHardwareAcceleration:!0})};function O1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}var js={correct:function(t,e){if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;var n=O1(t,e.target.x),r=O1(t,e.target.y);return"".concat(n,"% ").concat(r,"%")}},b1="_$css",h3={correct:function(t,e){var n=e.treeScale,r=e.projectionDelta,i=t,s=t.includes("var("),o=[];s&&(t=t.replace(XI,function(y){return o.push(y),b1}));var a=Mn.parse(t);if(a.length>5)return i;var l=Mn.createTransformer(t),u=typeof a[0]!="number"?1:0,c=r.x.scale*n.x,h=r.y.scale*n.y;a[0+u]/=c,a[1+u]/=h;var f=Ce(c,h,.5);typeof a[2+u]=="number"&&(a[2+u]/=f),typeof a[3+u]=="number"&&(a[3+u]/=f);var d=l(a);if(s){var p=0;d=d.replace(b1,function(){var y=o[p];return p++,y})}return d}},f3=function(t){NS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.visualElement,s=r.layoutGroup,o=r.switchLayoutGroup,a=r.layoutId,l=i.projection;MV(p3),l&&(s!=null&&s.group&&s.group.add(l),o!=null&&o.register&&a&&o.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){n.safeToRemove()}),l.setOptions(P(P({},l.options),{onExitComplete:function(){return n.safeToRemove()}}))),po.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(n){var r=this,i=this.props,s=i.layoutDependency,o=i.visualElement,a=i.drag,l=i.isPresent,u=o.projection;return u&&(u.isPresent=l,a||n.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?u.promote():u.relegate()||en.postRender(function(){var c;!((c=u.getStack())===null||c===void 0)&&c.members.length||r.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var n=this.props,r=n.visualElement,i=n.layoutGroup,s=n.switchLayoutGroup,o=r.projection;o&&(o.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(o),s!=null&&s.deregister&&s.deregister(o))},e.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},e.prototype.render=function(){return null},e}(Xt.Component);function d3(t){var e=Ie(VI(),2),n=e[0],r=e[1],i=_.useContext(_g);return Xt.createElement(f3,P({},t,{layoutGroup:i,switchLayoutGroup:_.useContext(UC),isPresent:n,safeToRemove:r}))}var p3={borderRadius:P(P({},js),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:js,borderTopRightRadius:js,borderBottomLeftRadius:js,borderBottomRightRadius:js,boxShadow:h3},m3={measureLayout:d3};function g3(t,e,n){n===void 0&&(n={});var r=Ln(t)?t:ys(t);return Bg("",r,e,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var ek=["TopLeft","TopRight","BottomLeft","BottomRight"],v3=ek.length,L1=function(t){return typeof t=="string"?parseFloat(t):t},M1=function(t){return typeof t=="number"||U.test(t)};function y3(t,e,n,r,i,s){var o,a,l,u;i?(t.opacity=Ce(0,(o=n.opacity)!==null&&o!==void 0?o:1,w3(r)),t.opacityExit=Ce((a=e.opacity)!==null&&a!==void 0?a:1,0,E3(r))):s&&(t.opacity=Ce((l=e.opacity)!==null&&l!==void 0?l:1,(u=n.opacity)!==null&&u!==void 0?u:1,r));for(var c=0;c<v3;c++){var h="border".concat(ek[c],"Radius"),f=V1(e,h),d=V1(n,h);if(!(f===void 0&&d===void 0)){f||(f=0),d||(d=0);var p=f===0||d===0||M1(f)===M1(d);p?(t[h]=Math.max(Ce(L1(f),L1(d),r),0),(dn.test(d)||dn.test(f))&&(t[h]+="%")):t[h]=d}}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function V1(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}var w3=tk(0,.5,Vg),E3=tk(.5,.95,Lg);function tk(t,e,n){return function(r){return r<t?0:r>e?1:n(na(t,e,r))}}function $1(t,e){t.min=e.min,t.max=e.max}function Wt(t,e){$1(t.x,e.x),$1(t.y,e.y)}function F1(t,e,n,r,i){return t-=e,t=Gu(t,1/n,r),i!==void 0&&(t=Gu(t,1/i,r)),t}function S3(t,e,n,r,i,s,o){if(e===void 0&&(e=0),n===void 0&&(n=1),r===void 0&&(r=.5),s===void 0&&(s=t),o===void 0&&(o=t),dn.test(e)){e=parseFloat(e);var a=Ce(o.min,o.max,e/100);e=a-o.min}if(typeof e=="number"){var l=Ce(s.min,s.max,r);t===s&&(l-=e),t.min=F1(t.min,e,n,l,i),t.max=F1(t.max,e,n,l,i)}}function U1(t,e,n,r,i){var s=Ie(n,3),o=s[0],a=s[1],l=s[2];S3(t,e[o],e[a],e[l],e.scale,r,i)}var T3=["x","scaleX","originX"],_3=["y","scaleY","originY"];function j1(t,e,n,r){U1(t.x,e,T3,n==null?void 0:n.x,r==null?void 0:r.x),U1(t.y,e,_3,n==null?void 0:n.y,r==null?void 0:r.y)}function B1(t){return t.translate===0&&t.scale===1}function nk(t){return B1(t.x)&&B1(t.y)}function rk(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var C3=function(){function t(){this.members=[]}return t.prototype.add=function(e){zg(this.members,e),e.scheduleRender()},t.prototype.remove=function(e){if(Hg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},t.prototype.relegate=function(e){var n=this.members.findIndex(function(o){return e===o});if(n===0)return!1;for(var r,i=n;i>=0;i--){var s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1},t.prototype.promote=function(e,n){var r,i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);var s=e.options.crossfade;s===!1&&i.hide()}},t.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var n,r,i,s,o;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})},t.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}(),I3="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function z1(t,e,n){var r=t.x.translate/e.x,i=t.y.translate/e.y,s="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(s+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),n){var o=n.rotate,a=n.rotateX,l=n.rotateY;o&&(s+="rotate(".concat(o,"deg) ")),a&&(s+="rotateX(".concat(a,"deg) ")),l&&(s+="rotateY(".concat(l,"deg) "))}var u=t.x.scale*e.x,c=t.y.scale*e.y;return s+="scale(".concat(u,", ").concat(c,")"),s===I3?"none":s}var k3=function(t,e){return t.depth-e.depth},x3=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(e){zg(this.children,e),this.isDirty=!0},t.prototype.remove=function(e){Hg(this.children,e),this.isDirty=!0},t.prototype.forEach=function(e){this.isDirty&&this.children.sort(k3),this.isDirty=!1,this.children.forEach(e)},t}(),H1=1e3;function ik(t){var e=t.attachResizeListener,n=t.defaultParent,r=t.measureScroll,i=t.checkIsScrollRoot,s=t.resetTransform;return function(){function o(a,l,u){var c=this;l===void 0&&(l={}),u===void 0&&(u=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){c.isUpdating&&(c.isUpdating=!1,c.clearAllSnapshots())},this.updateProjection=function(){c.nodes.forEach(O3),c.nodes.forEach(b3)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=a,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?Zt(Zt([],Ie(u.path),!1),[u],!1):[],this.parent=u,this.depth=u?u.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new x3)}return o.prototype.addEventListener=function(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new vo),this.eventHandlers.get(a).add(l)},o.prototype.notifyListeners=function(a){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];var c=this.eventHandlers.get(a);c==null||c.notify.apply(c,Zt([],Ie(l),!1))},o.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},o.prototype.registerPotentialNode=function(a,l){this.potentialNodes.set(a,l)},o.prototype.mount=function(a,l){var u=this,c;if(l===void 0&&(l=!1),!this.instance){this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;var h=this.options,f=h.layoutId,d=h.layout,p=h.visualElement;if(p&&!p.getInstance()&&p.mount(a),this.root.nodes.add(this),(c=this.parent)===null||c===void 0||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),l&&(d||f)&&(this.isLayoutDirty=!0),e){var y,S=function(){return u.root.updateBlockedByResize=!1};e(a,function(){u.root.updateBlockedByResize=!0,clearTimeout(y),y=window.setTimeout(S,250),po.hasAnimatedSinceResize&&(po.hasAnimatedSinceResize=!1,u.nodes.forEach(D3))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",function(g){var m,v,w,E,C,I=g.delta,T=g.hasLayoutChanged,k=g.hasRelativeTargetChanged,N=g.layout;if(u.isTreeAnimationBlocked()){u.target=void 0,u.relativeTarget=void 0;return}var W=(v=(m=u.options.transition)!==null&&m!==void 0?m:p.getDefaultTransition())!==null&&v!==void 0?v:F3,z=p.getProps(),X=z.onLayoutAnimationStart,oe=z.onLayoutAnimationComplete,me=!u.targetLayout||!rk(u.targetLayout,N)||k,Be=!T&&k;if(!((w=u.resumeFrom)===null||w===void 0)&&w.instance||Be||T&&(me||!u.currentAnimation)){u.resumeFrom&&(u.resumingFrom=u.resumeFrom,u.resumingFrom.resumingFrom=void 0),u.setAnimationOrigin(I,Be);var Ze=P(P({},jg(W,"layout")),{onPlay:X,onComplete:oe});p.shouldReduceMotion&&(Ze.delay=0,Ze.type=!1),u.startAnimation(Ze)}else!T&&u.animationProgress===0&&u.finishAnimation(),u.isLead()&&((C=(E=u.options).onExitComplete)===null||C===void 0||C.call(E));u.targetLayout=N})}},o.prototype.unmount=function(){var a,l;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(a=this.getStack())===null||a===void 0||a.remove(this),(l=this.parent)===null||l===void 0||l.children.delete(this),this.instance=void 0,vs.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,(a=this.nodes)===null||a===void 0||a.forEach(L3))},o.prototype.willUpdate=function(a){var l,u,c;if(a===void 0&&(a=!0),this.root.isUpdateBlocked()){(u=(l=this.options).onExitComplete)===null||u===void 0||u.call(l);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var h=0;h<this.path.length;h++){var f=this.path[h];f.shouldResetTransform=!0,f.updateScroll()}var d=this.options,p=d.layoutId,y=d.layout;if(!(p===void 0&&!y)){var S=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=S==null?void 0:S(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var a=this.isUpdateBlocked();if(a){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W1);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(U3),this.potentialNodes.clear()),this.nodes.forEach(N3),this.nodes.forEach(A3),this.nodes.forEach(P3),this.clearAllSnapshots(),ff.update(),ff.preRender(),ff.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(R3),this.sharedNodes.forEach(M3)},o.prototype.scheduleUpdateProjection=function(){en.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var a=this;en.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var a=this.measure(),l=this.removeTransform(this.removeElementScroll(a));Q1(l),this.snapshot={measured:a,layout:l,latestValues:{}}}},o.prototype.updateLayout=function(){var a;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var l=0;l<this.path.length;l++){var u=this.path[l];u.updateScroll()}var c=this.measure();Q1(c);var h=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(a=this.options.visualElement)===null||a===void 0||a.notifyLayoutMeasure(this.layout.actual,h==null?void 0:h.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))},o.prototype.resetTransform=function(){var a;if(s){var l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!nk(this.projectionDelta),c=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate,h=c==null?void 0:c(this.latestValues,""),f=h!==this.prevTransformTemplateValue;l&&(u||zn(this.latestValues)||f)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var a=this.options.visualElement;if(!a)return nt();var l=a.measureViewportBox(),u=this.root.scroll;return u&&(qn(l.x,u.x),qn(l.y,u.y)),l},o.prototype.removeElementScroll=function(a){var l=nt();Wt(l,a);for(var u=0;u<this.path.length;u++){var c=this.path[u],h=c.scroll,f=c.options,d=c.isScrollRoot;if(c!==this.root&&h&&f.layoutScroll){if(d){Wt(l,a);var p=this.root.scroll;p&&(qn(l.x,-p.x),qn(l.y,-p.y))}qn(l.x,h.x),qn(l.y,h.y)}}return l},o.prototype.applyTransform=function(a,l){l===void 0&&(l=!1);var u=nt();Wt(u,a);for(var c=0;c<this.path.length;c++){var h=this.path[c];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Li(u,{x:-h.scroll.x,y:-h.scroll.y}),zn(h.latestValues)&&Li(u,h.latestValues)}return zn(this.latestValues)&&Li(u,this.latestValues),u},o.prototype.removeTransform=function(a){var l,u=nt();Wt(u,a);for(var c=0;c<this.path.length;c++){var h=this.path[c];if(h.instance&&zn(h.latestValues)){WI(h.latestValues)&&h.updateSnapshot();var f=nt(),d=h.measure();Wt(f,d),j1(u,h.latestValues,(l=h.snapshot)===null||l===void 0?void 0:l.layout,f)}}return zn(this.latestValues)&&j1(u,this.latestValues),u},o.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(a){var l;this.options=P(P(P({},this.options),a),{crossfade:(l=a.crossfade)!==null&&l!==void 0?l:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var a,l=this.options,u=l.layout,c=l.layoutId;!this.layout||!(u||c)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),wo(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Wt(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&(!((a=this.relativeParent)===null||a===void 0)&&a.target)?AU(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Wt(this.target,this.layout.actual),KI(this.target,this.targetDelta)):Wt(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),wo(this.relativeTargetOrigin,this.target,this.relativeParent.target),Wt(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||zn(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var a,l=this.options,u=l.layout,c=l.layoutId;if(this.isTreeAnimating=Boolean(((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(u||c))){var h=this.getLead();Wt(this.layoutCorrected,this.layout.actual),VU(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==h);var f=h.target;if(f){this.projectionDelta||(this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo());var d=this.treeScale.x,p=this.treeScale.y,y=this.projectionTransform;yo(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=z1(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(a){var l,u,c;a===void 0&&(a=!0),(u=(l=this.options).scheduleRender)===null||u===void 0||u.call(l),a&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(a,l){var u=this,c;l===void 0&&(l=!1);var h=this.snapshot,f=(h==null?void 0:h.latestValues)||{},d=P({},this.latestValues),p=Eo();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!l;var y=nt(),S=h==null?void 0:h.isShared,g=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,m=Boolean(S&&!g&&this.options.crossfade===!0&&!this.path.some($3));this.animationProgress=0,this.mixTargetDelta=function(v){var w,E=v/1e3;K1(p.x,a.x,E),K1(p.y,a.y,E),u.setTargetDelta(p),u.relativeTarget&&u.relativeTargetOrigin&&u.layout&&(!((w=u.relativeParent)===null||w===void 0)&&w.layout)&&(wo(y,u.layout.actual,u.relativeParent.layout.actual),V3(u.relativeTarget,u.relativeTargetOrigin,y,E)),S&&(u.animationValues=d,y3(d,f,u.latestValues,E,m,g)),u.root.scheduleUpdateProjection(),u.scheduleRender(),u.animationProgress=E},this.mixTargetDelta(0)},o.prototype.startAnimation=function(a){var l=this,u,c;this.notifyListeners("animationStart"),(u=this.currentAnimation)===null||u===void 0||u.stop(),this.resumingFrom&&((c=this.resumingFrom.currentAnimation)===null||c===void 0||c.stop()),this.pendingAnimation&&(vs.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=en.update(function(){po.hasAnimatedSinceResize=!0,l.currentAnimation=g3(0,H1,P(P({},a),{onUpdate:function(h){var f;l.mixTargetDelta(h),(f=a.onUpdate)===null||f===void 0||f.call(a,h)},onComplete:function(){var h;(h=a.onComplete)===null||h===void 0||h.call(a),l.completeAnimation()}})),l.resumingFrom&&(l.resumingFrom.currentAnimation=l.currentAnimation),l.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(a=this.getStack())===null||a===void 0||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var a;this.currentAnimation&&((a=this.mixTargetDelta)===null||a===void 0||a.call(this,H1),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var a=this.getLead(),l=a.targetWithTransforms,u=a.target,c=a.layout,h=a.latestValues;!l||!u||!c||(Wt(l,u),Li(l,h),yo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h))},o.prototype.registerSharedNode=function(a,l){var u,c,h;this.sharedNodes.has(a)||this.sharedNodes.set(a,new C3);var f=this.sharedNodes.get(a);f.add(l),l.promote({transition:(u=l.options.initialPromotionConfig)===null||u===void 0?void 0:u.transition,preserveFollowOpacity:(h=(c=l.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||h===void 0?void 0:h.call(c,l)})},o.prototype.isLead=function(){var a=this.getStack();return a?a.lead===this:!0},o.prototype.getLead=function(){var a,l=this.options.layoutId;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this},o.prototype.getPrevLead=function(){var a,l=this.options.layoutId;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0},o.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},o.prototype.promote=function(a){var l=a===void 0?{}:a,u=l.needsReset,c=l.transition,h=l.preserveFollowOpacity,f=this.getStack();f&&f.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})},o.prototype.relegate=function(){var a=this.getStack();return a?a.relegate(this):!1},o.prototype.resetRotation=function(){var a=this.options.visualElement;if(a){for(var l=!1,u={},c=0;c<Qd.length;c++){var h=Qd[c],f="rotate"+h;a.getStaticValue(f)&&(l=!0,u[f]=a.getStaticValue(f),a.setStaticValue(f,0))}if(l){a==null||a.syncRender();for(var f in u)a.setStaticValue(f,u[f]);a.scheduleRender()}}},o.prototype.getProjectionStyles=function(a){var l,u,c,h,f,d;a===void 0&&(a={});var p={};if(!this.instance||this.isSVG)return p;if(this.isVisible)p.visibility="";else return{visibility:"hidden"};var y=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=$l(a.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;var S=this.getLead();if(!this.projectionDelta||!this.layout||!S.target){var g={};return this.options.layoutId&&(g.opacity=(u=this.latestValues.opacity)!==null&&u!==void 0?u:1,g.pointerEvents=$l(a.pointerEvents)||""),this.hasProjected&&!zn(this.latestValues)&&(g.transform=y?y({},""):"none",this.hasProjected=!1),g}var m=S.animationValues||S.latestValues;this.applyTransformsToTarget(),p.transform=z1(this.projectionDeltaWithTransform,this.treeScale,m),y&&(p.transform=y(m,p.transform));var v=this.projectionDelta,w=v.x,E=v.y;p.transformOrigin="".concat(w.origin*100,"% ").concat(E.origin*100,"% 0"),S.animationValues?p.opacity=S===this?(h=(c=m.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:p.opacity=S===this?(f=m.opacity)!==null&&f!==void 0?f:"":(d=m.opacityExit)!==null&&d!==void 0?d:0;for(var C in Uu)if(m[C]!==void 0){var I=Uu[C],T=I.correct,k=I.applyTo,N=T(m[C],S);if(k)for(var W=k.length,z=0;z<W;z++)p[k[z]]=N;else p[C]=N}return this.options.layoutId&&(p.pointerEvents=S===this?$l(a.pointerEvents)||"":"none"),p},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(W1),this.root.sharedNodes.clear()},o}()}function A3(t){t.updateLayout()}function P3(t){var e,n,r,i,s=(n=(e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&n!==void 0?n:t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){var o=t.layout,a=o.actual,l=o.measured;t.options.animationType==="size"?on(function(m){var v=s.isShared?s.measured[m]:s.layout[m],w=Vn(v);v.min=a[m].min,v.max=v.min+w}):t.options.animationType==="position"&&on(function(m){var v=s.isShared?s.measured[m]:s.layout[m],w=Vn(a[m]);v.max=v.min+w});var u=Eo();yo(u,a,s.layout);var c=Eo();s.isShared?yo(c,t.applyTransform(l,!0),s.measured):yo(c,a,s.layout);var h=!nk(u),f=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var d=t.relativeParent,p=d.snapshot,y=d.layout;if(p&&y){var S=nt();wo(S,s.layout,p.layout);var g=nt();wo(g,a,y.actual),rk(S,g)||(f=!0)}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:f})}else t.isLead()&&((i=(r=t.options).onExitComplete)===null||i===void 0||i.call(r));t.options.transition=void 0}function R3(t){t.clearSnapshot()}function W1(t){t.clearMeasurements()}function N3(t){var e=t.options.visualElement;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function D3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function O3(t){t.resolveTargetDelta()}function b3(t){t.calcProjection()}function L3(t){t.resetRotation()}function M3(t){t.removeLeadSnapshot()}function K1(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q1(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function V3(t,e,n,r){q1(t.x,e.x,n.x,r),q1(t.y,e.y,n.y,r)}function $3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}var F3={duration:.45,ease:[.4,0,.1,1]};function U3(t,e){for(var n=t.root,r=t.path.length-1;r>=0;r--)if(Boolean(t.path[r].instance)){n=t.path[r];break}var i=n&&n!==t.root?n.instance:document,s=i.querySelector('[data-projection-id="'.concat(e,'"]'));s&&t.mount(s,!0)}function G1(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Q1(t){G1(t.x),G1(t.y)}var j3=ik({attachResizeListener:function(t,e){return Yc(t,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),yf={current:void 0},B3=ik({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!yf.current){var t=new j3(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),yf.current=t}return yf.current},resetTransform:function(t,e){t.style.transform=e??"none"},checkIsScrollRoot:function(t){return Boolean(window.getComputedStyle(t).position==="fixed")}}),z3=P(P(P(P({},IU),BF),KU),m3),hp=bV(function(t,e){return E$(t,e,z3,c3,B3)});function sk(){var t=_.useRef(!1);return Fu(function(){return t.current=!0,function(){t.current=!1}},[]),t}function H3(){var t=sk(),e=Ie(_.useState(0),2),n=e[0],r=e[1],i=_.useCallback(function(){t.current&&r(n+1)},[n]),s=_.useCallback(function(){return en.postRender(i)},[i]);return[s,n]}var wf=function(t){var e=t.children,n=t.initial,r=t.isPresent,i=t.onExitComplete,s=t.custom,o=t.presenceAffectsLayout,a=La(W3),l=MI(),u=_.useMemo(function(){return{id:l,initial:n,isPresent:r,custom:s,onExitComplete:function(c){var h,f;a.set(c,!0);try{for(var d=HR(a.values()),p=d.next();!p.done;p=d.next()){var y=p.value;if(!y)return}}catch(S){h={error:S}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(h)throw h.error}}i==null||i()},register:function(c){return a.set(c,!1),function(){return a.delete(c)}}}},o?void 0:[r]);return _.useMemo(function(){a.forEach(function(c,h){return a.set(h,!1)})},[r]),_.useEffect(function(){!r&&!a.size&&(i==null||i())},[r]),_.createElement(ba.Provider,{value:u},e)};function W3(){return new Map}var wi=function(t){return t.key||""};function K3(t,e){t.forEach(function(n){var r=wi(n);e.set(r,n)})}function q3(t){var e=[];return _.Children.forEach(t,function(n){_.isValidElement(n)&&e.push(n)}),e}var G3=function(t){var e=t.children,n=t.custom,r=t.initial,i=r===void 0?!0:r,s=t.onExitComplete,o=t.exitBeforeEnter,a=t.presenceAffectsLayout,l=a===void 0?!0:a,u=Ie(H3(),1),c=u[0],h=_.useContext(_g).forceRender;h&&(c=h);var f=sk(),d=q3(e),p=d,y=new Set,S=_.useRef(p),g=_.useRef(new Map).current,m=_.useRef(!0);if(Fu(function(){m.current=!1,K3(d,g),S.current=p}),Dg(function(){m.current=!0,g.clear(),y.clear()}),m.current)return _.createElement(_.Fragment,null,p.map(function(T){return _.createElement(wf,{key:wi(T),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:l},T)}));p=Zt([],Ie(p),!1);for(var v=S.current.map(wi),w=d.map(wi),E=v.length,C=0;C<E;C++){var I=v[C];w.indexOf(I)===-1&&y.add(I)}return o&&y.size&&(p=[]),y.forEach(function(T){if(w.indexOf(T)===-1){var k=g.get(T);if(k){var N=v.indexOf(T),W=function(){g.delete(T),y.delete(T);var z=S.current.findIndex(function(X){return X.key===T});if(S.current.splice(z,1),!y.size){if(S.current=d,f.current===!1)return;c(),s&&s()}};p.splice(N,0,_.createElement(wf,{key:wi(k),isPresent:!1,onExitComplete:W,custom:n,presenceAffectsLayout:l},k))}}}),p=p.map(function(T){var k=T.key;return y.has(k)?T:_.createElement(wf,{key:wi(T),isPresent:!0,presenceAffectsLayout:l},T)}),Sg!=="production"&&o&&p.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),_.createElement(_.Fragment,null,y.size?p:p.map(function(T){return _.cloneElement(T)}))};const Q3="https://image.tmdb.org/t/p/w1280",X3="https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg",Kg=t=>{const[e,n]=_.useState(!1),r={backgroundImage:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.7))"};return D(fu,{to:`/movie/${t.id}`,children:ue(hp.div,{onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),whileHover:{y:-3},whileTap:{y:0},className:"flex w-64 shadow-lg overflow-hidden flex-col m-3 relative",children:[D("img",{alt:`${t.title}'s poster`,className:"object-cover w-64",src:t.img?`${Q3}/${t.img}`:X3}),e&&D(hp.div,{animate:{y:0},initial:{y:10},className:"absolute bottom-0 w-64 mt-6 bg-gradient-to-t from-black text-white p-3",children:D("h2",{className:"text-md",children:t.title})}),t.score&&D("div",{style:r,className:"absolute top-2 right-2 h-8 w-8 flex justify-center items-center rounded-[50%] p-1 text-amber-500 text-xs border-gray-700 border-2 bg-gray-800",children:t.score})]})})},ia=t=>{const e="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2";return D("div",{children:D("img",{alt:"Loading...",className:t.isAbsolute?e:"",src:"https://www.uzunkoprutb.org.tr/en/img/loader.gif"})})},X1=t=>`https://api.themoviedb.org/3/discover/movie?sort_by=${t}&api_key=3fd2be6f0c70a2a598f084ddfb75487c&page=`,Y1=["popularity.desc","vote_average.desc&vote_count.gte=200","release_date.desc","revenue.desc"],J1=["Popular","Top Rated","Upcoming","Top Grossing"],Y3=()=>{const[t,e]=_.useState(1),[n,r]=_.useState([]),[i,s]=_.useState(!1),[o,a]=_.useState(0),l=_.useRef(1);_.useEffect(()=>{document.title="Cinematic",s(!1),l.current=1,gs.get(`${X1(Y1[o])}${l.current}`).then(d=>{e(d.data.total_pages),r(d.data.results),s(!0)})},[o]);const u=d=>{l.current=l.current+1,gs.get(`${X1(Y1[o])}${d}`).then(p=>r(y=>[...y,...p.data.results])).catch(p=>console.log(p))},c={backgroundImage:"url('https://cdn.wallpapersafari.com/73/59/V06ozM.jpg')",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},h=n.map(d=>D(Kg,{id:d.id,img:d.poster_path,score:d.vote_average,title:d.title},d.id)),f=J1.map((d,p)=>D("button",{className:`py-3 px-6 bg-green-600 text-white my-1 mx-3 rounded-3xl ${p===o?"border-white border-2 border-spacing-3":""}`,onClick:()=>a(p),children:d},p));return ue("div",{className:"flex flex-col items-center pb-5 min-h-screen",style:c,children:[D("div",{className:"flex flex-wrap justify-center my-5",children:f}),ue("h1",{className:"text-2xl my-3 text-white",children:[J1[o]," Movies"]}),D("div",{className:"flex flex-wrap justify-center",children:D(Vu,{className:"relative flex flex-wrap justify-center",pageStart:1,loadMore:u,hasMore:l.current<t,loader:D(ia,{isAbsolute:!1},0),children:i?h:D(ia,{isAbsolute:!0})})})]})};function J3(t){return Fn({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}}]})(t)}function Z3(t){return Fn({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"}}]})(t)}const e4=()=>ue("div",{className:"bg-slate-900 text-gray-400 flex flex-col justify-center items-center h-32",children:[D("div",{className:"mb-4",children:"Built by Maitray Bhardwaj"}),ue("div",{className:"flex",children:[D("a",{href:"https://github.com/MaitrayBhardwaj",className:"mx-1",target:"_blank",rel:"noreferrer",children:D(J3,{})}),D("a",{href:"https://linkedin.com/in/maitray-bhardwaj",className:"mx-1",target:"_blank",rel:"noreferrer",children:D(Z3,{})})]})]});function t4(t){return Fn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"}}]})(t)}const n4=({message:t})=>D(hp.div,{animate:{y:0},initial:{y:-150},exit:{y:-150},className:"fixed top-16 left-1/4 text-center right-1/4 text-white z-10 p-3 bg-black",children:t}),r4="https://image.tmdb.org/t/p/w1280/",i4=t=>{let e=t.avatar;return e&&(e.startsWith("/http")?e=e.slice(1):(e.startsWith("/")&&(e=e.slice(1)),e=`${r4}${e}`)),ue("div",{className:"bg-slate-800 p-2 text-white my-2 rounded",children:[ue("div",{className:"flex items-center",children:[t.avatar&&D("img",{src:e,className:"w-8 h-8 mr-2 rounded-3xl"}),ue("span",{className:"font-bold",children:[t.author," says"]})]}),t.content.substring(0,250),"..."]})},s4=t=>`https://api.themoviedb.org/3/movie/${t}?api_key=3fd2be6f0c70a2a598f084ddfb75487c&language=en-US`,o4=t=>`https://api.themoviedb.org/3/movie/${t}/reviews?api_key=3fd2be6f0c70a2a598f084ddfb75487c&language=en-US`,Z1="https://image.tmdb.org/t/p/w1280/",a4="https://2gyntc2a2i9a22ifya16a222-wpengine.netdna-ssl.com/wp-content/uploads/sites/29/2014/12/Image-Not-Available.jpg",l4=()=>{const[t,e]=_.useState({genres:[]}),[n,r]=_.useState([]),[i,s]=_.useState(!1),[o,a]=_.useState(!1),[l,u]=_.useState(!1),{movieID:c}=pS(),h=fc(),{user:f}=_.useContext(dc);_.useEffect(()=>{if(document.title="Loading...",gs.get(s4(c)).then(m=>{e(m.data),s(!0),document.title=m.data.title}).catch(m=>{h("/not_found")}),gs.get(o4(c)).then(m=>{r(m.data.results.slice(0,4))}),f){const m=ho(fo,"watchlists",f==null?void 0:f.uid);pC(m).then(v=>{const{list:w}=v.data();for(let E of w)if(E.movieID==c){a(!0);break}})}},[c,f]);const d=async()=>{const m=ho(fo,"watchlists",f.uid),v={movieID:t.id,movieName:t.title,moviePoster:t.poster_path};S0(m,{list:KL(v)}).then(()=>{a(!0),u(()=>(setTimeout(()=>u(!1),2500),!0))})},p=async()=>{const m=ho(fo,"watchlists",f.uid),v={movieID:t.id,movieName:t.title,moviePoster:t.poster_path};S0(m,{list:qL(v)}).then(()=>{a(!1),u(()=>(setTimeout(()=>u(!1),2500),!0))})},y={backgroundImage:`linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.8)), url(${Z1}${t==null?void 0:t.backdrop_path})`,backgrounSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},S=t==null?void 0:t.genres.map(m=>D("div",{className:"bg-white cursor-pointer text-slate-900 my-2 hover:bg-slate-900 hover:text-white py-2 px-4 mr-2 rounded-full",children:m.name},m.id)),g=n.map(m=>D(i4,{avatar:m.author_details.avatar_path,author:m.author,content:m.content},m.id));return D("div",{className:"py-8 text-lg px-12 relative mx-0 min-h-screen bg-slate-700",style:y,children:i?ue(Nk,{children:[ue("section",{className:"text-white flex flex-col body-font",children:[D(G3,{children:l&&D(n4,{message:o?"Added to watchlist":"Removed from watchlist"})}),ue("div",{className:"container flex-col flex p-2 lg:flex-row md:items-start items-center",children:[D("div",{children:D("img",{className:"object-cover object-center w-64 h-96 rounded",alt:"poster",src:t.poster_path?`${Z1}/${t.poster_path}`:a4})}),ue("div",{className:"lg:flex-grow md:w-1/2 flex flex-col md:items-start md:text-left items-center text-center lg:ml-5 md:ml-0",children:[D("h1",{className:"title-font w-full sm:text-6xl my-3 text-5xl mb-4 font-medium text-white",children:t.title}),f&&ue("button",{onClick:o?p:d,className:`${o?"bg-red-600":"bg-green-600"} text-md p-1 my-2 flex items-center rounded-md text-white`,children:[o?D(SP,{className:"mx-1"}):D(TP,{className:"mx-1"}),D("span",{className:"mx-1",children:o?"Remove from watchlist":"Add to Watchlist"})]}),D("p",{className:"font-bold",children:t.tagline}),D("p",{className:"mb-8 my-3 text-left pt-2 pb-1 md:w-[80vw] lg:w-[65vw]",children:t.overview}),ue("div",{className:"flex items-center text-2xl",children:[D("a",{href:`https://www.imdb.com/title/${t.imdb_id}`,rel:"noreferrer",target:"_blank",children:D(EP,{className:"text-3xl mr-3"})}),D("a",{href:t.homepage,rel:"noreferrer",target:"_blank",children:D(t4,{className:"mr-3"})})]})]})]}),ue("div",{children:[D("div",{className:"flex flex-wrap my-2 justify-center",children:S}),ue("div",{children:[D("h3",{className:"text-3xl mb-2",children:"Reviews"}),D("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:g})]})]})]}),D("div",{className:"bg-slate-700 flex justify-center items-center h-12 w-12 text-amber-400 absolute top-2 p-2 right-6 rounded-[50%] border-2 border-gray-500",children:Math.round(t.vote_average*100)/100})]}):D(ia,{isAbsolute:!0})})},ew=(t,e=1)=>`https://api.themoviedb.org/3/search/movie?api_key=3fd2be6f0c70a2a598f084ddfb75487c&query=${t}&page=${e}`,u4=()=>{const[t,e]=_.useState(1),[n,r]=_.useState([]),[i,s]=_.useState(!1),{query:o}=pS(),a=_.useRef(1);_.useEffect(()=>{document.title=`Search - "${o}"`,gs.get(ew(o)).then(h=>{e(h.data.total_pages),r(h.data.results),s(!0)})},[o]);const l=h=>{a.current=a.current+1,gs.get(ew(o,h)).then(f=>r(d=>[...d,...f.data.results]))},u=n.map(h=>D(Kg,{id:h.id,img:h.poster_path,score:h.vote_average,title:h.title,releaseDate:h.release_date},h.id));return ue("div",{className:"flex flex-col pb-5 min-h-screen",style:{backgroundImage:"url('https://cdn.wallpapersafari.com/73/59/V06ozM.jpg')",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[ue("h1",{className:"text-2xl my-3 text-center text-white",children:['Search results for "',o,'"']}),D("div",{className:"flex flex-wrap justify-center",children:D(Vu,{className:"relative flex flex-wrap justify-center",pageStart:1,loadMore:l,hasMore:a.current<t,loader:D(ia,{isAbsolute:!1},0),children:i?u:D(ia,{isAbsolute:!0})})})]})},c4=()=>{const[t,e]=_.useState([]),n=fc(),{user:r}=_.useContext(dc);_.useEffect(()=>{if(r){document.title="Your Watchlist";const o=ho(fo,"watchlists",r==null?void 0:r.uid);pC(o).then(a=>{const{list:l}=a.data();e(l)})}else n("/not_found")},[r,n]);const i=t.map(o=>D(Kg,{id:o.movieID,img:o.moviePoster,title:o.movieName},o.movieID));return ue("div",{className:"min-h-screen p-2 flex flex-col items-center",style:{backgroundImage:"url('https://cdn.wallpapersafari.com/73/59/V06ozM.jpg')",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[D("h1",{className:"text-3xl my-3 text-white",children:"Your Watchlist"}),D("div",{className:"flex flex-wrap justify-center",children:i})]})},h4=()=>(_.useEffect(()=>{document.title="Error"}),ue("div",{className:"min-h-screen text-white text-center flex flex-col items-center",style:{backgroundImage:"url('https://cdn.wallpapersafari.com/73/59/V06ozM.jpg')",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},children:[D("h1",{className:"text-3xl my-12",children:"You find yourself in a weird place."}),D("p",{className:"text-md my-12",children:"The link you followed may be broken, or the page may have been removed or you aren't allowed to access it."}),D(fu,{to:"/",children:"Go back to Cinematic."})]}));function f4(){const[t,e]=_.useState(null);return D(fP,{children:D(dc.Provider,{value:{user:t,setUser:e},children:ue("div",{className:"flex text-lg overflow-x-hidden flex-col",children:[D(ZL,{}),ue(uP,{children:[D(yi,{path:"/watchlist",element:D(c4,{})}),D(yi,{path:"/search/:query",element:D(u4,{})}),D(yi,{path:"/movie/:movieID",element:D(l4,{})}),D(yi,{path:"/",exact:!0,element:D(Y3,{})}),D(yi,{path:"*",element:D(h4,{})})]}),D(e4,{})]})})})}const d4=Ef.createRoot(document.getElementById("root"));d4.render(D(f4,{}));
